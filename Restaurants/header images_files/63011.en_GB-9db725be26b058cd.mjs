(self.modernJsonp=self.modernJsonp||[]).push([["63011"],{71697:function(e,t,n){var o,s;n.r(t),n.d(t,{default:()=>a});let i={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};i.hash="d6f840c748407c7aa62123d5beac3239";let a=i},53713:function(e,t,n){n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};o.hash="0e2c441822700a6145ea7cd142c0425b";let s=o},943751:function(e,t,n){n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let s=o},413044:function(e,t,n){n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};o.hash="8d95294efe15498023c69669c6a41e71";let s=o},954881:function(e,t,n){n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};o.hash="f459445ee8d1ea0db022e490ef5a2e80";let s=o},99643:function(e,t,n){n.d(t,{b:()=>l,m:()=>r});var o=n(667294),s=n(213491),i=n(785893);let{Provider:a,get:r}=(0,s.Z)("LensContext");function l({children:e}){let[t,n]=(0,o.useState)(),[s,r]=(0,o.useState)(!1);return(0,i.jsx)(a,{value:{preparedImage:t,isPopoverOpen:s,setPreparedImage:n,setIsPopoverOpen:r},children:e})}},131391:function(e,t,n){n.d(t,{Z:()=>o});let o=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},53596:function(e,t,n){n.d(t,{Z:()=>o});let o='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},465077:function(e,t,n){n.d(t,{Z:()=>z});var o=n(686659),s=n(667294),i=n(399353),a=n(230201),r=n(943152),l=n(935059),c=n(67077),u=n(565758),d=n(108930),p=n(320725),h=n(114870),_=n(24246),m=n(236906),f=n(968960),g=n(661376),b=n(247387),x=n(145626),y=n(402191),v=n(505633),w=n(104999),P=n(504644),A=n(792559),C=n(696749),k=n(484125);let j=["chrome","windows"];var S=n(841353),Z=n(785893);function z({onDismiss:e,handleFocus:t,advertiser:n,showAdsSupportOption:z,isWwwSite:I,isImportContentEnabled:B}){(0,s.useEffect)(()=>{(0,o.Z)("HeaderAccountsOptionsDropdown","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsDropdown.tsx")},[]);let T=(0,l.Z)(),L=(0,_.Z)(),{logContextEvent:E}=(0,a.u)(),{isLoaded:M,data:R}=(0,g.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:D,data:F}=(0,g.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:O=!1}=R||{},{handleShowReportBugModal:N}=(0,S.P)(),H=(0,p.Z)(),U=function(){let e=(0,_.Z)(),t=(0,s.use)(k.Z),n=(0,P.kM)(window,t),o=(0,w.Z)(),i=e=>{o({component:247,element:e,event_type:101})},a=(0,C.Z)(e.bt("Install the {{appName}} app", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,A.Z)(n)});return j.includes(n)?{onClick:()=>{if("windows"===n)i(11409),(0,v.Z)(`${b.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(i(11410),e.prompt())}},text:a}:null}(),W=T.isAuth&&!!T.isEmployee,$=!!T.isAuth&&T.isPartner,G=T.isAuth&&!!T.teenSafetyOptionsUrl,V=!!T.isAuth&&!T.isLimitedLogin,K=T.isAuth?T.id:void 0,q=(0,r.Z)(),{fetchedUserAccounts:J,handleAccountRepClick:Y,handleAddSecondaryAccount:X,handleClick:Q,handleLinkedAccountSwitch:ee,handleUnlockBusinessTools:et,isLoading:en,showUnlockBusinessTools:eo}=(0,h.Z)(e,I),es=(0,d.Z)(),ei=J.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),ea=J.find(e=>e.id===(T.isAuth&&T.id)),er=T.isAuth&&T.partner?.is_linked_business;er&&(ei=ei.sort(e=>ea?.owners?.some(t=>t.id===e.id)?-1:1));let el=en&&(0,Z.jsx)(m.Z,{}),ec=ea?.businesses?.length?ea.businesses.map(e=>K!==e.id&&(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>ee(e,ea.id),option:es.lbaAccountSwitch(e),children:(0,Z.jsx)(u.Z,{user:e},e.id)},e.id)):null,eu=ei.map(e=>e.id!==K?[(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",onSelect:()=>Y(e),option:es.parentAccount(e),children:(0,Z.jsx)(u.Z,{isCurrentAccount:K===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>K!==t.id&&(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>ee(t,e.id),option:es.businessAccount(t),children:(0,Z.jsx)(u.Z,{user:t},t.id)},t.id)):[]]:null),ed=I&&(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:X,option:es.addAccount}),ep=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:X,option:es.addAccount}),eh=eo&&(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-business-account",href:T.isAuth?"https://www.pinterest.com/convert-business":`${b.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`,onClick:et,option:es.convertToBusiness}),e_=(0,Z.jsx)(i.Lt.Link,{href:b.zXf,onClick:({event:e})=>{e.preventDefault(),Q(15983),t()},option:es.accountClaiming}),em=B?(0,Z.jsx)(i.Lt.Link,{href:b.RMT,onClick:({event:e})=>{e.preventDefault(),Q(18167),t()},option:es.importContent}):null,ef=M&&O&&(0,Z.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:()=>{Q(13606),t()},option:es.contentClaiming}),eg=W&&(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{N(),Q(13607),e()},option:es.reportBug}),eb=(0,Z.jsx)(i.Lt.Link,{accessibilityRole:"unset",dataTestId:"header-menu-options-settings",href:V?`https://${(0,c.Z)()}/settings`:"",onClick:({event:e})=>{if(q){e.stopPropagation(),q();return}Q(247),t()},option:es.settings}),ex=(0,Z.jsx)(i.Lt.Link,{href:V?"/edit":"",onClick:({event:e})=>{if(q){e.stopPropagation(),q();return}Q(11345),t()},option:es.homefeedTuner},"header-menu-options-homefeed-tuner"),ey=!$&&U?(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{U.onClick(),e()},option:es.installApp(U.text)}):null,ev=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",href:V?`https://${(0,c.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(q){e.stopPropagation(),q();return}Q(13334),t()},option:es.settingsPrivacy}),ew=(0,Z.jsx)(i.Lt.Link,{href:V?"/reports-and-violations":"",onClick:({event:e})=>{if(q){e.stopPropagation(),q();return}Q(14618),t()},option:es.reportsAndViolationsCenter}),eP=G?(0,Z.jsx)(i.Lt.Link,{href:T.teenSafetyOptionsUrl??"",iconEnd:"external-link",onClick:()=>{E({event_type:101,element:14321}),Q(14321),t()},option:es.teenSafetyResources}):null,eA=$&&z&&(!n||(0,f.Z)((n||{}).actions||[],7))&&(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:b.JbB,iconEnd:"external-link",onClick:()=>{Q(10106),t()},option:es.adsSupport}),eC=$?(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:b.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"external-link",onClick:()=>{Q(11345),t()},option:es.requestFeature}):null,ek=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",href:`${b.gOE}?source=gear_menu_web`,iconEnd:"external-link",onClick:()=>{Q(8002),t()},option:es.getHelp}),ej=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",href:b.U5h,iconEnd:"external-link",onClick:()=>{Q(61),t()},option:es.termsOfService}),eS=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",href:b.R_9,iconEnd:"external-link",onClick:()=>{Q(8004),t()},option:es.privacyPolicy}),eZ=(0,Z.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"external-link",onClick:()=>{Q(13613),t()},option:es.betaTester},"header-menu-options-beta-tester"),ez=(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",dataTestId:"header-menu-options-logout",onSelect:H,option:es.logOut}),eI=(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[el,ec,eu,D&&!F?.opt_in_private_account&&ed,ez]},"your-accounts"),eB=(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[el,ec,eu,D&&!F?.opt_in_private_account&&ep,eb]},"your-accounts"),eT=(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Content", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[em,ef,e_,ew,ey]}),eL=(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Help", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[eP,ek,eA,eC,eg]}),eE=(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Privacy", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[eS,ev]}),eM=(0,Z.jsxs)(i.Lt.Section,{label:"",children:[ej,ez]});return{currentlyIn:(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Currently in", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:[!!ea&&(0,Z.jsx)(i.Lt.Item,{accessibilityRole:"unset",onSelect:()=>er?ee(ea,void 0):Y(ea),option:es.currentAccount,selected:es.currentAccount,children:(0,Z.jsx)(i.rU,{href:I?`/${ea.username}/`:`${x.C0}/${ea.username}/`,underline:"none",children:(0,Z.jsx)(u.Z,{isCurrentAccount:!0,user:ea})})}),!F?.opt_in_private_account&&eh]},"currently-in"),yourAccount:$?eB:eI,moreOptions:[eT,eL,eE,eM],settingsAndSupport:[eg,eb,ex,ef,e_,ew,ey,eZ,(0,Z.jsxs)(i.Lt.Section,{label:L.bt("Support", "Support", "SettingsMenu.SupportOptions", undefined, true),children:[ek,(0,Z.jsx)(i.Lt.Link,{href:`${b.iYv}/tools/widget-builder/?type=profile&url=${encodeURIComponent(`https://${window.location.hostname}/${ea?.username||""}/`)}`,iconEnd:"external-link",onClick:()=>{E({event_type:101,component:218,element:8001})},option:{label:L.bt("Create widget", "Create widget", "A link to create an embeddable widget", undefined, true),value:"make-widget-link"}},"make-widget-link"),(0,Z.jsx)(i.Lt.Link,{href:b.hwP,iconEnd:"external-link",onClick:()=>{E({event_type:101,component:218,element:8011})},option:{label:L.bt("Removals", "Removals", "menu item that takes user to the Pinterest copyright page", undefined, true),value:"removals"}},"removals"),(0,Z.jsx)(i.Lt.Link,{href:"https://help.pinterest.com/en/article/personalized-ads-on-pinterest",iconEnd:"external-link",onClick:()=>{E({event_type:101,component:218,element:10406})},option:{label:L.bt("Personalised ads", "Personalized Ads", "menu item that takes user to the Pinterest personalized ads page", undefined, true),value:"personalized-ads"}},"personalized-ads"),ev,eS,ej]},"support"),(0,Z.jsx)(i.Lt.Section,{label:L.bt("Resources", "Resources", "SettingsMenu.Resources", undefined, true),children:(0,Z.jsxs)(i.xu,{direction:"row",display:"flex",paddingX:2,width:240,wrap:!0,children:[(0,Z.jsx)(y.O,{onClick:()=>{E({event_type:101,component:218,element:8006})},text:L.bt("About", "About", "menu item that takes user to the Pinterest about page", undefined, true),url:b.wUZ}),(0,Z.jsx)(y.O,{onClick:()=>{E({event_type:101,component:218,element:8007})},text:L.bt("Press", "Blog", "menu item that takes user to the Pinterest blog", undefined, true),url:"https://www.pinterest.com/_/_/blog/"}),(0,Z.jsx)(y.O,{onClick:()=>{E({event_type:101,component:218,element:8008})},text:L.bt("Businesses", "Businesses", "menu item that takes user to the Pinterest for business page", undefined, true),url:b.NWh}),(0,Z.jsx)(y.O,{onClick:()=>{E({event_type:101,component:218,element:8009})},text:L.bt("Careers", "Careers", "menu item that takes user to the Pinterest careers page", undefined, true),url:b.t_w}),(0,Z.jsx)(y.O,{onClick:()=>{E({event_type:101,component:218,element:8010})},text:L.bt("Developers", "Developers", "menu item that takes user to the Pinterest developers page", undefined, true),url:b.iYv})]})},"resources")]}}},565758:function(e,t,n){n.d(t,{Z:()=>d});var o=n(686659),s=n(667294),i=n(399353),a=n(319226),r=n(301737),l=n(24246),c=n(157498),u=n(785893);function d({user:e,isCurrentAccount:t}){(0,s.useEffect)(()=>{(0,o.Z)("HeaderAccountsOptionsMenuAccountRep","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuAccountRep.tsx")},[]);let n=(0,l.Z)(),d=e.partner,p=(0,c.mN)()(e.id??""),h=p?.avatar_color_index;return(0,u.jsxs)(i.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:200,children:[(0,u.jsx)(i.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,u.jsx)(a.qE,{accessibilityLabel:"",color:h,name:(0,r.G)(e),src:(0,r.k)(e)})}),(0,u.jsxs)(i.xu,{maxWidth:176,children:[(0,u.jsx)(i.xe,{lineClamp:1,weight:"bold",children:(0,r.G)(e)}),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,u.jsx)(i.xe,{color:"subtle",lineClamp:1,size:"200",children:d?n.bt("Business", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):n.bt("Personal", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,u.jsx)(i.xe,{color:"subtle",lineClamp:1,size:"200",children:d?e.partner?.bizContactEmail:e.email})})]})]})}},108930:function(e,t,n){n.d(t,{Z:()=>s});var o=n(24246);function s(){let e=(0,o.Z)();return{addAccount:{value:"add-account",label:e.bt("Add Pinterest account", "Add Pinterest account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Business Access", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e.bt("Link to Pinterest", "Link to Pinterest", "header.accountsOptionsMenu.contentClaimingLink", undefined, true)},contentClaiming:{value:"content-claiming",label:e.bt("Content Claiming Portal", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Convert to business", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Current account", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Failed to log in to this account", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Help Centre", "Help center", "header.accountsOptionsMenu.helpCenter.label", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Refine your recommendations", "Refine your recommendations", "header.accountsOptionsMenu.refineRecommendations.label", undefined, true)},importContent:{value:"import-content",label:e.bt("Import content", "Import content", "header.accountsOptionsMenu.importContentLink", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Log out", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Terms of Service", "Terms of service", "header.accountsOptionsMenu.termsOfService.label", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Privacy Policy", "Privacy policy", "header.accountsOptionsMenu.privacyPolicy.label", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Reports and violations centre", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Report a bug", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Settings", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Your privacy rights", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Ads support", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Request a feature", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Be a beta tester", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)},teenSafetyResources:{value:"teen-safety-resources",label:e.bt("Teen safety resources", "Teen safety resources", "header.accountsOptionsMenu.teenSafetyResources", undefined, true)}}}},320725:function(e,t,n){n.d(t,{Z:()=>l});var o=n(104999),s=n(935059),i=n(660613),a=n(478559),r=n(281183);function l(){let e=(0,s.Z)(),t=(0,o.Z)(),n=(0,a.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,r.lv)()>1?(e.isAuth&&((0,i.RD)(e.id),(0,i.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,r.Q)()})):((0,i.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},114870:function(e,t,n){n.d(t,{Z:()=>m});var o=n(667294),s=n(27399),i=n(935059),a=n(661376),r=n(230201),l=n(483359),c=n(609252),u=n(936367),d=n(660613),p=n(179),h=n(420711),_=n(767415);function m(e,t){let{flushContextEvents:n,logContextEvent:m}=(0,r.u)(),[f,g]=(0,o.useState)(!1),[b,x]=(0,o.useState)(null),y=(0,i.Z)(),{showAccountSwitcherLoginModal:v}=(0,p.X)(),{userAccounts:w}=(0,h.N)(),{data:P}=function(){let e=(0,i.Z)();return(0,a.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}(),A=(0,l.Z)(),C=!!(y.isAuth&&!y.partner&&P?.businesses)&&0===P.businesses.length;(0,o.useEffect)(()=>(y.isAuth&&(0,d.Mt)(y,P),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,o.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,o.useEffect)(()=>{w.length>1&&m({event_type:13,view_type:234,component:13369,element:12722})},[m,w]);let k=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),g(!1),t};return{failedAccount:b,fetchedUserAccounts:w,handleAccountRepClick:e=>{y.isAuth&&e.id!==y.id&&(e=>{let{id:t}=e;g(!0),m({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(),A({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher",component:"useHeaderAccountsOptionsMenuController"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),x(e),g(!1))},e=>{k(t,e)})})(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),m({event_type:101,component:8,element:12756}),e()},handleClick:t=>{13290!==t&&m({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,o)=>{let{partner:i}=e;if(g(!0),m({event_type:101,component:13369,element:i?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(),i?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:o};(0,_.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),A({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,_.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{k(e.id,t)})}else s.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{y.isAuth&&((0,d.RD)(y.id),(0,d.iS)(t?`/${e.username}`:"/",y.id,"account_switcher_flyout"))},e=>{y.isAuth&&k(y.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),x(null),v("account_switcher_flyout",b?.email)},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),x(null)},handleUnlockBusinessTools:()=>{e(),m({event_type:101,component:8,element:10299})},isLoading:f,showUnlockBusinessTools:C}}},301737:function(e,t,n){function o(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function s(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}n.d(t,{G:()=>o,k:()=>s})},236906:function(e,t,n){n.d(t,{Z:()=>l});var o=n(686659),s=n(667294),i=n(399353),a=n(24246),r=n(785893);function l({accessibilityLabel:e,fixedPosition:t,rounding:n}){(0,s.useEffect)(()=>{(0,o.Z)("LoadingMask","/app/packages/LoadingMask.tsx")},[]);let l=(0,a.Z)();return(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:100,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new i.Ry(101),children:(0,r.jsx)(i.xH,{accessibilityLabel:e||l.bt("Loading", "Loading", "Label for loading spinner", undefined, true),show:!0})}),(0,r.jsx)(i.xu,{bottom:!0,color:"default",left:!0,opacity:70,position:t?"fixed":"absolute",right:!0,rounding:null!=n?({1:100,2:200,3:300,4:400,5:500,6:600,7:700,8:800,0:0,circle:"circle",pill:"pill"})[n]:void 0,top:!0,zIndex:new i.Ry(100)})]})}},968960:function(e,t,n){n.d(t,{Z:()=>o});function o(e,t){return e.includes(t)||e.includes(80)}},711072:function(e,t,n){n.d(t,{Z:()=>s});var o=n(667294);let s=function(e,t){let n=(0,o.useRef)(e),s=(0,o.useRef)(void 0),i=(0,o.useRef)(void 0);(0,o.useEffect)(()=>{n.current=e},[e]),(0,o.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[t]);let a=(0,o.useCallback)((...e)=>{i.current=e,s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{n.current(...e),i.current=void 0},t)},[t]);return a.flush=(0,o.useCallback)(()=>{if(s.current&&(clearTimeout(s.current),s.current=void 0),i.current){let e=i.current;return i.current=void 0,n.current(...e)}},[]),a.cancel=(0,o.useCallback)(()=>{s.current&&(clearTimeout(s.current),s.current=void 0),i.current=void 0},[]),a}},232178:function(e,t,n){n.d(t,{Z:()=>l});var o=n(686659),s=n(667294),i=n(399353),a=n(24246),r=n(785893);function l(){(0,s.useEffect)(()=>{(0,o.Z)("FullPageSignupLoadingFallback","/app/packages/desktopLoginModal/FullPageSignupLoadingFallback.tsx")},[]);let e=(0,a.Z)();return(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.xH,{accessibilityLabel:e.bt("Loading sign-up form", "Loading signup form", " - ", undefined, true),show:!0})})}},152900:function(e,t,n){n.d(t,{Z:()=>i});var o=n(926743),s=n(893957);function i(e){let{extra_context:t,targeting:n}=e,i=(0,o.Z)();return(0,s.Z)(()=>{i.fetchAllExperiences(t,n,{dontRefreshSSRPlacements:!0,isExperienceInitFetch:!0}),i.fetchAllExperiencesMulti()}),null}},180999:function(e,t,n){n.d(t,{Z:()=>o});let o="M11 23H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4h6zm12-4a4 4 0 0 1-4 4h-6V13h10zM19 1a4 4 0 0 1 4 4v6H13V1z"},80769:function(e,t,n){n.d(t,{ak:()=>r,j3:()=>a,yv:()=>i});var o=n(24246),s=n(774838);function i(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){let{country:e=""}=(0,s.B)();return i(e)}function r(){return (0,o.Z)().bt("Imprint", "Imprint", "impressumText", undefined, true)}},875417:function(e,t,n){n.d(t,{Z:()=>s});var o=n(667294);function s(e){let{animationData:t,autoplay:s,initialSegment:i,loop:a,onComplete:r,onConfigReady:l,onDataFailed:c,onDataReady:u,onDestroy:d,onDOMLoaded:p,onEnterFrame:h,onLoadedImages:_,onLoopComplete:m,onSegmentStart:f}=e,[g,b]=(0,o.useState)(null),[x,y]=(0,o.useState)(!1),v=(0,o.useRef)(null),w=(0,o.useRef)(null),P=async()=>{b(await n.e("13000").then(n.t.bind(n,98234,23)))};return(0,o.useEffect)(()=>{P()},[]),(0,o.useEffect)(()=>{if(!w.current||!g||!t||!t.w||!t.h)return;v.current?.destroy();let n={...e,container:w.current};v.current=g.loadAnimation(n),y(!!v.current)},[w,v,t,g,e]),(0,o.useEffect)(()=>{v.current&&(v.current.loop=!!a,a&&v.current.isPaused&&v.current.play())},[a]),(0,o.useEffect)(()=>{v.current&&(v.current.autoplay=!!s)},[s]),(0,o.useEffect)(()=>{if(v.current){if(!i)return void v.current.resetSegments(!1);Array.isArray(i)&&i.length&&((v.current.currentRawFrame<i[0]||v.current.currentRawFrame>i[1])&&(v.current.currentRawFrame=i[0]),v.current.setSegment(i[0],i[1]))}},[i]),(0,o.useEffect)(()=>{if(!v.current||!x)return()=>{};let e=[{name:"complete",handler:r},{name:"loopComplete",handler:m},{name:"enterFrame",handler:h},{name:"segmentStart",handler:f},{name:"config_ready",handler:l},{name:"data_ready",handler:u},{name:"data_failed",handler:c},{name:"loaded_images",handler:_},{name:"DOMLoaded",handler:p},{name:"destroy",handler:d}].filter(e=>null!=e.handler).map(e=>(v.current?.addEventListener(e.name,e.handler),()=>{v.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[x,r,m,h,f,l,u,c,_,p,d]),{animationContainerRef:w,play:()=>{v.current?.play()},stop:()=>{v.current?.stop()},pause:()=>{v.current?.pause()},setSpeed:e=>{v.current?.setSpeed(e)},goToAndStop:(e,t)=>{v.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{v.current?.goToAndPlay(e,t)},setDirection:e=>{v.current?.setDirection(e)},playSegments:(e,t)=>{v.current?.playSegments(e,t)},setSubframe:e=>{v.current?.setSubframe(e)},getDuration:e=>v.current?.getDuration(e),destroy:()=>{v.current?.destroy()},animationLoaded:x,animationItem:v.current}}},660613:function(e,t,n){n.d(t,{CV:()=>r.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>p});var o=n(505633),s=n(609252),i=n(936367),a=n(483423),r=n(675410),l=n(281183);let c=e=>{let t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},u=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,a.Z)(e)}},d=(e,t,n)=>{(0,r.Z)("switch_account_success",{destination_user_id:t},n),(0,o.Z)(e)},p=(e,t)=>{s.Z.resume(i.Z3),(0,r.Z)("switch_account_failure",{destination_user_id:e},t)}},483423:function(e,t,n){n.d(t,{Z:()=>i});var o=n(675410),s=n(281183);let i=(e,t,n)=>{(0,s.r8)({...(0,s.rl)(),[e.id]:(e=>{let t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||(0,o.Z)("utils.incomplete_user_values"),e.partner?.is_create)?{...t,partner:{is_create:!0}}:t})(e)}),t&&n&&(0,o.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},675410:function(e,t,n){n.d(t,{Z:()=>r});var o=n(172045),s=n(281183),i=n(935833);let a="web_account_switcher",r=(e,t,n)=>{let r=(0,s.yW)();r||(r=(()=>{let e=(0,o.Z)();return(0,i.tj)(`${a}.utils.group_created`,{group_id:e,group_count:(0,s.lv)()}),e})(),(0,s.M3)(r));let l={group_count:(0,s.lv)()},c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,i.tj)(`${a}.${c}${e}`,{...t,...l})}},167336:function(e,t,n){n.d(t,{Kw:()=>r,RD:()=>l,dD:()=>u});var o=n(27399),s=n(681698),i=n(281183);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],r=async()=>{let e=await o.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,i.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let o=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===o.length||n[o[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);let s=o.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,i.r8)(s),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await r(),n=e.id;t[n]||(t[n]={logged_in:!0});let o=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),i=(await (0,s.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(o)}})).resource_response.data;if(i&&Object.keys(i).length>0){var l=Object.keys(i).filter(e=>"success"===i[e].status).map(e=>c(i[e].data));let e=l.every(e=>!!e.fullName)?"fullName":"username";return[...l].sort((t,n)=>t[e]>n[e]?1:n[e]>t[e]?-1:0)}return[]}},135269:function(e,t,n){n.d(t,{Z:()=>i});var o=n(739405),s=n(177433);function i(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,o.ZP)(),site:(0,s.uo)()})}},168584:function(e,t,n){n.d(t,{Z:()=>d});var o=n(686659),s=n(667294),i=n(399353),a=n(24246),r=n(801100),l=n(785893);let c=new i.H3([r.Z]);class u extends s.Component{constructor(...e){var t,n,o;super(...e),t="handleConnectionChange",n=e=>{this.forceUpdate(),"offline"===e.type?window.addEventListener("online",this.handleConnectionChange):window.removeEventListener("online",this.handleConnectionChange)},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){(0,o.Z)("OfflineManager","/app/packages/ui/OfflineManager.tsx"),window.addEventListener("offline",this.handleConnectionChange)}componentWillUnmount(){window.removeEventListener("offline",this.handleConnectionChange)}render(){return!navigator.onLine&&(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:"90px"}},position:"fixed",width:"100%",zIndex:c,children:(0,l.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,l.jsx)(i.FN,{text:this.props.i18n.bt("Hmm...you're not connected to the Internet", "Hmm...you're not connected to the internet", "Toast that displays when a user is offline", undefined, true),type:"error"})})})}}function d(e){(0,s.useEffect)(()=>{(0,o.Z)("OfflineManager","/app/packages/ui/OfflineManager.tsx")},[]);let t=(0,a.Z)();return(0,l.jsx)(u,{...e,i18n:t})}},544957:function(e,t,n){n.d(t,{Z:()=>c});var o=n(686659),s=n(667294),i=n(399353),a=n(24246),r=n(216975),l=n(785893);function c({itemLabel:e="",count:t,iconSlot:n}){(0,s.useEffect)(()=>{(0,o.Z)("BadgedIcon","/app/packages/ui/experimental/BadgedIcon.tsx")},[]);let c=t<100?`${t}`:"99+",u=(0,a.Z)(),d=u.bt("notifications", "notifications", "notifications.BadgedIcon.defaultItemLabel", undefined, true),p=(0,r.Wc)(u.bt("You have new {{contentType}}", "You have new {{contentType}}", "notifications.BadgedIcon.accessibilityIndicatorLabel", undefined, true),{contentType:e||d});return(0,l.jsxs)(i.xu,{position:"relative",children:[n,t>0&&(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,l.jsx)(i.z$,{accessibilityLabel:p,count:t})})]})}},656858:function(e,t,n){n.d(t,{Z:()=>r});var o=n(686659),s=n(667294),i=n(399353),a=n(785893);let r=({height:e,width:t})=>((0,s.useEffect)(()=>{(0,o.Z)("CircleBadge","/app/packages/ui/experimental/CircleBadge.tsx")},[]),(0,a.jsx)(i.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:"absolute",rounding:"pill",width:t,children:(0,a.jsx)(i.xe,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:" "})})}))},925898:function(e,t,n){n.d(t,{Z:()=>s});var o=n(145626);function s(e){return!!e&&(e.includes("ads-latest")||0===e.indexOf(o.vI)||0===e.indexOf(o.YD))}},632264:function(e,t,n){n.d(t,{Z:()=>i});var o=n(893957),s=n(74972);function i({children:e}){let{setAppFocusState:t}=(0,s.G)();return(0,o.Z)(()=>(t(!1),()=>{t(!0)})),e}},352507:function(e,t,n){n.d(t,{Z:()=>u,l:()=>c});var o=n(667294),s=n(131391),i=n(774838),a=n(135269),r=n(190914),l=n(200619);let c=(0,o.createContext)(void 0),u=function(){let{advertiser:e}=(0,i.B)(),t=function(){let{isSterlingSite:e}=(0,s.Z)((0,a.Z)());return(0,o.use)(c)??e}(),n=(0,l.Z)(),u=((0,r.W)()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&u||n}},8933:function(e,t,n){n.d(t,{q:()=>h,y:()=>_});var o=n(686659),s=n(667294),i=n(501010),a=n(774838),r=n(47755),l=n(918985);function c(e,t){(0,l.T)(t)&&(0,r.Z)({method:"PUT",url:"/ads/v4/preferences/{advertiser_id}",urlParams:{advertiser_id:e},data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var u=n(711089),d=n(785893);let p=(0,s.createContext)({campaignToolPreference:null,updateCampaignToolPreference:c}),h=({children:e})=>{(0,s.useEffect)(()=>{(0,o.Z)("CampaignToolPreferenceContext","/app/sterling/CreateFlow/CampaignToolPreferenceContext.tsx")},[]);let[t,n]=(0,s.useState)(null),r=(0,i.Z)(),{advertiser:l}=(0,a.B)(),h=async(e,t)=>{c(e,t),n(t)};(0,s.useEffect)(()=>{(async()=>{l&&n(await (0,u.f)(l.id))})()},[l,r]);let _=(0,s.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,d.jsx)(p,{value:_,children:e})},_=()=>(0,s.use)(p)},711089:function(e,t,n){n.d(t,{Z:()=>u,f:()=>c});var o=n(667294),s=n(47755),i=n(501010),a=n(774838),r=n(918985);let l="ADVERTISER",c=async e=>{let t;try{let n;t=(n=(await (0,s.Z)({method:"GET",url:"/ads/v4/preferences/{advertiser_id}",urlParams:{advertiser_id:e},data:{level:l,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data)&&n[l]&&n[l][0]&&n[l][0].preferences}catch{return null}return t&&(0,r.T)(t)?t:null},u=()=>{let[e,t]=(0,o.useState)(null),n=(0,i.Z)(),{advertiser:s}=(0,a.B)();return(0,o.useEffect)(()=>{(async()=>{s&&t(await c(s.id))})()},[s,n]),e}},118351:function(e,t,n){n.d(t,{k:()=>o,l:()=>s});let{Provider:o,get:s}=(0,n(213491).Z)("flyoutContext")},989882:function(e,t,n){n.d(t,{Z:()=>u});var o=n(686659),s=n(667294),i=n(399353),a=n(118351),r=n(785893);function l(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=new i.Ry(752);class u extends s.Component{constructor(...e){super(...e),l(this,"state",{flyout:void 0,showOnTopOfModal:!1,tooltip:void 0}),l(this,"showFlyoutWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeFlyoutFromMasonry()},positionRelativeToAnchor:!1};this.setState({flyout:{props:n},showOnTopOfModal:t})}),l(this,"removeFlyoutFromMasonry",()=>{this.setState({flyout:void 0})}),l(this,"showTooltipWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeTooltipFromMasonry()}};this.setState({tooltip:{props:n},showOnTopOfModal:t})}),l(this,"removeTooltipFromMasonry",()=>{this.setState({tooltip:void 0})})}getContext(){return{showTooltipWithinMasonry:this.showTooltipWithinMasonry,removeTooltipFromMasonry:this.removeTooltipFromMasonry,showFlyoutWithinMasonry:this.showFlyoutWithinMasonry,removeFlyoutFromMasonry:this.removeFlyoutFromMasonry}}render(){let{flyout:e,tooltip:t,showOnTopOfModal:n}=this.state,{children:o}=this.props,l=(e||t)&&n;return(0,r.jsx)(a.k,{value:this.getContext(),children:(0,r.jsxs)(s.Fragment,{children:[o,(0,r.jsxs)(i.xu,{position:l?"fixed":void 0,top:!!l||void 0,zIndex:l?c:void 0,children:[e&&(0,r.jsx)(i.J2,{_deprecatedShowCaret:e.props.showCaret,anchor:e.props.anchor,color:e.props.color,idealDirection:e.props.idealDirection,onDismiss:e.props.onDismiss,positionRelativeToAnchor:e.props.positionRelativeToAnchor,shouldFocus:e.props.shouldFocus,size:e.props.size,children:e.props.children}),t&&(0,r.jsx)(i.J2,{_deprecatedShowCaret:t.props.showCaret,anchor:t.props.anchor,color:"darkGray",idealDirection:t.props.idealDirection,onDismiss:t.props.onDismiss,positionRelativeToAnchor:t.props.positionRelativeToAnchor,shouldFocus:!1,size:"md",children:(0,r.jsx)(i.xu,{column:12,padding:3,children:t.props.children})})]})]})})}componentDidMount(){(0,o.Z)("FlyoutProvider","/app/sterling/FlyoutProvider/FlyoutProvider.tsx")}}},695371:function(e,t,n){n.d(t,{Z:()=>p});var o=n(686659),s=n(667294),i=n(399353),a=n(232178),r=n(24246),l=n(70906),c=n(9065),u=n(785893);let d=(0,c.Z)(()=>Promise.all([n.e("25418"),n.e("91062"),n.e("76767")]).then(n.bind(n,757956)),void 0,e=>757956,"FullPageSignup",e=>["25418","91062","76767"]);function p(e){(0,s.useEffect)(()=>{(0,o.Z)("AccountSwitcherLoginModal","/app/www/AccountSwitcherLoginModal/AccountSwitcherLoginModal.tsx")},[]);let t=(0,r.Z)();return(0,u.jsx)(l.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,u.jsx)(i.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t.bt("Add account", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true),fallback:(0,u.jsx)(a.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},179:function(e,t,n){n.d(t,{T:()=>c,X:()=>l});var o=n(667294),s=n(213491),i=n(695371),a=n(785893);let{Provider:r,get:l}=(0,s.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,o.useState)(!1),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),d=(0,o.useCallback)((e,t)=>{u(e),t&&l(t),n(!0)},[]),p=(0,o.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(r,{value:p,children:e}),t&&(0,a.jsx)(i.Z,{container:c,email:s??"",onClose:()=>n(!1)})]})}},70906:function(e,t,n){n.d(t,{Z:()=>f});var o=n(686659),s=n(667294),i=n(399353),a=n(24246),r=n(59111),l=n(774838),c=n(736328),u=n(785893);let d=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,p={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},h={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},_={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},m={overflow:"hidden",position:"fixed",top:"24px"};function f(e){(0,s.useEffect)(()=>{(0,o.Z)("Modal","/app/www/AccountSwitcherLoginModal/Modal.tsx")},[]);let t=(0,a.Z)(),n=(0,c.Z)(),{isRTL:f}=(0,l.B)(),{renderContent:g}=e;return(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:p},children:[(0,u.jsx)(r.Z,{unsafeCSS:d}),(0,u.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:h,children:(0,u.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:_,children:[g(),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{...m,[f?"left":"right"]:"24px"}},children:(0,u.jsx)(i.hU,{accessibilityLabel:t.bt("close", "close", "accessible label for close button", undefined, true),bgColor:"transparent",icon:"close",iconColor:"inverse",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},420711:function(e,t,n){n.d(t,{N:()=>r,t:()=>l});var o=n(667294),s=n(213491),i=n(785893);let{Provider:a,get:r}=(0,s.Z)("LinkedAccount");function l({children:e}){let[t,n]=(0,o.useState)([]),s=(0,o.useMemo)(()=>({userAccounts:t,userAccountsRetrieved:n}),[n,t]);return(0,i.jsx)(a,{value:s,children:e})}},484125:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)(()=>null)},1690:function(e,t,n){n.d(t,{Z:()=>s});var o=n(271875);function s(){let{conversations:{data:e}}=(0,o.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e&&e.users)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},402191:function(e,t,n){n.d(t,{O:()=>d,Z:()=>p});var o=n(686659),s=n(667294),i=n(399353),a=n(104999),r=n(24246),l=n(80769),c=n(247387),u=n(785893);let d=({onClick:e,text:t,url:n})=>((0,s.useEffect)(()=>{(0,o.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]),(0,u.jsx)(i.xu,{role:"listitem",children:(0,u.jsx)(i.xe,{color:"subtle",size:"200",weight:"bold",children:(0,u.jsx)(i.rU,{href:n,onClick:e,target:"blank",children:(0,u.jsx)(i.xu,{padding:1,children:t})})})}));function p(){(0,s.useEffect)(()=>{(0,o.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]);let e=(0,r.Z)(),t=(0,a.Z)(),n=e=>()=>t({event_type:101,component:218,element:e}),p=(0,l.j3)(),h=(0,l.ak)();return(0,u.jsxs)(i.xu,{direction:"column",display:"flex",paddingX:3,paddingY:2,role:"list",width:"100%",wrap:!0,children:[(0,u.jsx)(d,{onClick:n(8006),text:e.bt("About", "About", "menu item that takes user to the Pinterest about page", undefined, true),url:c.wUZ}),(0,u.jsx)(d,{onClick:n(8007),text:e.bt("Press", "Blog", "menu item that takes user to the Pinterest blog", undefined, true),url:"https://www.pinterest.com/_/_/blog/"}),(0,u.jsx)(d,{onClick:n(8008),text:e.bt("Businesses", "Businesses", "menu item that takes user to the Pinterest for business page", undefined, true),url:c.NWh}),(0,u.jsx)(d,{onClick:n(8009),text:e.bt("Careers", "Careers", "menu item that takes user to the Pinterest careers page", undefined, true),url:c.t_w}),(0,u.jsx)(d,{onClick:n(8010),text:e.bt("Developers", "Developers", "menu item that takes user to the Pinterest developers page", undefined, true),url:c.iYv}),(0,u.jsx)(d,{onClick:n(8011),text:e.bt("Removals", "Removals", "menu item that takes user to the Pinterest copyright page", undefined, true),url:c.hwP}),(0,u.jsx)(d,{onClick:n(8004),text:e.bt("Privacy Policy", "Privacy Policy", "additionalLinks.privacyPolicy", undefined, true),url:c.R_9}),(0,u.jsx)(d,{onClick:n(10406),text:e.bt("Personalised ads", "Personalized Ads", "menu item that takes user to the Pinterest personalized ads page", undefined, true),url:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest"}),(0,u.jsx)(d,{onClick:n(13335),text:e.bt("Your Privacy Rights", "Your Privacy Rights", "additionalLinks.yourPrivacyRights", undefined, true),url:"https://www.pinterest.com/settings/privacy/"}),(0,u.jsx)(d,{onClick:n(8012),text:e.bt("Terms", "Terms", "menu item that takes user to the Pinterest terms page", undefined, true),url:c.U5h}),p&&(0,u.jsx)(d,{onClick:n(8013),text:h,url:c.$BF})]})}},138729:function(e,t,n){n.d(t,{Z:()=>p});var o=n(686659),s=n(667294),i=n(420711),a=n(380108),r=n(510755),l=n(785893);let c={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function d(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw Error("action type not supported")}}function p({children:e}){(0,s.useEffect)(()=>{(0,o.Z)("HeaderContext","/app/www/Header/Context/HeaderContext.tsx")},[]);let t=(0,s.useRef)(null),[{height:n,isInBiznuxFullscreen:p,repinPinId:h,repinStartAnimation:_,showAccountMenuFlyout:m},f]=(0,s.useReducer)(d,u);(0,s.useEffect)(()=>{let e=document.getElementById(r.WZ),n=document.getElementById(r.OZ);return(e||n)&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(()=>{let t=0;e&&(t+=e.clientHeight),n&&(t+=n.clientHeight),(e||n)&&f({type:"updateHeight",payload:t})}),e&&t.current.observe(e,c),n&&t.current.observe(n,c)),()=>{t.current?.disconnect()}});let g=(0,s.useMemo)(()=>({height:n,isInBiznuxFullscreen:p,repinPinId:h,repinStartAnimation:_,showAccountMenuFlyout:m,updateHeaderState:f}),[f,n,p,h,_,m]);return(0,l.jsx)(a.C,{value:g,children:(0,l.jsx)(i.t,{children:e})})}},525030:function(e,t,n){n.d(t,{Z:()=>u});var o=n(686659),s=n(667294),i=n(399353),a=n(230201),r=n(551010),l=n(785893);let c=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,l.jsx)(r.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,u=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:r,selected:u,text:d,type:p="link",url:h,contextData:_,onClick:m})=>{(0,s.useEffect)(()=>{(0,o.Z)("HeaderSection","/app/www/Header/HeaderSection.tsx")},[]);let{logContextEvent:f}=(0,a.u)(),[g,b]=(0,s.useState)("var(--sema-color-background-transparent)"),x=(0,s.useRef)(null),y=()=>{b("var(--sema-color-hover-background-default)")},v=()=>{b("var(--sema-color-background-transparent)")},w=()=>{b("var(--sema-color-background-transparent)")},P=()=>{b("var(--sema-color-hover-background-default)")},A=e=>{if(_){let{event:e,component:t,element:n}=_;f({event_type:e,component:t,element:n})}m&&m(e)},C=(0,l.jsx)(i.Tg,{accessibilityLabel:e,href:h||"",onBlur:w,onFocus:P,onMouseEnter:y,onMouseLeave:v,onTap:({event:e})=>A(e),rounding:4,children:(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:g}},display:"flex",height:48,justifyContent:"center",rounding:400,width:48,children:n})});if(r||"link"!==p||!h||t){if("link"===p&&(t&&n||r)){let o,s,a="pill";a=n||r?d&&!t?"pill":"circle":"pill",n&&(o=n),r&&(s=r);let c=d instanceof Object?d:(0,l.jsx)(i.xe,{color:u?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:d});C=(0,l.jsx)(i.Tg,{accessibilityLabel:e,href:h||"",onBlur:w,onFocus:P,onMouseEnter:y,onMouseLeave:v,onTap:({event:e})=>A(e),rounding:a,children:(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[o,!!d&&!t&&(0,l.jsx)(i.xu,{paddingX:2,children:c}),s]})})}}else C=(0,l.jsx)(c,{anchorElementRef:x,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,l.jsx)(i.Tg,{ref:x,accessibilityLabel:e,href:h,onBlur:w,onFocus:P,onMouseEnter:y,onMouseLeave:v,onTap:({event:e})=>A(e),rounding:"pill",children:(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},paddingX:4,paddingY:4,rounding:"pill",children:(0,l.jsx)(i.xe,{color:u?"default":"subtle",overflow:"normal",weight:"bold",children:d})})})});return(0,l.jsx)(i.xu,{position:"relative",children:C})}},439405:function(e,t,n){n.d(t,{Hv:()=>c,bj:()=>l});var o=n(667294),s=n(213491),i=n(562400),a=n(785893);let{Provider:r,get:l}=(0,s.Z)("HeaderShadow");function c({children:e}){let[t,n]=(0,o.useState)(!1),[s,l]=(0,o.useState)(0),[c,u]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=(0,i.Z)(()=>{n(window.scrollY>0),l(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let d=(0,o.useCallback)(e=>{u(e)},[]),p=(0,o.useMemo)(()=>({currentScrollPosition:s,isScrolled:t,setSubheaderShadow:d,subheaderShadow:c}),[s,t,d,c]);return(0,a.jsx)(r,{value:p,children:e})}},534222:function(e,t,n){n.d(t,{F:()=>o,I:()=>s});let{Provider:o,get:s}=(0,n(213491).Z)("SiteParametersContextType")},577564:function(e,t,n){n.d(t,{Jo:()=>u,mv:()=>p,nJ:()=>d});var o=n(667294),s=n(213491);let i={hiddenNews:{}};function a(e,t){if(e=e||i,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:n,isHidden:o}}=t;return{hiddenNews:{...e?.hiddenNews,[n]:o}}}}var r=n(785893);let{Provider:l,get:c}=(0,s.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,o.useReducer)(a,i),s=(0,o.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,r.jsx)(l,{value:s,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,o.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function p(){let{hiddenNews:e}=c();return e}},92242:function(e,t,n){n.d(t,{H:()=>c,W:()=>l});var o=n(667294),s=n(213491),i=n(57887),a=n(785893);let{Provider:r,get:l}=(0,s.Z)("LastSavedTo");function c({children:e}){let[t,n]=(0,o.useState)();(0,i.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;n(t)}});let s=(0,o.useCallback)(e=>{let o=t?t.filter(t=>t.id!==e.id):[];n([e,...o])},[t]),l=(0,o.useMemo)(()=>({lastSavedTo:t,saveToBoard:s}),[t,s]);return(0,a.jsx)(r,{value:l,children:e})}},841353:function(e,t,n){n.d(t,{P:()=>h,j:()=>_});var o=n(667294),s=n(213491),i=n(470205),a=n(465784),r=n(935059),l=n(24246),c=n(9065),u=n(785893);let d=(0,c.Z)(()=>n.e("53732").then(n.bind(n,402113)),void 0,e=>402113,"app-www-ReportBug-ReportBug",e=>["53732"]),{Provider:p,get:h}=(0,s.Z)("reportBugModalContext");function _({children:e}){let t=(0,l.Z)(),[n,s]=(0,o.useState)(!1),c=(0,r.Z)(),h=(0,o.useCallback)(()=>{s(!0)},[]),_=(0,o.useMemo)(()=>({handleShowReportBugModal:h}),[h]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(p,{value:_,children:e}),n&&c.isAuth&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:t.bt("Report bug", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{s(!1)},children:(0,u.jsx)(i.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{s(!1)},username:c.username})})})]})}},336486:function(e,t,n){n.d(t,{Z:()=>i});var o=n(501010),s=n(217616);function i(){let{enabled:e}=(0,s.Z)();if(!e)return!1;let{checkExperiment:t}=(0,o.Z)();return t("web_nav_sidebar").anyEnabled}},593302:function(e,t,n){n.d(t,{QV:()=>g,Qj:()=>v,Td:()=>y});var o=n(686659),s=n(667294),i=n(399353),a=n(104999),r=n(180999),l=n(24246),c=n(216975),u=n(656858),d=n(500602);let p={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"},shopping:{default:"shopping-bag",selected:"shopping-bag-fill"},categories:{default:"view-type-default",selected:"view-type-default-fill"},board:{default:"board",selected:void 0}};var h=n(405933),_=n(362777),m=n(785893);function f(e){(0,s.useEffect)(()=>{(0,o.Z)("EntrypointLink","/pws/entrypoint-router/navigation-buttons/EntrypointLink.tsx")},[]);let{preload:t}=(0,h.G)(),{onClick:n,_onMouseEnter:a,preloadExtent:r="Both",route:l,...c}=e;return(0,m.jsx)(i.rU,{_onMouseEnter:e=>{try{a?.(e)}catch{}"None"!==r&&t(l,r)},href:(0,_.w)(l),onClick:e=>{try{n?.(e)}catch{}t(l,"Both")},...c})}let g=({iconName:e,selected:t})=>((0,s.useEffect)(()=>{(0,o.Z)("VerticalNavIconButton","/app/www/VerticalNav/shared/VerticalNavIconButton.tsx")},[]),(0,m.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:t?p[e].selected:p[e].default,size:d.nQ})),b=()=>(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:10,right:10}},"data-test-id":"vertical-nav-icon-badge",display:"flex",justifyContent:"center",position:"absolute",children:(0,m.jsx)(u.Z,{height:d.Lu,width:d.Lu})}),x=({count:e})=>{if(!e||e<=0)return null;let t=e<100?`${e}`:"99+";return(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-t.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,m.jsx)(i.z$,{accessibilityLabel:"",count:e})})},y=(0,s.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:n,badgeCount:o,tooltipText:s,href:a,iconName:u,selected:h,onClick:_,onMouseDown:f,onMouseEnter:g,dataTestId:y,inBadgeExperiment:v},w)=>{let P=(0,l.Z)(),A=s||e,C=!!t,k="number"!=typeof o||0===o?e:(0,c.Wc)(P.nbt(["{{buttonLabel}}: {{notificationCount}} notification", "{{buttonLabel}}: {{notificationCount}} notifications"], o, "VerticalNavIconButton.Button.accessibilityLabel", true),{buttonLabel:e,notificationCount:o.toString()}),j=h?p[u].selected:p[u].default,S="board"===u&&h,Z={text:A,idealDirection:d.Mh,zIndex:d.BO},z=d.yg,I=a?(0,m.jsx)(i.I_,{accessibilityLabel:k,dangerouslySetSvgPath:S?{__path:r.Z}:void 0,dataTestId:y,href:a,icon:S?void 0:j,onClick:_,size:z,tooltip:Z}):(0,m.jsx)(i.hU,{accessibilityControls:n,accessibilityExpanded:C?h:void 0,accessibilityHaspopup:C,accessibilityLabel:k,accessibilityPopupRole:t,dataTestId:y,icon:j,onClick:_,size:z,tooltip:Z});return(0,m.jsxs)(i.xu,{ref:w,"data-test-id":"vertical-nav-icon",onMouseDown:f,onMouseEnter:g,position:"relative",children:[I,(0,m.jsx)(i.xu,{"aria-hidden":"true",children:v&&o?(0,m.jsx)(b,{}):(0,m.jsx)(x,{count:o})})]})}),v=(0,s.forwardRef)(({accessibilityLabel:e,accessibilityControls:t,iconName:n,selected:o,onClick:r,onMouseDown:c,onMouseEnter:u,route:p,preloadExtent:h,dataTestId:_,variant:b="short"},x)=>{let y=(0,a.Z)(),v=(0,l.Z)(),[w,P]=(0,s.useState)("transparent"),[A,C]=(0,s.useState)(!1),k=()=>{u?.(),P("var(--comp-button-color-hover-background-tertiary-default)"),C(!0)},j=(0,s.useRef)(null),S=(0,d.vg)(v,b);return(0,m.jsx)(i.xu,{onMouseEnter:k,onMouseLeave:()=>{P("transparent"),C(!1)},overflow:"hidden",paddingX:4,position:"relative",children:(0,m.jsx)(i.iP,{ref:x,accessibilityControls:t,accessibilityExpanded:A,accessibilityHaspopup:!0,accessibilityLabel:e,dataTestId:_,onTap:k,rounding:d.dv,tapStyle:d.xp,children:(0,m.jsxs)(i.xu,{ref:j,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:w}},display:"flex",height:48,id:t,justifyContent:"center",onMouseDown:c,rounding:d.dv,width:48,children:[A&&(0,m.jsx)(i.Lt,{anchor:j.current,disableMobileUI:!0,id:"ideas-dropdown",idealDirection:"right",isWithinFixedContainer:!1,onDismiss:()=>C(!1),zIndex:d.m6,children:S.map(e=>(0,m.jsx)(i.Lt.Link,{href:`/ideas/${e.slug}/${e.value}/`,onClick:()=>{y({object_id_str:e.value,component:8,event_type:101,element:216,aux_data:{interest_id:e.value,interest:e.label}})},option:e},`cat-${e.value}`))}),(0,m.jsx)(f,{onClick:r,preloadExtent:h,route:p,children:(0,m.jsx)(g,{iconName:n,selected:o})})]})})})})},832698:function(e,t,n){n.d(t,{E:()=>o,Z:()=>i});let{Provider:o,get:s}=(0,n(213491).Z)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:()=>!1,sideBarOpen:!1,updatePanelState:()=>{},togglePanelState:()=>{},isBoardCreateModalOpen:!1,setIsBoardCreateModalOpen:()=>{},handleSideBarLinkClick:()=>{}}),i=s},74195:function(e,t,n){n.d(t,{Z:()=>s});var o=n(832698);function s(){let{width:e}=(0,o.Z)();return e}},832333:function(e,t,n){n.d(t,{Z:()=>d});var o=n(686659),s=n(667294),i=n(399353),a=n(785893);function r(e){return`${Math.min(100*e,100)}%`}function l({customCover:e,imgPos:t,imgUrl:n}){let[o,i]=(0,s.useState)({height:0,loaded:!1,width:0}),{height:a,loaded:l,width:c}=o;if((0,s.useEffect)(()=>{let e=new Image;e.onload=()=>{i({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!a||!c)return{loaded:l,position:"center center"};let u=c-t.width,d=a-t.height,p=u>0?r(t.x/u):"center",h=d>0?r(t.y/d):"center";return{loaded:l,position:`${p} ${h}`}}function c(e){let{loaded:t,position:n}=l(e),{imgUrl:o}=e,s={backgroundImage:`url(${o})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(i.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:s},"data-test-id":"cover-image",children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:n}=l(e),{alt:o,color:s,imgUrl:r}=e;return(0,a.jsx)(i.zd,{height:"100%",width:"100%",children:t&&(0,a.jsx)("img",{alt:o||"",src:r,style:{backgroundColor:s||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function d(e){(0,s.useEffect)(()=>{(0,o.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,a.jsx)(u,{...e}):(0,a.jsx)(c,{...e})}},748261:function(e,t,n){n.d(t,{Z:()=>A});var o,s,i=n(686659),a=n(667294);n(244311);var r=n(399353),l=n(183e3),c=n(24246),u=n(78835),d=n(501010),p=n(774838),h=n(739405),_=n(594502),m=n(464094),f=n(832333),g=n(785893);function b({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:o,size:s=20}){(0,a.useEffect)(()=>{(0,i.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let l=(0,c.Z)();return(0,g.jsx)(r.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:s,justifyContent:"center",rounding:"circle",width:s,children:(0,g.jsx)(r.JO,{accessibilityLabel:l.bt("Secret board icon", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"secret"===o?"lock":"shield",size:n??s/2})})}var x=n(227866),y=n(235623);let v=(void 0!==o||(o=n(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==o.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),w=(void 0!==s||(s=n(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==s.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),P="100%";function A(e){(0,a.useEffect)(()=>{(0,i.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,c.Z)(),{boardKey:n,canEdit:o,containerBackgroundColor:s="white",coverPhoto:A,coverPinKey:C,fullSize:k,hideSecretBoardIcon:j,images:S,isActive:Z,isHomePageBoards:z,isProtected:I,isSecret:B,layout:T,onEditClick:L,renderAsImage:E,showSensitivityScreen:M}=e,R=(0,h.HG)(),{isRTL:D,isAuthenticated:F}=(0,p.B)(),O=(0,l.Z)(v,n),N=(0,l.Z)(w,C),H=(0,a.useRef)(null),U=R&&F,{checkExperiment:W}=(0,d.Z)(),[$,G]=(0,a.useState)(!1);(0,a.useEffect)(()=>{Z&&U&&O&&!B&&!$&&G(W("ce_dweb_board_preview_share_button").anyEnabled)},[Z,U,O,B,$,W]);let V=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{Z?V.current&&(clearTimeout(V.current),V.current=void 0):V.current||(V.current=window.setTimeout(()=>{V.current=void 0,Z||G(!1)},200))},[Z]),(0,a.useEffect)(()=>()=>{V.current&&clearTimeout(V.current)},[]);let K=S[0],q=!A&&S[0]?.name||t.bt("Cover image", "Cover image", "DrawerImageGroup", undefined, true),J=[,,].fill(0),Y=new r.Ry(1),X="square"===T?m.M0:m.z9,Q="square"===T?m.FP:m.FC,ee=K?.url?(0,g.jsx)(r.Ee,{alt:q,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:K.url}):(0,g.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"}),et=M?{filter:"blur(20px)"}:{};return(0,g.jsxs)(r.zd,{height:k?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(r.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(r.sg,{span:8,children:(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:et},height:k?"100%":void 0,position:"relative",children:(0,g.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(r.xu,{ref:H,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":s,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(I||B)&&!j&&(0,g.jsx)(r.xu,{left:!D,margin:2,position:"absolute",right:D,top:!0,zIndex:Y,children:(0,g.jsx)(b,{backgroundColor:"default",iconColor:"default",privacy:B?"secret":"protected",size:U?32:24})}),A?.url?(0,g.jsx)(r.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(f.Z,{customCover:A.isCustom,height:Q,imgPos:N?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(N):A.position||{width:0,height:0,x:0,y:0},imgUrl:N?.imageUrl??(A.url||""),renderAsImage:E,width:Math.floor(X/3*2)})}):ee]})})})}),(0,g.jsx)(r.sg,{span:4,children:(0,g.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(o||$)&&(0,g.jsxs)(r.xu,{bottom:!0,display:$?"flex":void 0,left:D,margin:2,opacity:100*!!Z,position:"absolute",right:!D,zIndex:Y,children:[$&&(0,g.jsx)(r.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(r.xu,{marginEnd:1,children:(0,g.jsx)(y.Z,{boardKey:O,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),o&&(0,g.jsx)(r.iP,{onTap:({event:e})=>L?.(e),children:(0,g.jsx)(r.hU,{accessibilityLabel:t.bt("Edit", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),J.map((e,t)=>{let n=A?S[t]:S[t+1];return(0,g.jsx)(r.xu,{height:k?"50%":void 0,position:"relative",children:(0,g.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:P}},overflow:"hidden",width:"100%",children:(0,g.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:z?"#FFDFE9":s,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,g.jsx)(r.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(r.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,g.jsx)(r.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),M&&(0,g.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(r.qd,{align:"center",color:"light",size:"400",children:t.bt("This board may contain sensitive content", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]}),(0,g.jsx)(_.Z,{visibility:Z?"visible":"none",children:(0,g.jsx)(x.Z,{additionalStyles:{backgroundColor:u.Dv.LEGO_WASH}})})]})}},201198:function(e,t,n){n.d(t,{Z:()=>c});var o=n(686659),s=n(667294),i=n(399353),a=n(785893);let r={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function l(){return(0,a.jsx)(i.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:800,width:"100%",children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:r,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c({disabled:e,form:t,fullWidth:n,name:r,onClick:c,size:u,submitting:d,text:p}){return(0,s.useEffect)(()=>{(0,o.Z)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,a.jsxs)(i.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[d&&(0,a.jsx)(l,{}),(0,a.jsx)(i.zx,{color:"primary",disabled:e||d,form:t,fullWidth:n,name:r,onClick:c,size:u,text:p,type:"submit"})]})}},793160:function(e,t,n){n.d(t,{Z:()=>o});let o=(0,n(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,n){n.d(t,{Z:()=>i});var o=n(667294),s=n(793160);function i(){let e=(0,o.use)(s.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},113116:function(e,t,n){n.d(t,{Z:()=>S});var o=n(686659),s=n(667294),i=n(312048),a=n(399353),r=n(470205),l=n(24246),c=n(173874),u=n(501010),d=n(825605),p=n(341687),h=n(271875),_=n(92700),m=n(107416),f=n(802559),g=n(996590),b=n(510755),x=n(577564),y=n(217616),v=n(336486),w=n(832698),P=n(785893);let A=()=>n.e("37409").then(n.bind(n,263579)),C=(0,s.lazy)(A);function k({onClearBadges:e,onClick:t,onPanelChange:n,tooltipText:k}){(0,s.useEffect)(()=>{(0,o.Z)("AuthNewsButton","/app/www/growth/news/NewsConversationsButton/AuthNewsButton.tsx")},[]);let j=(0,l.Z)(),S=(0,i.TH)(),Z=(0,s.useRef)(null),[z,I]=(0,s.useState)(!1),[B,T]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!1),[M,R]=(0,s.useState)(!1),{tab:D,news_hub_id:F}=(0,p.Z)(S.search),{conversations:{conversationsUnseenCount:O,newsHubCount:N}}=(0,h.Z)(),{enabled:H}=(0,y.Z)(),{isPanelOpen:U,togglePanelState:W}=(0,w.Z)(),$=(0,v.Z)(),G=(0,u.Z)().checkExperiment("web_news_hub_badge_count_removal").anyEnabled,V=e=>{if((0,c.isCloseupPage)(S))return;let t=Math.max(e,0),n=j.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=t?`(${t}) ${n}`:n};(0,s.useEffect)(()=>{V(O+N),S.pathname.startsWith("/notifications")&&"inbox"!==D&&!$?I(!0):S.pathname.startsWith("/notifications")&&"inbox"===D&&$&&n?.(!0)},[O,N,$]);let K=()=>{t?.(),$?W("news"):I(!z),e(_.S.NEWS_HUB),V(0)};(0,s.useEffect)(()=>{let e=setTimeout(()=>{T(z),E(z),n?.(z)},100);return()=>clearTimeout(e)},[z]),(0,s.useEffect)(()=>{z&&n?.(z)},[z]);let q=j.bt("Updates", "Updates", "updates.button", undefined, true),J=j.bt("Notifications", "Notifications", "notifications.button", undefined, true),Y=k||j.bt("Notifications", "Notifications", "navbar.newsButton.tooltip", undefined, true);return(0,P.jsxs)(s.Fragment,{children:[(0,P.jsx)(a.xu,{ref:Z,"data-test-id":"bell-icon",onMouseEnter:A,position:"relative",children:H?(0,P.jsx)(f.Z,{accessibilityControls:g.o9,accessibilityLabel:q,badgeCount:N,inBadgeExperiment:G,onClick:K,selected:U("news"),tooltipText:Y,verticalNavIconName:"notifications"}):(0,P.jsx)(a.u,{accessibilityLabel:"",text:Y,zIndex:new a.H3([new a.Ry(b.fe)]),children:(0,P.jsx)(m.Z,{accessibilityLabel:J,badgeCount:N,icon:"bell",onClick:K,selected:z})})}),(0,P.jsx)(x.Jo,{children:(0,P.jsx)("div",{className:"newsHubSidebarWrapper",style:z?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:B&&!$&&(0,P.jsx)(r.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,P.jsx)(d.Z,{children:(0,P.jsx)(C,{handleDismissPanel:()=>{I(!1),R(!1)},highlightScrollSidebar:M,newsButton:Z.current,show:L,utmNewsHubId:F||null})})})})})]})}var j=n(721030);function S({onClick:e,onPanelChange:t,tooltipText:n}){return(0,s.useEffect)(()=>{(0,o.Z)("NewsButton","/app/www/growth/news/NewsConversationsButton/NewsButton.tsx")},[]),(0,P.jsx)(j.Z,{icon:"bell",children:({onClearBadges:o})=>(0,P.jsx)(k,{onClearBadges:o,onClick:e,onPanelChange:t,tooltipText:n})})}},107416:function(e,t,n){n.d(t,{Z:()=>c});var o=n(686659),s=n(667294),i=n(399353),a=n(544957),r=n(525030),l=n(785893);function c({accessibilityLabel:e,badgeCount:t=0,icon:n="speech-ellipsis",onClick:c,selected:u=!1}){return(0,s.useEffect)(()=>{(0,o.Z)("NotificationsButton","/app/www/growth/news/NewsConversationsButton/NotificationsButton.tsx")},[]),(0,l.jsx)(r.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,l.jsx)(a.Z,{count:t,iconSlot:(0,l.jsx)(i.JO,{accessibilityLabel:"",color:u?"default":"subtle",icon:n,size:24}),itemLabel:e}),onClick:c,text:e,type:"button"},"NotificationsButton")}},802559:function(e,t,n){n.d(t,{Z:()=>l});var o=n(686659),s=n(667294),i=n(104999),a=n(593302),r=n(785893);function l({dataTestId:e,accessibilityLabel:t,accessibilityControls:n,tooltipText:l,badgeCount:c,onClick:u,selected:d,verticalNavIconName:p,inBadgeExperiment:h}){(0,s.useEffect)(()=>{(0,o.Z)("VerticalNavNotificationsButton","/app/www/growth/news/NewsConversationsButton/VerticalNavNotificationsButton.tsx")},[]);let _=(0,i.Z)();return(0,r.jsx)(a.Td,{accessibilityControls:n,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:c,dataTestId:e,iconName:p,inBadgeExperiment:h,onClick:({event:e})=>{_({event_type:101,component:8,element:1187}),u&&u(e)},selected:d,tooltipText:l})}},996590:function(e,t,n){n.d(t,{AI:()=>O,AM:()=>w,AY:()=>X,Ay:()=>r,C:()=>et,Cc:()=>u,DX:()=>B,GO:()=>D,HJ:()=>l,I2:()=>U,IO:()=>ea,IV:()=>s,J0:()=>b,LL:()=>ee,Ng:()=>o,P:()=>k,P3:()=>g,QE:()=>es,QX:()=>en,Rd:()=>C,So:()=>y,V$:()=>h,Vp:()=>V,WC:()=>Z,Z1:()=>d,ZH:()=>E,aE:()=>f,c4:()=>j,cU:()=>S,ci:()=>z,d1:()=>_,di:()=>H,gb:()=>Q,gs:()=>R,hD:()=>$,hf:()=>N,hp:()=>F,hy:()=>a,ie:()=>x,kJ:()=>Y,kc:()=>A,mD:()=>G,mM:()=>I,o9:()=>i,pv:()=>p,qZ:()=>P,qb:()=>v,uW:()=>M,uZ:()=>c,uy:()=>K,vG:()=>q,wA:()=>m,wl:()=>W,yS:()=>eo,yc:()=>L,yf:()=>er,ys:()=>J,zM:()=>T});let o={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",JOURNEY:"journey",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},s=3,i="news-feed-sidebar",a=360,r=15,l=375,c=64,u=36,d=78,p=44,h=344,_=376,m=164,f=328,g=164,b=108.7,x=3,y=82,v=82,w=164,P=164,A=4,C=164,k=164,j=2,S=82,Z=164,z=2,I=2,B=4,T=328,L="290x",E="170x",M={backgroundColor:"rgba(0, 0, 0, 0.4)"},R=4,D="1px",F=48,O=32,N=36,H="136x136",U=2,W=24,$=20,G=72,V=48,K=54,q=54,J=4,Y=118,X=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},ee="recommendation",et="dropdown_item_settings_id",en=10,eo=20,es=5e3,ei="#E9E4FF",ea={backgroundColor:ei,borderColor:ei,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},er={...ea,paddingRight:"10px"}},92700:function(e,t,n){n.d(t,{S:()=>o});let o={NEWS_HUB:1,INBOX:2}},66110:function(e,t,n){n.d(t,{Z:()=>i});var o=n(935059),s=n(501010);function i(){let{checkExperiment:e}=(0,s.Z)(),t=(0,o.Z)();return t.isAuth&&t.isPartner&&e("aid_exp_ia_update_engagement").anyEnabled}},959646:function(e,t,n){n.d(t,{Z:()=>R});var o=n(686659),s=n(667294),i=n(312048),a=n(399353),r=n(27399),l=n(4533),c=n(943152),u=n(935059),d=n(24246),p=n(173874),h=n(501010),_=n(34550),m=n(893957),f=n(271875),g=n(1690),b=n(92700),x=n(492601),y=n(32602),v=n(107416),w=n(802559),P=n(510755),A=n(230201),C=n(319226),k=n(774838),j=n(810717),S=n(217616),Z=n(785893);function z({conversation:e,anchor:t}){(0,s.useEffect)(()=>{(0,o.Z)("MessageNotification","/app/www/messages/MessageNotification.tsx")},[]);let[n,i]=(0,s.useState)(!1),{dropdownOpen:r,conversationOpen:c}=(0,f.Z)(),u=(0,d.Z)(),{isRTL:p}=(0,k.B)(),{logContextEvent:h}=(0,A.u)(),{enabled:g}=(0,S.Z)();if((0,m.Z)(()=>{let t=e.last_message,n=_.ZP.getItem(l.Td);t&&t.id!==n&&setTimeout(()=>{i(!0),h({event_type:13,component:14993}),_.ZP.setItem(l.Td,t.id),_.ZP.setItem(l.eQ,Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||i(!1)}),setTimeout(()=>{i(!1)},5e3)},j.XZ)}),!e.last_message||!n)return null;let{sender:b}=e.last_message,x=b.first_name||b.username||"",y=e.last_message.pin?u.bt("sent you a Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):u.bt("sent you a message", "sent you a message", "navbar.messageNotifications.text", undefined, true),v=(0,Z.jsxs)(a.xe,{color:"light",inline:!0,children:[(0,Z.jsxs)(a.xe,{color:"light",inline:!0,weight:"bold",children:[x," "]}),y]}),w=(0,Z.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,children:[(0,Z.jsx)(a.xu,{marginEnd:3,children:(0,Z.jsx)(C.qE,{name:x,size:"sm",src:b.image_large_url??void 0})}),v]}),z="down";return g&&(z=p?"left":"right"),(0,Z.jsx)(a.mh,{zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,Z.jsx)(a.iP,{onTap:()=>{r(),c(e.id),i(!1),h({event_type:101,component:14993})},children:(0,Z.jsx)(a.xu,{id:"message-notif-toast",children:(0,Z.jsx)(a.pl,{anchor:t,idealDirection:z,onDismiss:()=>{},role:"dialog",size:"flexible",type:"notification",children:w})})})})}var I=n(336486),B=n(832698);function T(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends s.Component{constructor(...e){super(...e),T(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),T(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(b.S.INBOX),this.updateBrowserTabTitleCount(0)}),T(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:o,openConversationsDropdown:s,onClick:i}=this.props;if(i?.(),t){e&&e.stopPropagation(),t();return}n?o():s(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,p.isCloseupPage)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),o=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${o}`:o}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMessage:o,isVerticalNavEnabled:s}=this.props,i=t.bt("Messages", "Messages", "messages.button", undefined, true),r=t.bt("Messages", "Messages", "navbar.conversationsButton.tooltip", undefined, true),l="notifications-button";return(0,Z.jsxs)(a.xu,{ref:this.setButtonRef,position:"relative",children:[s?(0,Z.jsx)(w.Z,{accessibilityControls:x.rC,accessibilityLabel:i,badgeCount:e,dataTestId:l,onClick:this.handleButtonClick,selected:n,tooltipText:r,verticalNavIconName:"messages"}):(0,Z.jsx)(a.u,{accessibilityLabel:"",text:r,zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,Z.jsx)(a.xu,{"data-test-id":l,children:(0,Z.jsx)(v.Z,{accessibilityLabel:i,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),o&&(0,Z.jsx)(z,{anchor:this.anchor,conversation:o})]})}}function E(e){(0,s.useEffect)(()=>{(0,o.Z)("AuthConversationsButton","/app/www/messages/AuthConversationsButton.tsx")},[]);let t=(0,d.Z)(),n=(0,c.Z)(),a=(0,i.TH)(),{isAuth:b,isLimitedLogin:x}=(0,u.Z)(),{enabled:v}=(0,S.Z)(),{isPanelOpen:w}=(0,B.Z)();(0,m.Z)(()=>{b&&!x&&r.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:P,newsHubCount:A,showConversationsDropdown:C},dropdownClose:k,dropdownOpen:z}=(0,f.Z)(),{checkExperiment:T}=(0,h.Z)(),{setInboxButton:E}=(0,y.Z)(),M=(0,g.Z)().find(e=>e.unread>0),R=(0,p.isHomePage)(a),D=_.ZP.getItem(l.eQ),F=D&&Date.now()-Number(D)<j.VC,O=R&&!C&&!F&&M&&T("sg_dweb_app_start_msg_notif").anyEnabled,N=(0,s.useRef)(!0),{togglePanelState:H}=(0,B.Z)(),U=(0,I.Z)();return(0,s.useEffect)(()=>{N.current||e.onPanelChange?.(C),N.current=!1},[C]),(0,Z.jsx)(L,{...e,closeConversationsDropdown:U?()=>H("conversations"):k,conversationsUnseenCount:P,conversationWithUnreadMessage:O?M:null,i18n:t,isVerticalNavEnabled:v,location:a,newsHubCount:A,openConversationsDropdown:U?()=>H("conversations"):z,requireAuth:n,setInboxButton:E,showPanel:U?w("conversations"):C})}var M=n(721030);function R({onClick:e,onPanelChange:t}){return(0,s.useEffect)(()=>{(0,o.Z)("ConversationsButton","/app/www/messages/ConversationsButton.tsx")},[]),(0,Z.jsx)(M.Z,{icon:"speech-ellipsis",children:({onClearBadges:n})=>(0,Z.jsx)(E,{onClearBadges:n,onClick:e,onPanelChange:t})})}},721030:function(e,t,n){n.d(t,{Z:()=>v});var o,s=n(686659),i=n(667294),a=n(399353),r=n(167912),l=n(27399),c=n(986475),u=n(661376),d=n(640200),p=n(271875),h=n(92700),_=n(785893);let m=(0,c.Z)(d.Z);class f extends i.Component{constructor(...e){var t,n,o;super(...e),t="handleClearBadges",n=e=>{e===h.S.NEWS_HUB?(l.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let o=m(e.data);n(o.conversationsUnseenCount),t(o.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function g({conversationBadgeCall:e,children:t}){let n=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:o,updateUnreadCount:s}=(0,p.Z)();return(0,_.jsx)(f,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:o,updateUnreadCount:s,children:t})}function b({children:e}){return(0,i.useEffect)(()=>{(0,s.Z)("BadgeManager","/app/www/messages/BadgeManager.tsx")},[]),(0,_.jsx)(g,{conversationBadgeCall:(()=>{let e=(void 0!==o||(o=n(71697)).hash&&"d6f840c748407c7aa62123d5beac3239"!==o.hash&&console.error("The definition of 'BadgeManagerMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[t]=(0,r.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,o)=>{o&&n(o[0]),e(t)},onError:e=>n(e)})})})(),children:e})}var x=n(217616),y=n(593302);function v({icon:e,children:t}){(0,i.useEffect)(()=>{(0,s.Z)("DeferredMessagesButton","/app/www/messages/DeferredMessagesButton.tsx")},[]);let[n,o]=(0,i.useState)(!1),{enabled:r}=(0,x.Z)();return((0,i.useEffect)(()=>{o(!0)},[]),n)?(0,_.jsx)(b,{children:t}):(0,_.jsx)(a.xu,{paddingX:1,children:(0,_.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:r?(0,_.jsx)(y.QV,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,_.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},810717:function(e,t,n){n.d(t,{VC:()=>y,XZ:()=>x,ZP:()=>v});var o=n(686659),s=n(667294),i=n(312048),a=n(399353),r=n(27399),l=n(4533),c=n(319226),u=n(924591),d=n(935059),p=n(24246),h=n(173874),_=n(34550),m=n(577356),f=n(739405),g=n(893957),b=n(785893);let x=2e3,y=864e5;function v(){(0,s.useEffect)(()=>{(0,o.Z)("NotifcationToastForUnreadMessage","/app/www/notifications/NotifcationToastForUnreadMessage.tsx")},[]);let e=(0,p.Z)(),t=(0,d.Z)(),{isAuth:n,isLimitedLogin:v}=t,w=t.isAuth?t?.avatar_color_index:void 0,{showToast:P}=(0,m.dI)(),A=(0,i.s0)(),C=(0,i.TH)(),k=(0,h.isHomePage)(C),j=(0,f.HG)();return(0,g.Z)(()=>{let t=async()=>{let t=r.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),o=_.ZP.getItem(l.eQ),s=o&&Date.now()-Number(o)<y,i=n&&k&&!s&&n.last_message,d=_.ZP.getItem(l.Td);if(i&&i.id!==d){_.ZP.setItem(l.Td,i.id),_.ZP.setItem(l.eQ,Date.now());let{sender:t}=i,o=t.first_name||t.username||"",s=i.pin?e.bt("sent you a Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):e.bt("sent you a message", "sent you a message", "navbar.messageNotifications.text", undefined, true),r=(0,b.jsxs)(a.xe,{inline:!0,children:[(0,b.jsxs)(a.xe,{inline:!0,weight:"bold",children:[o," "]}),s]});setTimeout(()=>{P(({hideToast:s})=>(0,b.jsx)(u.Z,{duration:5e3,onHide:s,primaryAction:{accessibilityLabel:e.bt("Reply to the message", "Reply to the message", "NotificationToast.replyButton.accessibilityLabel", undefined, true),label:e.bt("Reply", "Reply", "NotificationToast.replyButton.buttonText", undefined, true),onClick:()=>{A(`/conversation/${n.id}`),s()}},text:r,thumbnail:{avatar:(0,b.jsx)(c.qE,{color:w,name:o,size:"sm",src:t.image_large_url||""})}}))},x)}};!n||v||j||t()}),null}},395878:function(e,t,n){n.d(t,{Z:()=>m});var o,s=n(686659),i=n(667294);n(167912);var a=n(399353),r=n(943152),l=n(183e3),c=n(24246),u=n(36351),d=n(500602),p=n(785893);let h=(void 0!==o||(o=n(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==o.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);class _ extends i.Component{constructor(...e){var t,n,o;super(...e),n={flyoutOpen:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{board:e,bgColor:t="default",children:n,iconColor:o="subtle",onCreatePincode:s,showTooltip:r,size:l="lg"}=this.props,{flyoutOpen:c}=this.state,h={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},_=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},m=n&&n({active:c,onClick:()=>_()})||(0,p.jsx)(a.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n.bt("Send board", "Send Board", "Accessible label for button to send board", undefined, true),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:o,onClick:({event:e})=>_(e),selected:c,size:l,tooltip:r?{text:this.props.i18n.bt("Share board", "Share board", "sendBoardFlyout.button.tooltip", undefined, true)}:void 0});return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.xu,{ref:e=>{this.anchor=e},children:m}),this.state.flyoutOpen&&(0,p.jsx)(a.mh,{zIndex:d.m6,children:(0,p.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>_(),positionRelativeToAnchor:!1,size:"flexible",children:(0,p.jsx)(u.Z,{component:13216,onCreatePincodeClick:s?()=>{_(),s()}:void 0,onHide:()=>_(),sendType:"board",sharedObject:h,viewType:5})})})]})}componentDidMount(){(0,s.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let m=e=>{(0,i.useEffect)(()=>{(0,s.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,c.Z)(),n=(0,r.Z)(),o=(0,l.Z)(h,e.boardKey);return(0,p.jsx)(_,{...e,board:o,i18n:t,requireAuth:n,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,t,n){n.d(t,{Z:()=>g});var o,s=n(686659),i=n(667294);n(244311);var a=n(399353),r=n(230201),l=n(943152),c=n(290216),u=n(183e3),d=n(24246),p=n(774838),h=n(395878),_=n(554365),m=n(785893);let f=(void 0!==o||(o=n(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==o.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function g({boardKey:e,color:t,handleCreatePincode:n,iconColor:o,hasBoardToolStyles:g,hasShadow:b,showTooltip:x,size:y="lg"}){(0,i.useEffect)(()=>{(0,s.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:v}=(0,r.u)(),w=(0,d.Z)(),P=(0,l.Z)(),{userAgent:{platform:A}}=(0,p.B)(),C="android"===A,k=(0,i.useRef)(null),j=(0,u.Z)(f,e),[S,Z]=(0,i.useState)(!1),z=S?"lightWash":t;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(h.Z,{boardKey:j,iconColor:o,onCreatePincode:n,onOpen:()=>{if(P)return void P();(0,_.Z)(v)},sendBoardButtonRef:k,showTooltip:x,size:y,children:g?({active:e,onClick:t})=>(0,m.jsx)(a.iP,{onTap:t,rounding:500,children:(0,m.jsxs)(a.xu,{alignItems:"center",color:e?"selected":z,display:"flex",elevation:b?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),paddingX:4,rounding:500,children:[(0,m.jsx)(a.xu,{marginEnd:2,children:(0,m.jsx)(a.JO,{accessibilityLabel:w.bt("Share", "Share", "Board.ShareButton", undefined, true),color:e?"light":"default",icon:C?"share-android":"share",size:20})}),(0,m.jsx)(a.xv,{color:e?"inverse":"default",children:w.bt("Share", "Share", "Board.ShareButton", undefined, true)})]})}):void 0}),(0,m.jsx)(c.N,{anchors:{3018:k.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,t,n){n.d(t,{Z:()=>o});function o(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},427475:function(e,t,n){n.d(t,{Z:()=>u});var o=n(581722),s=n(782677),i=n(27399),a=n(470880),r=n(647908),l=n(233597),c=n(660322);function u(){let e=(0,o.I0)(),t=(0,o.v9)(e=>e.resources);return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:o}){let u=await i.Z.create("BoardResource",n).callCreate(),d=u.resource_response.data,p=o?(0,s.Fv)(d,o):void 0;e((0,c.XM)("BoardResource",n,u,p)),e((0,a.fO)({event_type:20})),d.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:d.owner.id,field_set_key:"save_behavior"}}));let h=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(h).forEach(t=>{(0,r.k)(t).username===d.owner?.username&&e((0,c.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{(0,r.k)(t).username===d.owner?.username&&e((0,c.jB)("BoardsFeedResource",t))}),d}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63011.en_GB-9db725be26b058cd.mjs.map