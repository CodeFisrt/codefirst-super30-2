(self.modernJsonp=self.modernJsonp||[]).push([["87066"],{108679:function(e,t,r){var o=r(121296),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return o.isMemo(e)?s:a[e.$$typeof]||n}a[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[o.Memo]=s;var d=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,r,o){if("string"!=typeof r){if(y){var n=f(r);n&&n!==y&&e(t,n,o)}var s=u(r);p&&(s=s.concat(p(r)));for(var a=c(t),m=c(r),_=0;_<s.length;++_){var R=s[_];if(!i[R]&&!(o&&o[R])&&!(m&&m[R])&&!(a&&a[R])){var g=l(r,R);try{d(t,R,g)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,l=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case p:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case l:case c:return e;default:return t}}case m:case y:case n:return t}}}function R(e){return _(e)===p}t.typeOf=_,t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=d,t.ContextProvider=c,t.Element=o,t.ForwardRef=l,t.Fragment=i,t.Lazy=m,t.Memo=y,t.Portal=n,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===a||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===d||e.$$typeof===l)},t.isAsyncMode=function(e){return R(e)||_(e)===u},t.isConcurrentMode=R,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===n},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f}},121296:function(e,t,r){e.exports=r(396103)},892703:function(e,t,r){var o=r(150414);function n(){}e.exports=function(){function e(e,t,r,n,i,s){if(s!==o){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},45697:function(e,t,r){e.exports=r(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,l=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,_=r?Symbol.for("react.lazy"):60116,R=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case p:case i:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case d:case l:case _:case m:case c:return e;default:return t}}case n:return t}}}function h(e){return S(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=d,t.ContextProvider=c,t.Element=o,t.ForwardRef=l,t.Fragment=i,t.Lazy=_,t.Memo=m,t.Portal=n,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return h(e)||S(e)===u},t.isConcurrentMode=h,t.isContextConsumer=function(e){return S(e)===d},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===l},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===_},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===n},t.isProfiler=function(e){return S(e)===a},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===a||e===s||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===c||e.$$typeof===d||e.$$typeof===l||e.$$typeof===g||e.$$typeof===b||e.$$typeof===E||e.$$typeof===R)},t.typeOf=S},659864:function(e,t,r){e.exports=r(869921)},78273:function(e,t,r){function o(e){return"/"===e.charAt(0)}function n(e,t){for(var r=t,o=r+1,n=e.length;o<n;r+=1,o+=1)e[r]=e[o];e.pop()}r.d(t,{Z:()=>i});let i=function(e,t){void 0===t&&(t="");var r,i=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&o(e),c=t&&o(t),d=a||c;if(e&&o(e)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var u=s[s.length-1];r="."===u||".."===u||""===u}else r=!1;for(var p=0,l=s.length;l>=0;l--){var f=s[l];"."===f?n(s,l):".."===f?(n(s,l),p++):p&&(n(s,l),p--)}if(!d)for(;p--;)s.unshift("..");!d||""===s[0]||s[0]&&o(s[0])||s.unshift("");var y=s.join("/");return r&&"/"!==y.substr(-1)&&(y+="/"),y}},817468:function(e,t,r){r.d(t,{Z:()=>a});var o=r(667294),n=r(183230),i=r(767415);function s(e,t,r){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends o.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,n.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},470205:function(e,t,r){r.d(t,{Z:()=>o});let o=r(817468).Z},935059:function(e,t,r){r.d(t,{$:()=>o,Z:()=>i});let{Provider:o,get:n}=(0,r(213491).Z)("viewer"),i=n},24246:function(e,t,r){r.d(t,{Z:()=>i,q:()=>o});let{Provider:o,get:n}=(0,r(213491).Z)("i18n"),i=n},501010:function(e,t,r){r.d(t,{Z:()=>n});var o=r(774838);let n=()=>(0,o.Ts)().experimentsClient},250026:function(e,t,r){function o(e,t,r,n=0){if(-1===t||-1===r||t===r)return e;let i=r+n,s=t+n;if(i<0||i>=e.length||s<0||s>=e.length)return e;let a=[...e],c=a[s],d=s<i?1:-1;for(let t=s;t!==i;t+=d)a[t]=e[t+d];return a[i]=c,a}r.d(t,{Z:()=>o})},774838:function(e,t,r){r.d(t,{B:()=>i,P2:()=>a,Ts:()=>n,gf:()=>s});let o=r(969634),{getRequestContext:n}=o,{useRequestContext:i}=o,{useUpdateRequestContext:s}=o,{RequestContextProvider:a}=o},969634:function(e,t,r){r.r(t),r.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>c,useRequestContext:()=>u,useUpdateRequestContext:()=>p});var o=r(667294),n=r(659541),i=r(907049),s=r(785893);let a=(0,o.createContext)(null);function c(){return(0,o.use)(a).requestContextState}function d({children:e,initialValue:t}){let[r,c]=(0,o.useState)(t),d=(0,o.useMemo)(()=>({requestContextState:r,updateRequestContext:e=>{let t={...r,...e};(0,i.Z)(r,e)||c(t),(0,n.J)(t)}}),[r]);return(0,s.jsx)(a,{value:d,children:e})}function u(){let e=(0,o.use)(a);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function p(){let e=(0,o.use)(a);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},317109:function(e,t,r){r.d(t,{Z:()=>c});var o=r(686659),n=r(667294),i=r(653015);function s({children:e}){if("undefined"==typeof window)throw Error(i.u);return e}var a=r(785893);function c({children:e,fallback:t}){return(0,n.useEffect)(()=>{(0,o.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,a.jsx)(n.Suspense,{fallback:t,children:(0,a.jsx)(s,{children:e})})}},748025:function(e,t,r){r.d(t,{Z:()=>i});var o=r(236269),n=r(935833);function i(){let e=navigator.serviceWorker;return e&&e.getRegistration?((0,n.My)("mweb_service_worker.unregister_attempt"),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>((0,n.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{let t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>(0,n.My)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{(0,n.tj)("mweb_service_worker.unregister_fail",{error:(0,o.Z)(e,"message")})})})):Promise.resolve()}},907049:function(e,t,r){function o(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(r=>e[r]===t[r])}r.d(t,{Z:()=>o})},658337:function(e,t,r){r.d(t,{J:()=>y,Z:()=>g});var o=r(250026),n=r(184661),i=r(42676),s=r(830949),a=r(407775),c=r(210730),d=r(438274);let u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>e?.url==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":e?.url==="/v3/users/me/interests/"?`recommended-interests:${e.data?.blend_type}`:e?.url===`/v3/usecases/${e.data?.use_case_id}/feed/`?"useCaseFeed":e?.url===`/v3/boards/${e.data?.board_id}/automagical/pins/`?`automagical-board-feed:${e.data?.board_id}`:e?.url===`/v3/aggregated_pin_data/${e.data?.aggregated_pin_data}/comments/`?`aggregated-comments:${e.data?.aggregated_pin_data}`:e?.url==="/v3/users/me/boards/archived/"?"archived-boards":"",AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentReplyFeedResource:e=>`${d.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItUserFeedResource:e=>`profile-tried:${e.username}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>`search:${(0,i.Tb)(e)}`,BaseSearchResource:e=>`search:${(0,i.Tb)(e)}`,SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},l={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),ApiResource:({options:{url:e,data:t}})=>e===`/v3/usecases/${t?.use_case_id}/feed/`?{type:d.Z.USE_CASE_TAB,id:t.use_case_id}:e===`/v3/boards/${t?.board_id}/automagical/pins/`?{type:d.Z.AUTOMAGICAL_BOARD_FEED,id:t.board_id}:e===`/v3/aggregated_comments/${t.aggregated_comment}/replies/`?{type:t.isUnifiedComment?d.Z.AGGREGATED_COMMENT_REPLIES:d.Z.AGGREGATED_COMMENTS,id:t.aggregated_comment,reversed:!0}:e===`/v3/aggregated_pin_data/${t?.aggregated_pin_data}/comments/`?{type:d.Z.AGGREGATED_COMMENTS,id:t.aggregated_pin_data}:null,BoardFeedResource:({options:{board_id:e}})=>({type:d.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:d.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:d.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:d.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t,filter_types:r}})=>({type:d.Z.PROFILE_BOARDS,id:(0,s.Z)(e,t,r)}),BaseSearchResource:({options:e,response:t})=>({type:d.Z.SEARCH_PINS,id:(0,i.Tb)(e),items:t.resource_response.data?.results||[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:d.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:d.Z.TRIED_IT_FEED,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:d.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:d.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:d.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:d.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:d.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:d.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:d.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:d.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},f=(e,{pinId:t,oldFeedId:r,newFeedId:o})=>r===o?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter(e=>"pin"!==e.type||e.id!==t)}:e)(e,{pinId:t,feedId:r}),{pinId:t,feedId:o}),y=(e,t)=>e in p?p[e](t):null,m=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,_=(e,t)=>e.map(e=>{let{id:r,schema:o,type:n}=e;return"home_feed_tabs"===n?e:o?{id:r,type:o,trackingParams:"pin"===o?t.pins[r].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),R=(e,t,r)=>Object.keys(e).reduce((o,n)=>{let i=e[n]||[],s=i.filter(e=>{if(e.type!==t)return!0;if("reaction"===t){let t=e.id.lastIndexOf(":");return e.id.substring(0,t)!==r}return e.id!==r});return i.length!==s.length&&(o[n]=s),o},{...e}),g=(e={},t)=>{switch(t.type){case n.zP:case n.aW:{let{payload:r}=t,{resource:o,options:i,normalizedResponse:s,schema:u}=r;if(s&&o in p){let r=((e,t,r)=>{let o=r||a.Z[e];if(o===c.LR)return t.result;if(o===c.sN)return t.result.map(e=>({id:e,schema:"board"}));if(o===c.Gn)return t.result.map(e=>({id:e,schema:"user"}));if(o===c.Ht)return t.result.map(e=>({id:e,schema:"invite"}));if(o===c.fE)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof o){let e=Object.entries(o).find(([,e])=>e===c.LR);if(e)return t.result[e[0]]}return null})(o,s,u);if(r&&Array.isArray(r)){let a=p[o](i);if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[a]:r};if("UnifiedCommentsResource"===o){let o=_(r,s.entities);if(e[a]&&(n.zP||n.aW===t.type))return{...e,[a]:[...e[a],...o]};return{...e,[a]:o}}{let o=[...t.type===n.aW&&e[a]||[],..._(r,s.entities)];return{...e,[a]:o}}}}else{let{data:o}=r.response.resource_response;if(!r.options?.redux_normalize_feed)return e;let i=l[r.resource]({options:r.options,response:r.response});if(i){let{type:r,id:s,items:a,reversed:c}=i,u=(a||o||[]).filter(Boolean).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id??"",type:"story",story_type:e.story_type??""};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===d.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:let r="useCaseFeed"===t&&"tracking_params"in e;return{type:"pin",id:e.id??"",...r&&{trackingParams:e.tracking_params}}}})(e,r));c&&(u=u.reverse());let p=`${r}:${s}`,l=e[p];if(l||t.type!==n.aW){let r=l||[],o=u;return t.type===n.aW&&(o=c?u.concat(r):r.concat(u)),{...e,[p]:o}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:r,feedId:n,itemType:i,targetItemId:s,sourceItemId:a}}=t,c=`${r}:${n}`,u=e[c]||[],p=-1,l=-1;if([d.Z.BOARDFEED,d.Z.BOARD_SECTION_PINS,d.Z.BOARD_SECTIONS,"profileBoards"].includes(r)&&(p=u.findIndex(e=>e.type===i&&e.id===a),l=u.findIndex(e=>e.type===i&&e.id===s)),-1!==p&&-1!==l)return{...e,[c]:(0,o.Z)(u,p,l)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:r,feedId:o,inverseSelection:n,itemType:i,itemIds:s=[]}}=t,a=`${r}:${o}`,c=e[a]||[];if(c&&c.length>0&&(r===d.Z.BOARD_SECTION_PINS||r===d.Z.BOARDFEED)){let t=c.filter(e=>{let t=s.includes(e.id);return!(e.type===i&&(n&&!t||!n&&t))}),r=!!t.find(e=>"pin"===e.type);return{...e,[a]:r?t:[]}}if(c&&c.length>0&&r===d.Z.BOARD_SECTIONS||c&&c.length>0&&(r===d.Z.AGGREGATED_COMMENTS||r===d.Z.BOARDLESS_PINS||r===d.Z.PROFILE_PINS_FEED||r===d.Z.STORY_PINS_FEED||r===d.Z.UNIFIED_COMMENTS||r===d.Z.TRIED_IT_FEED||r===d.Z.STORY_PIN_DATA)){let t=c.filter(e=>{let t=s.includes(e.id);return!(e.type===i&&t)});return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:r,feedId:o,itemType:n,itemIds:i=[],prepend:s}}=t,a=`${r}:${o}`,c=e[a]||[];if(c&&(r===d.Z.BOARD_SECTION_PINS||r===d.Z.BOARDFEED||r===d.Z.BOARDLESS_PINS)){let t=i.map(e=>({id:e,type:n})),r=0;"story"===(c[0]||{}).type&&(r=1),"story"===(c[1]||{}).type&&(r=2);let o=[...c.slice(0,r),...t,...c.slice(r)];return{...e,[a]:o}}if(c&&r===d.Z.BOARD_SECTIONS){let t=[...i].reverse().map(e=>({id:e,type:"boardsection"})),r=c?[...t,...c]:[...t];return{...e,[a]:r}}if(r===d.Z.AGGREGATED_COMMENTS||r===d.Z.AGGREGATED_COMMENT_REPLIES||r===d.Z.PROFILE_PINS_FEED||r===d.Z.STORY_PINS_FEED||r===d.Z.UNIFIED_COMMENTS){let t=i.map(e=>({id:e,type:n})),r=c?[...s?t:c,...s?c:t]:t;return{...e,[a]:r}}if(r===d.Z.TRIED_IT_FEED){let t=i.map(e=>({id:e,type:n})),r=c?[...t,...c]:t;return{...e,[a]:r}}break}case"FEED_INVALIDATE":{let{payload:{feedType:r,feedId:o}}=t,n=`${r}:${o}`;return e[n],{...e,[n]:null}}case"APPEND_FEED_ITEMS":{let{payload:{id:r,items:o,options:n}}=t,i=e[r];if(!i)return{...e,[r]:o};{let t;return t=n.isPrepend?i[0]&&"story"===i[0].type?[].concat(i[0],o,i.slice(1)):o.concat(i):i.concat(o),{...e,[r]:t}}}case"PIN_DELETE":{let{payload:{pinId:r}}=t;return R(e,"pin",r)}case"BOARD_ARCHIVE":{let{payload:{boardId:r,username:o}}=t,n=`profile-boards:${o??""}`;if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==r)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:r}}=t,o="archived-boards";if(e[o])return{...e,[o]:e[o].filter(e=>e.id!==r)};break}case"BOARD_DELETE":{let{payload:{boardId:r}}=t;return R(e,"board",r)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:r}}=t;return R(e,"boardsection",r)}case"PINS_MOVE":{let{payload:{source:r,target:o,pinIds:n,userId:i}}=t,s=r.boardlessPins&&i&&`boardless-pins:${i}`||r.boardId&&m(r.boardId,r.sectionId),a=m(o.boardId,o.sectionId);return n.reduce((e,t)=>f(e,{pinId:t,oldFeedId:s,newFeedId:a}),e)}case"PINS_MOVE_ALL":{let{payload:{source:r,target:o,excludePinIds:n}}=t,i=m(r.boardId,r.sectionId),s=m(o.boardId,o.sectionId),a={...e,[i]:n.map(e=>({type:"pin",id:e}))};return delete a[s],a}case"PIN_EDIT":{let{payload:{pinId:r,boardId:o,sectionId:n="",source:{boardId:i,sectionId:s}}}=t;return f(e,{pinId:r,oldFeedId:m(i,s),newFeedId:m(o,n)})}case n.AF:if(u.has(t.payload.resource)){let r,o=t.payload.response.resource_response.data,{board:n}=o;if("quick_saves"===n.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{let e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[r]){let t={...e},n={id:o.id,type:"pin",trackingParams:o?.tracking_params};return t[r]=[n].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let r=t.payload.normalizedResponse.result,o=t.payload.normalizedResponse.entities.boardsections[r].board,n=`board-sections:${o}`;if(e[n]){let t={...e};return t[n]=[{id:r,type:"boardsection"}].concat(e[n]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){let r={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},o={...e};for(let n of["aggregated-comments","unified-comments"]){let i=`${n}:${t.payload.options.objectId}`;e[i]&&(o={...o,[i]:[r].concat(o[i])})}return o}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){let r=`${d.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[r]:[...e[r]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){let{reaction_pin_id:r,reaction_type:o}=t.payload.options;if("reaction"===t.payload.options.action_type){let n=`reactions:${t.payload.options.pin_id}`,i={...e},s={id:`${r}:${t.payload.options.user_id}:${o}`,type:"reaction",trackingParams:void 0};return i[n]=[s].concat(e[n]),i}if("unreaction"===t.payload.options.action_type)return R(e,"reaction",`${r}:${t.payload.options.user_id}`)}}return e}},74259:function(e,t,r){r.d(t,{Ig:()=>f,ZP:()=>l,$k:()=>u});var o=r(244311),n=r(966502),i=r(178355),s=r(702121),a=r(767415);function c(e,t,r){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends Error{constructor(...e){super(...e),c(this,"name","GraphQLFetchError"),c(this,"extraData",{})}}function u(e){let t=!0;async function r(r,o){let c=Date.now(),u=(0,i.H)(),p=document.cookie.match(RegExp("\\b"+n.fS.name+"=.+?($|;)","g")),l=e?e():{},f=(0,s.Z)({handler:u,queryName:r.name,windowIsInFocus:t,...l});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:f,body:JSON.stringify({queryHash:r.id,variables:o})});return(0,a.LY)("pws.graphql.fetchQueryClient.request",Date.now()-c,{sampleRate:1,tags:{handler:u??"unknown",queryName:r.name,status:e.status}}),await e.json()}catch(t){let e=new d(t.message);throw e.stack=t.stack,e.extraData={csrfCookies:p?.join(";")??"unknown",requestHeaders:f},(0,a.nP)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:u,queryName:r.name}}),e}}return window.addEventListener("focus",()=>t=!0),window.addEventListener("blur",()=>t=!1),function(e,t){return function(e,t){let r=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let r=Object.keys(t).sort(),o={};for(let n=0;n<r.length;n+=1)o[r[n]]=e(t[r[n]]);return o}({queryID:e.id??e.cacheID,variables:t})),o=window.__PWS_RELAY_SSR_REQUESTS__?.[r];if(!o)return null;let n=(0,i.H)(),s=o.status;return((0,a.nP)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:n??"unknown",queryName:e.name,status:s}}),o.promise.finally(()=>{(0,a.LY)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${o.status}`,o.endTime-o.startTime,{tags:{handler:n??"unknown",initialStatus:s,queryName:e.name}}),"completed"===o.status&&o.startTime>o.endTime&&(0,a.nP)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:n??"unknown",queryName:e.name}})}),"completed"===o.status)?o.response:"rejected"===o.status?null:o.promise}(e,t)??r(e,t)}}let p=null;function l(){let e=new o.Environment({network:o.Network.create(u()),store:new o.Store(new o.RecordSource)});return"undefined"!=typeof window&&(p=e),e}function f(){return p}},702121:function(e,t,r){r.d(t,{Z:()=>i});var o=r(97092),n=r(824216);function i({handler:e,queryName:t,windowIsInFocus:r}){let{searchParams:i}=new URL(window.location.href),s=i.get("force_country"),a=i.get("force_country_from_ip"),c=i.get("force_region_from_ip"),d=i.get("skan_test"),u={};return s&&(u["X-Force-Country"]=s),a&&(u["X-Force-Country-From-IP"]=a),c&&(u["X-Force-Region-From-IP"]=c),d&&(u["X-Pinterest-SKAN-Testing"]=d),e&&(u["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,o._V)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,n.Z)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":r?"active":"background",...u}}},653015:function(e,t,r){r.d(t,{Z:()=>n,u:()=>o});let o="HIDDEN_ON_SERVER_ERROR",n=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(o)},216019:function(e,t,r){function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(null,arguments)}r.d(t,{Z:()=>o})},920727:function(e,t,r){r.d(t,{Z:()=>n});var o=r(986143);function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.Z)(e,t)}},70443:function(e,t,r){function o(e,t){if(null==e)return{};var r={};for(var o in e)if(({}).hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;r[o]=e[o]}return r}r.d(t,{Z:()=>o})},986143:function(e,t,r){function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:()=>o})},121835:function(e,t,r){r.d(t,{Z:()=>o});function o(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/87066-a8143076f441619c.mjs.map