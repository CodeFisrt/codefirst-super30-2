(self.modernJsonp=self.modernJsonp||[]).push([["11131"],{654471:function(e,t,i){i.r(t),i.d(t,{default:()=>o});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669";let o=r},176923:function(e,t,i){i.r(t),i.d(t,{default:()=>o});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let o=r},759271:function(e,t,i){i.d(t,{Z:()=>a});var r=i(501010),o=i(774838),n=i(739405);function a(){let{isAuthenticated:e}=(0,o.B)(),t=(0,n.ml)(),{checkExperiment:i}=(0,r.Z)();return{mWebCloseupRedesignEnabled:e&&t&&i("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:i("mweb_closeup_redesign").group}}},758714:function(e,t,i){i.d(t,{DW:()=>n,I:()=>o,Rn:()=>l,e3:()=>u,fO:()=>p,oo:()=>r,rj:()=>h,rk:()=>s,t7:()=>d,zI:()=>a});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},o=.18,n=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2,a=e=>{let t=e.replace("#",""),i=parseInt(t.substr(0,2),16);return(299*i+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},l=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:i,minSaturationClamp:o,mixVal:n=1,minBrightnessClamp:a=0})=>{let l=r(e);null===l&&(l=[229,229,224]);let d=((e,t,i)=>{let r=Math.max(e/=255,t/=255,i/=255),o=r-Math.min(e,t,i),n=0;return 0!==o&&(n=(r===e?(t-i)/o+6*(t<i):r===t?(i-e)/o+2:(e-t)/o+4)*60)<0&&(n+=360),{h:n,s:0===r?0:o/r,b:r}})(...l),s=(e,t,i)=>Math.max(t,Math.min(e,i));d.s=s(d.s*(1+t),o,1),d.b=s(d.b*(1+i),a,1);let u=(({h:e,s:t,b:i})=>{let r=i*t,o=r*(1-Math.abs(e/60%2-1)),n=i-r,a=0,l=0,d=0;return e<60?(a=r,l=o):e<120?(a=o,l=r):e<180?(l=r,d=o):e<240?(l=o,d=r):e<300?(a=o,d=r):(a=r,d=o),{r:Math.round((a+n)*255),g:Math.round((l+n)*255),b:Math.round((d+n)*255)}})({...d}),c=e=>({r:Math.round(u.r*n+e*(1-n)),g:Math.round(u.g*n+e*(1-n)),b:Math.round(u.b*n+e*(1-n))}),p=c(0),h=c(255);return[[p.r,p.g,p.b],[h.r,h.g,h.b]]};function d(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),i="rgba"===t.slice(0,4).toLowerCase(),r=!i&&"rgb"===t.slice(0,3).toLowerCase();if(!i&&!r)return{r:0,g:0,b:0,a:0};let o=t.indexOf("("),n=t.indexOf(")",o);if(-1===o||-1===n)return{r:0,g:0,b:0,a:0};let a=t.slice(o+1,n).split(",").map(e=>e.trim());if(i&&4!==a.length||r&&3!==a.length)return{r:0,g:0,b:0,a:0};let[l,d,s,u]=a,c=Number(l),p=Number(d),h=Number(s),g=i?Number(u):1;return[c,p,h].some(e=>Number.isNaN(e))||i&&Number.isNaN(g)?{r:0,g:0,b:0,a:0}:{r:c,g:p,b:h,a:g}}function s(e,t){let i=e.a+t.a*(1-e.a);return 0===i?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/i),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/i),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/i),a:i}}let u=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,c=e=>e.toString(16).padStart(2,"0"),p=(e,t)=>{let i=r(e);if(!i)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[o,n,a]=i,l=Math.max(0,Math.min(100,t))/100,d=Math.round(o+(255-o)*l),s=Math.round(n+(255-n)*l),u=Math.round(a+(255-a)*l);return`#${c(d)}${c(s)}${c(u)}`},h=(e,t)=>u(((e,t)=>{let i=r(e);if(!i)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[o,n,a]=i;return{r:o,g:n,b:a,a:Math.max(0,Math.min(1,t))}})(e,t))},610142:function(e,t,i){i.d(t,{Zt:()=>H,iK:()=>$,ZP:()=>q});var r=i(686659),o=i(667294),n=i(581722),a=i(312048),l=i(399353),d=i(290216),s=i(261954),u=i(309947),c=i(806513),p=i(24246),h=i(906127),g=i(774838),f=i(619481),m=i(661376),x=i(70625),w=i(739405),b=i(662911);let y=new Map;var _=i(31425),v=i(596663),I=i(471310),S=i(989045),F=i(966039),j=i(759302),P=i(285676),T=i(956701),k=i(914253),C=i(228612),L=i(836643),R=i(645479),N=i(633101),M=i(734802),E=i(589247),B=i(384296),Z=i(9065),A=i(785893);function z(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let D=(0,Z.Z)(()=>i.e("65300").then(i.bind(i,827555)),void 0,e=>827555,"app-www-businessNux-BizNuxHomefeedLoader",e=>["65300"]),K=(0,Z.Z)(()=>i.e("68443").then(i.bind(i,173842)),void 0,e=>173842,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["68443"]);class W extends o.PureComponent{constructor(...e){super(...e),z(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,F.HW)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),z(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),z(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),z(this,"gridContainerRef",(0,o.createRef)()),z(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:r,performanceOptimization:o,showSeoMetadata:n,surface:a,trafficSource:l,getReduxPin:d}=this.props,{auxData:s,componentType:u,feedback:c,imageOnly:p,impressionData:h,objectIdStr:g,oneTapSave:f,onFeedItemClick:m,onPinLinkClick:x,shouldAllowProductPriceIndicator:w,showSeoMetadata:b,viewData:y,viewParameter:_,viewType:v}=i||{},I=(r.search||"").includes("force_seo"),S=!!o?.lazyLoadBelowFoldIndex&&t>o.lazyLoadBelowFoldIndex,F=!!o?.priorityFetchAboveFoldIndex&&t<=o.priorityFetchAboveFoldIndex,j=d(e.id);return(0,A.jsx)(P.r,{auxData:s,componentType:u||0,duploFeedItemProps:{onPinClick:m,onPinLinkClick:x,showSeoMetadata:n||I||b},duploLazyLoadImage:S,duploOneTapSave:f,duploPriorityFetchImage:F,duploShouldAllowProductPriceIndicator:w,feedback:c,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:g,pinId:e.id,pinKey:j?{type:"Legacy",data:j}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:a,trackingParams:e.trackingParams,trafficSource:l,viewData:y,viewParameter:_,viewType:v||1})}),z(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),z(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:i}=this.props,r=this.getBoardId(),o="board"===i&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&r?e(r):null;return o?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,_.IA)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,_.do)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:r,authHomefeedComponentDidUpdate:o}=this.props,n=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(n&&this.setState({refreshing:!1}),o&&i){let t=o({feedItems:r,prevFeedItems:e.feedItems,finishedRefresh:n,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:i,experimentalGutter:r,feedItemProps:n,feedItems:a,feedItemsAdjustment:u,feedKey:p,feedStoryId:g,getColumnSpanConfig:f,gridConfig:m,i18n:w,pageSize:y,pagination:_,pullToRefresh:F,renderFeedItem:P,serverRender:T,showBizNuxHomefeedLoader:k,trafficSource:C,visuallyCompleteProfilerOptions:L,isLoadingStateEnabled:Z,initialLoadingStatePinCount:z,isLoadingAccessibilityLabel:W,isLoadedAccessibilityLabel:H}=this.props,{unauthLandingPinStateForAuthHomefeed:O}=this.state,$=O?.feedItem&&a.length?[O.feedItem,...a]:a,{viewParameter:U,viewType:G}=n||{},{gridMeasurementKey:q}=m||{},J=p+(q?`|${q}`:""),V="user_search"===C,Y=V?window.innerWidth-16:void 0,Q=$.some(e=>"board"===e.type),X={columnWidth:(0,v.SY)({deviceType:e,customMWebColumnWidth:Y,experimentalColumnWidth:Q?236:i}),renderItem:({data:e,itemIdx:t})=>{if(P){let i=P(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,A.jsx)(R.Z,{children:this.renderFeedPin(e,t)});case"user":return(0,A.jsx)(B.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:V,viewParameter:U,viewType:G});case"board":let i=this.props.getReduxBoard(e.id);return(0,A.jsx)(b.default,{boardKey:i?{type:"Legacy",data:i}:null,type:"grid",viewParameter:U,viewType:G});case"topic":return(0,A.jsx)(M.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:U,viewType:G});case"story":if("number"==typeof U)return(0,A.jsx)(N.Z,{slotIndex:t,storyId:e.id,viewParameter:U,viewType:G||1});return null;case"FEED_BREAK_IN":return u&&"breakIn"===u.type&&u.value.content;default:return null}},gutterWidth:(0,v.s)({experimentalGutter:r,trafficSource:C,deviceType:e}),loadItems:_.loadNext,minCols:V?1:2,...m},ee=!k&&_.isLoadingNext&&0===$.length&&!this.state.refreshing&&!Z,et=y&&25>parseInt(y,10),ei=u?.type==="fullWidthBreakIn"?[{type:"feed",id:`${J}_feed_0`,item:$.slice(0,u.value.index)},{type:"fullWidthBreakIn",id:`${J}_break_in_0`,item:u.value.content},{type:"feed",id:`${J}_feed_1`,item:$.slice(u.value.index)}]:[{type:"feed",id:J,item:$}],er="desktop"===e,eo=er&&"flashlight"===C,en=eo?0:c.qG;return(0,A.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,A.jsx)(I.Z,{auxData:n?.auxData||null,enabled:!!F,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:n?.viewParameter||null}),(0,A.jsxs)(l.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:en,marginStart:en,opacity:this.state.refreshing?50:100,children:[(0,A.jsxs)(h.Z,{includeBackgroundImages:L?.includeBackgroundImages,includeVideos:L?.includeVideos,isAtEndOfFeed:!_.hasNext,isPlaceholderGrid:Z&&_.isLoadingNext&&!$.length,itemCount:$.length,pinData:L?.pins,children:[$.length||Z&&_.isLoadingNext?(0,A.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,v.kk)({isDesktop:er}),children:(0,A.jsx)(x.Z.Consumer,{children:e=>(0,A.jsx)(o.Fragment,{children:(0,A.jsx)(E.Z,{children:ei.map(t=>"feed"===t.type?(0,A.jsx)(s.default,{cacheKey:J,getColumnSpanConfig:f,id:T?p:void 0,initialLoadingStatePinCount:z,isFetching:_.isLoadingNext,isLoadedAccessibilityLabel:H??"",isLoadingAccessibilityLabel:W??"",isLoadingStateEnabled:!!Z,items:t.item,scrollContainerRef:e,serverRender:T,...X},t.id):"fullWidthBreakIn"===t.type?(0,A.jsx)(l.xu,{children:t.item},t.id):null)})})})}):_.isLoadingNext?(0,A.jsx)(S.Z,{}):t??null,_.isLoadingNext&&"board"===C&&et&&!Z&&(0,A.jsx)(l.xH,{accessibilityLabel:w.bt("Loading", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),ee&&(0,A.jsx)(l.xu,{column:12,paddingY:2,children:(0,A.jsx)(j.Z,{partialViewportWidth:eo})}),k&&(0,A.jsx)(D,{gridContainerRef:this.gridContainerRef,homefeedLoading:_.isLoadingNext}),!er&&!_.hasNext&&(0,A.jsx)(d.b9,{placementId:1000251}),g&&!this.hideMoreIdeas()&&(0,A.jsx)(l.xu,{marginBottom:6,children:(0,A.jsx)(K,{storyId:g})})]})]})}}function H({feedItems:e,pagination:t,...i}){(0,o.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:l}=i,d=(0,a.TH)(),s=(0,w.ZP)(),c=(0,p.Z)(),{isAuthenticated:h,isBot:f}=(0,g.B)(),{isBizNuxHomefeedLoadShown:m}=(0,n.v9)(({session:e})=>e),x=e;l?.type==="breakIn"&&(x=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=y.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return y.set(e,i),i})(e),...t.slice(e)])({items:e,breakIn:l.value}));let{experimentalColumnWidth:b,experimentalGutter:_}=(0,u.Z)(),v=(0,k.gC)(),I=(0,C.S6)();return(0,A.jsx)(W,{...i,deviceType:s,experimentalColumnWidth:b,experimentalGutter:_,feedItems:x,getReduxBoard:v,getReduxPin:I,i18n:c,isAuthenticated:h,location:d,pagination:t,showBizNuxHomefeedLoader:!!m,showSeoMetadata:f||!h})}function O({isAtEnd:e,isFetching:t,fetchMore:i,refresh:r,...o}){let a=(0,n.v9)(({feeds:e})=>e[o.feedKey]??[]),l=(0,n.v9)(({desktopStories:e})=>e),{featuredBoardStoryId:d,feedStoryId:s}=(0,L.Z)(a,l),u=(0,n.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),c=(0,n.I0)();return(0,A.jsx)(H,{...o,featuredBoardStoryId:d,feedItems:a,feedStoryId:s,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>{u?c((0,T.H5)(!1)):r()}}})}function $({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...a}){return(0,o.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),(0,A.jsx)(O,{...a,fetchMore:i,isAtEnd:e,isFetching:t,refresh:n})}function U({resourceConfig:e,...t}){let i=(0,m.Z)(e);return(0,A.jsx)($,{...t,resource:i})}function G({resourceRef:e,fetchMore:t,refresh:i,...r}){let{isAtEnd:o}=(0,f.Z)(e);return(0,A.jsx)(O,{...r,fetchMore:t,isAtEnd:o,isFetching:!1,refresh:i})}function q({resourceConfig:e,resourceRef:t,fetchMore:i,refresh:n,...a}){return((0,o.useEffect)(()=>{(0,r.Z)("Feed","/app/www/Feed.tsx")},[]),t)?(0,A.jsx)(G,{...a,fetchMore:i??(()=>{}),refresh:n??(()=>{}),resourceRef:t}):(0,A.jsx)(U,{...a,resourceConfig:e})}},31425:function(e,t,i){i.d(t,{IA:()=>n,cV:()=>o,do:()=>a});let r={},o=e=>{r[e]&&r[e].handlePullToRefresh()},n=(e,t)=>{r[e]=t},a=e=>{delete r[e]}},716848:function(e,t,i){i.d(t,{H:()=>r,J:()=>o});let{Provider:r,getMaybe:o}=(0,i(213491).Z)("PinCreateDeleteContext")},966039:function(e,t,i){i.d(t,{Es:()=>s,HW:()=>d,er:()=>c,rQ:()=>u});var r=i(4533),o=i(34550),n=i(767415);let a=e=>e>=Date.now()-72e5,l=(e,t)=>{let i=[];if(e)for(let r of e)(!t||r.is_shared)&&a(r.ts)&&i.push(r);return i},d=()=>{let e=(0,o.M0)().getItem(r.uc)??[],t=l(e,!1),i=l(e,!0),n=t.map(e=>e.first_pin_image_signature),d=i.map(e=>e.first_pin_image_signature),s=(e=>{let t={};if(e)for(let i of e)i.is_shared&&a(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(e);return{extraPlpImages:n,plpImageRenderData:t,extraBlpImages:l((0,o.M0)().getItem(r.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:d,sharedPinData:s}},s=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(e[i].id!==t[i].id)return!1;return!0},u=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),c=(e,t,i,r)=>{let o={};return e.forEach(e=>{let a=e.id,l=e.pins.length??0;o[a]=l,(0,n.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:a,gender:i,age:r,use_case_display_name:e.display_name}}),(0,n.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:a,gender:i,age:r,use_case_display_name:e.display_name}})}),o}},775907:function(e,t,i){i.d(t,{Z:()=>d});var r=i(686659),o=i(667294),n=i(399353),a=i(351736),l=i(785893);function d({color:e,image:t,isSelected:i,title:d}){(0,o.useEffect)(()=>{(0,r.Z)("PillRep","/app/www/nux/PillRep.tsx")},[]);let s=(0,a.vs)();return(0,l.jsxs)(n.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:s?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,l.jsx)(n.zd,{height:48,rounding:"circle",width:48,children:t.url&&(0,l.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,l.jsx)(n.xu,{marginEnd:3,marginStart:2,children:(0,l.jsx)(n.xe,{color:i?"inverse":s?"light":"dark",weight:"bold",children:d})})]})}},199024:function(e,t,i){i.d(t,{ZN:()=>a,fv:()=>l,hr:()=>n,lD:()=>d});var r=i(27399);function o(e,t){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let n=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),a=(e,t,i)=>async r=>{r(n(e,!0));try{await o(e,i).callCreate(),t({event_type:601,object_id_str:e})}catch(t){r(n(e,!1))}},l=(e,t,i)=>async r=>{r(n(e,!1));try{await o(e,i).callDelete(),t({event_type:602,object_id_str:e})}catch(t){r(n(e,!0))}},d=(e,t="")=>i=>r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let r=e[t];i(n(t,r))})})},836643:function(e,t,i){i.d(t,{Z:()=>o});let r={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},o=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:i,featuredBoardStoryId:r,feed:o,feedStoryId:n,footerStoryId:a},l,d)=>{let s="story"===l.type&&t[l.id]?.story_type,u="board_ideas_feed"===s,c="board_ideas_preview_detailed"===s,p=!1;if("board_shop_tool_module"===s){let e=t[l.id];p=!!e.custom_properties?.is_full_width}return{feed:o.concat(c||u||p?[]:[l]),featuredBoardStoryId:"featured_boards"===s?l.id:r,feedStoryId:u?l.id:n,footerStoryId:c?l.id:a,boardShopModuleId:p?l.id:e,boardShopModuleIndex:p?d:i}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):r},734802:function(e,t,i){i.d(t,{Z:()=>j});var r,o,n=i(686659),a=i(667294),l=i(581722),d=i(167912),s=i(399353),u=i(104999),c=i(774838),p=i(338065),h=i(199024),g=i(24246),f=i(720459),m=i(775907),x=i(785893);let w=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:o,locale:n,nameTextSize:a,renderAsPill:l,showFollowerCount:d,topicName:u,followerCount:c,image:p})=>{let h=(0,g.Z)(),w=(0,f.Z)(),b=(0,x.jsx)(s.JO,{accessibilityLabel:h.bt("Selected", "Selected", " - ", undefined, true),color:"light",icon:r?"check":"circle-check",size:r?12:24});return l?(0,x.jsx)(m.Z,{color:e||"#767676",image:p,isSelected:o??!1,title:u}):(0,x.jsxs)(s.xu,{"aria-selected":o,position:"relative",children:[(0,x.jsx)(s.zd,{rounding:r||i?4:2,children:(0,x.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,x.jsx)(s.xu,{bottom:!0,left:!0,padding:r&&o?1:0,position:"absolute",right:!0,rounding:r&&o?400:0,top:!0,children:p.url&&(0,x.jsx)(s.Ee,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,x.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:o?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:r&&o?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:r?400:void 0,top:!0}),r&&o&&(0,x.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),i?(0,x.jsx)(s.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,x.jsx)(s.xv,{align:"center",color:"light",size:a,weight:"bold",children:u})}):(0,x.jsxs)(s.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,x.jsx)(s.xv,{color:"light",size:a,weight:"bold",children:u}),d&&c>=0&&(0,x.jsx)(s.xu,{paddingY:1,children:(0,x.jsxs)(s.xv,{color:"inverse",size:"100",children:[(0,x.jsx)(s.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:w(n,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),h.bt("followers", "followers", " - ", undefined, true)]})})]}),o&&(0,x.jsx)(s.xu,{margin:2,position:"absolute",right:!0,top:!0,children:r?(0,x.jsx)(s.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:b}):b})]})},b=(void 0!==r||(r=i(654471)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==r.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),y=({topicRef:e,...t})=>{(0,a.useEffect)(()=>{(0,n.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let i=(0,d.useFragment)(b,e),r=i.images?{url:i.images.url??"",width:i.images.width??0,height:i.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,x.jsx)(w,{backgroundColor:i.background_color??"",followerCount:i.follower_count??0,image:r,topicName:i.name??"",...t})},_=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...r})=>{(0,a.useEffect)(()=>{(0,n.Z)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let o=i||e||t,l=o?.images?.["236x"]||o?.images?.["400x"]||o?.images?.["474x"]||o?.images?.orig||{height:1,url:"",width:1},d=o&&"follower_count"in o&&void 0!==o.follower_count?o.follower_count:-1;return(0,x.jsx)(w,{backgroundColor:o?.background_color||"",followerCount:d,image:l,topicName:o?.name||"",...r})},v=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,markForRefresh:o,nameTextSize:n="lg",onTouch:a,padding:d=2,renderAsPill:g,showFollowButton:f=!1,showFollowerCount:m=!1,shouldClickthrough:w=!1,topic:b,viewParameter:v,viewType:I})=>{let S=(0,l.I0)(),F=(0,u.Z)(),{locale:j}=(0,c.B)(),P=(0,x.jsxs)(s.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==b.type?(0,x.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:j,nameTextSize:n,renderAsPill:g,showFollowerCount:m,topic:b.topic,topicBlob:b.topicBlob,topicInfoForContextualExp:b.topicInfoForContextualExp}):(0,x.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,locale:j,nameTextSize:n,renderAsPill:g,showFollowerCount:m,topicRef:b.topicRef}),!!b&&f&&(0,x.jsx)(s.xu,{paddingY:2,children:(0,x.jsx)(p.Z,{followEventType:601,id:b.id,inline:t,invertColors:t,isFollowed:b.is_followed,onFollow:e=>{S((0,h.ZN)(e,F)),o&&o()},onUnfollow:e=>{S((0,h.fv)(e,F)),o&&o()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:v||void 0,viewType:I||void 0})})]}),T="/";return b&&(T=`/topics/${b.id}`),w&&b.slug?(0,x.jsx)(s.Tg,{href:T,onTap:({event:e})=>{a?.(e)},rounding:2,tapStyle:"compress",children:(0,x.jsx)(s.xu,{padding:d,children:P})}):P},I=(void 0!==o||(o=i(176923)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==o.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:r,isSelected:o=!1,markForRefresh:n,nameTextSize:a="lg",onTouch:l,padding:s=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:f})=>{let m=(0,d.useFragment)(I,e);return(0,x.jsx)(v,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:r,isSelected:o,markForRefresh:n,nameTextSize:a,onTouch:l,padding:s,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:{id:m.entityId??"",type:"graphql",is_followed:m.is_followed??!1,topicRef:m},viewParameter:g,viewType:f})},F=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:r,decreaseNamePadding:o=!1,isHomefeedTuner:n,isLego:a,isSelected:d=!1,markForRefresh:s,nameTextSize:u="lg",onTouch:c,padding:p=2,renderAsPill:h,showFollowButton:g=!1,showFollowerCount:f=!1,shouldClickthrough:m=!1,viewParameter:w,viewType:b})=>{let y=(0,l.v9)(({topics:t})=>t[e]),_=t??y;return(0,x.jsx)(v,{decreaseNamePadding:o,isHomefeedTuner:n,isLego:a,isSelected:d,markForRefresh:s,nameTextSize:u,onTouch:c,padding:p,renderAsPill:h,shouldClickthrough:m,showFollowButton:g,showFollowerCount:f,topic:{id:e,is_followed:!!_?.is_followed,topic:_,topicBlob:i,topicInfoForContextualExp:r,type:"resource"},viewParameter:w,viewType:b})},j=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:r=!1,markForRefresh:o,nameTextSize:l="lg",onTouch:d,padding:s=2,renderAsPill:u,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:f,...m})=>((0,a.useEffect)(()=>{(0,n.Z)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),m.topicRef?(0,x.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:r,markForRefresh:o,nameTextSize:l,onTouch:d,padding:s,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topicRef:m.topicRef,viewParameter:g,viewType:f}):(0,x.jsx)(F,{decreaseNamePadding:e,id:m.id,isHomefeedTuner:t,isLego:i,isSelected:r,markForRefresh:o,nameTextSize:l,onTouch:d,padding:s,renderAsPill:u,shouldClickthrough:h,showFollowButton:c,showFollowerCount:p,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:g,viewType:f}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11131.en_GB-a6130d55739e95a5.mjs.map