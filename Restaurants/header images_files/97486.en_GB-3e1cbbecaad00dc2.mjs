(self.modernJsonp=self.modernJsonp||[]).push([["97486"],{452391:function(e,t,r){r.d(t,{BW:()=>M,Cj:()=>x,Cp:()=>N,G1:()=>L,Lp:()=>U,TG:()=>G,Wd:()=>C,ZP:()=>B,cT:()=>O,cY:()=>v,hA:()=>H,ln:()=>j,mQ:()=>b,ml:()=>F,p:()=>Z,tX:()=>D,tt:()=>y,xw:()=>k});var n=r(399353),i=r(872103),a=r(792323);let o=new n.Ry(10),s=new n.H3([o]),l=new n.H3([s]),d=new n.H3([l]),c=new n.H3([d]),_=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),u={[_.AGE_18_20]:2,[_.AGE_21_24]:3,[_.AGE_25_34]:4,[_.AGE_35_44]:5,[_.AGE_45_49]:6,[_.AGE_50_54]:7,[_.AGE_55_64]:8,[_.AGE_65_PLUS]:9,AGE_UNSUPORTED:10},p=a.Z.ONE_MONTH,E={[a.Z.ONE_WEEK]:i.Z.DAILY,[a.Z.ONE_MONTH]:i.Z.DAILY,[a.Z.THREE_MONTH]:i.Z.WEEKLY,[a.Z.SIX_MONTH]:i.Z.WEEKLY,[a.Z.ONE_YEAR]:i.Z.WEEKLY},T=Object.freeze({DETAIL:"/detail/",HOME:"/"}),m={[a.Z.ONE_WEEK]:1,[a.Z.ONE_MONTH]:2,[a.Z.THREE_MONTH]:3,[a.Z.SIX_MONTH]:4,[a.Z.ONE_YEAR]:5},h={[a.Z.ONE_WEEK]:7,[a.Z.ONE_MONTH]:30,[a.Z.THREE_MONTH]:90,[a.Z.SIX_MONTH]:180,[a.Z.ONE_YEAR]:365,[a.Z.TWO_YEAR]:730},R={MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"},A={...R,UNSPECIFIED:"unknown"},f={[R.MALE]:0,[R.FEMALE]:1,[R.UNSPECIFIED]:2},S={TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"},I=Object.freeze({[S.TOP_TRENDS_INTERNAL]:"Top Trends",[S.GROWING_TRENDS_INTERNAL]:"Growing Trends",[S.BREAKOUT_TRENDS_INTERNAL]:"Breakout Trends"}),g={[S.TOP_MONTHLY_TRENDS]:"Top Monthly Trends",[S.TOP_YEARLY_TRENDS]:"Top Yearly Trends",[S.GROWING_TRENDS]:"Growing Trends",[S.SEASONAL_TRENDS]:"Seasonal Trends"},O=Object.freeze({L1:1,L2:2,L3:3}),y=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),N=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),P=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),b=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),v="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",D=`https://trends.pinterest.com${T.DETAIL}`,L="conversion-trends-default-tour-id",C="conversion-trends-fre-modal-tour-id",w=Object.freeze([a.Z.ONE_MONTH,a.Z.ONE_YEAR,a.Z.THREE_MONTH,a.Z.ONE_MONTH]),x="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",U="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",M={p100Banner:"https://i.pinimg.com/originals/45/12/ef/4512ef5659332bd6b6d33b523636fcb9.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},H="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",Z=444,G="ads_interest_resource",k=["conversions","brandAwareness","consideration"],F=10,j=91,B={PAGES:T,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:o,Z_INDEX_TRENDS_FEEDBACK_BUTTON:s,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:l,Z_INDEX_TRENDS_SEARCH_FORM:d,Z_INDEX_TRENDS_TOOLTIP:c,DEPRECATED_GESTALT_COLORS_HEX_VALUES:{red:"var(--base-color-red-300)",white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"},MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,DESKTOP_MOMENT_PREDICTION_CHART_HEIGHT:440,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166,EXTERNAL_FILTER_BAR_WIDTH:225},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:R,GENDER_MP:A,GENDER_TO_THRIFT_CONST:f,AGE_BUCKETS:_,AGE_TO_THRIFT_CONST:u,THRIFT_TO_AGE_CONST:{2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"},THRIFT_TO_GENDER_CONST:{0:"male",1:"female",2:"unknown"},LOOK_BACK_WINDOW:a.Z,LOOK_BACK_WINDOW_DEFAULT:p,LOOK_BACK_WINDOW_TO_THRIFT_CONST:m,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:E,LOOK_BACK_WINDOW_TO_DAYS:h,TRENDS_TYPES:S,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:I,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:g,URL_PARAM_BOOLEAN_VALUES:{TRUE:"true",FALSE:"false"},SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:w,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom",IN:"India",AU:"Australia"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:`
`,COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",MOMENT_IMAGE_CARD_SIZE:"70x70",PERSONALIZED_TREND_TYPES:P,PREDICTION_SUPPORTED_COUNTRIES:["US"],MOMENT_PREDICTION_LOOKBACK_DAYS:730,MILLISECONDS_PER_DAY:864e5}},879233:function(e,t,r){r.d(t,{Z:()=>n});let n=(0,r(667294).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:()=>{},closeUpsellUnauthModal:()=>{}})},872103:function(e,t,r){r.d(t,{Z:()=>n});let n=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4})},357966:function(e,t,r){r.d(t,{D9:()=>E,J5:()=>p,QT:()=>R,kc:()=>m,nc:()=>h,pV:()=>u,y1:()=>T});var n=r(667294),i=r(312048),a=r(325476),o=r(879233),s=r(357045),l=r(230201),d=r(935059),c=r(774838),_=r(893957);let u=()=>{let e=(0,i.TH)();return(0,n.useMemo)(()=>new URLSearchParams(e.search).get("country")||"US",[e])},p=e=>{let t=(0,i.TH)(),{isInternalIP:r}=(0,c.B)(),{logContextEvent:n}=(0,l.u)(),o=new URLSearchParams(t.search);(0,_.Z)(()=>{Object.values(s.Z.URL_PARAM_UTM_VALUES).some(e=>null!==o.get(String(e)))&&n({event_type:13,view_type:e,aux_data:{release_version:2,is_internal_ip:r,...Object.values(s.Z.URL_PARAM_UTM_VALUES).reduce((e,t)=>(e[String(t)]=o.get(String(t)),e),{})}})}),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,a.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},E=e=>{let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{t.current=e},[e]),t.current},T=(e,t)=>{let r=(0,n.useRef)(void 0),i=()=>{r.current&&clearTimeout(r.current)};return(0,n.useEffect)(()=>i,[]),n=>{i(),r.current=setTimeout(()=>{e(n)},t)}},m=(e,t="0px")=>{let[r,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let r=new IntersectionObserver(([e])=>{i(e.isIntersecting)},{rootMargin:t});return e.current?(r.observe(e.current),()=>{r.disconnect()}):()=>{}},[]),r};function h(){return(0,n.use)(o.Z)}let R=()=>{let e=(0,d.Z)(),t=(0,c.B)();return t.advertiser?t.advertiser.owner_user_id:e.isAuth&&e.id||""}},325476:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294),i=r(312048),a=r(698553),o=r(925201),s=r(341687);let l=function(e,t,r){let l=(0,i.s0)(),{search:d,pathname:c="/"}=(0,i.TH)(),_=(0,n.useMemo)(()=>new URLSearchParams(d),[d]),u=n=>{let i="reset"!==t?(0,s.Z)(window.location.search):{},d=(0,a.Km)({..."resetWithoutRefresh"===t?{}:i,[e]:n});if(!t)return;let _=r?`${r}`:c,u=(0,o.Z)(_,{...d});("push"===t||"resetWithoutRefresh"===t)&&l(u),"replace"===t&&l(u,{replace:!0}),"reset"===t&&(window.location.href=u),"replaceWithoutRefresh"===t&&i[e]!==n&&window.history.replaceState(null,"",u)};return function(t){"function"==typeof t?u(t((0,a.AY)(_.get(e)))):u(t)}}},792323:function(e,t,r){r.d(t,{Z:()=>n});let n=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D",TWO_YEAR:"730D"})},398839:function(e,t,r){r.d(t,{Y:()=>i});var n=r(452391);let i=["US","CA","IT+ES+PT+GR+MT","IT","ES","DE+AT+CH","DE","GB+IE","FR","SE+DK+FI+NO","NL+BE+LU","PL+RO+HU+SK+CZ","MX+AR+CO+CL","CO","AR","MX","BR","AU+NZ","JP","ID","IN","MY","PH","TH","SA","EG","TR","KR","AE+SA+KW+QA+OM+BH+EG+IQ+DZ","IL+NG+PK+ZA+TR+MA+IN","CR+DO+EC+GT+PE","CY+CZ+GR+HU+MT+PL+RO+SK"];n.ZP.FILTER_INTEREST_IDS_PARAM_KEY,n.ZP.FILTER_AGE_IDS_PARAM_KEY,n.ZP.FILTER_GENDERS_PARAM_KEY},357045:function(e,t,r){r.d(t,{Z:()=>n});let n=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",EDITORIAL_INDEX:"editorial",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",HAS_PREDICTIONS:"hasPredictions",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"}),EVENT:"event",GRAPH_EVENT:"graphEvent",PRODUCT_CATEGORIES:"product_categories",PAGE_NUMBER:"page",TOPIC_INTEREST_IDS:"topicInterestIds",PARENT_PRODUCT_CATEGORY:"parentProductCategory",SHOW_SIDE_NAV:"showSideNav",VIEW:"view",TAB:"tab",SHOW_UNAUTH_MODAL:"showUnauthModal",NEXT_URL:"nextUrl"})},698553:function(e,t,r){r.d(t,{$X:()=>_,AY:()=>A,BC:()=>M,Km:()=>m,Lp:()=>N,Nh:()=>P,Rf:()=>x,Sy:()=>E,X6:()=>s,XN:()=>U,Xb:()=>b,Xy:()=>c,Ye:()=>h,ZB:()=>g,ZQ:()=>v,_S:()=>L,_j:()=>l,d2:()=>D,dV:()=>R,g9:()=>p,hm:()=>d,iF:()=>S,k2:()=>f,oH:()=>y,qA:()=>T,qn:()=>u,sR:()=>o,tB:()=>O});var n=r(452391),i=r(398839),a=r(415919);r(739614);let o=(e,t,r,n=!1)=>(e.lineChartData=[...e.lineChartData,{x:t,y:r.count}],e.lineChartNormalizedData=[...e.lineChartNormalizedData,{x:t,y:r.normalizedCount}],n&&(e.areaChartData=[...e.areaChartData??[],{x:t,y:r.predictedUpperBoundCount,y0:r.predictedLowerBoundCount}],e.areaChartNormalizedData=[...e.areaChartNormalizedData??[],{x:t,y:r.predictedUpperBoundNormalizedCount,y0:r.predictedLowerBoundNormalizedCount}]),e),s=(e,t)=>(0,a.f)(new Date(e),t),l=(e,t)=>new Date(e).toLocaleDateString(t,{year:"numeric",month:"numeric",day:"numeric",timeZone:"UTC"}),d=(e,t)=>e||![3,4].includes(t),c=e=>!e||0===e.length,_=e=>c(e)?"":`${e}`.replace(/\D/g,"");function u(e,t){return Math.round(e*10**t)/10}let p=e=>e.join(n.ZP.PLUS_ICON),E=e=>e&&""!==e?e.split(n.ZP.PLUS_ICON):[],T=e=>{for(let t of n.ZP.DEPRECATED_COLOR_VALUES)if(!e.includes(t))return t;return n.ZP.DEPRECATED_COLOR_VALUES["0"]},m=e=>{let t={};for(let r in e){let n=e[r];null!==r&&""!==r.trim()&&null!=n&&""!==n.toString().trim()&&(t[r]=n)}return t},h=e=>e&&e!==n.ZP.ALL?e.split(n.ZP.URL_JOIN_SIGN):void 0,R=(e,t,r)=>e?[...e].sort((e,i)=>{let a=(e,r)=>t===n.ZP.SORT_ORDER.ASC?e-r:r-e;return r===n.ZP.SORT_BY.TOTAL_SEARCH?a(e.searchCount,i.searchCount):r===n.ZP.SORT_BY.WEEKLY_CHANGE?a(e.wow_change.index,i.wow_change.index):r===n.ZP.SORT_BY.MONTHLY_CHANGE?a(e.mom_change.index,i.mom_change.index):r===n.ZP.SORT_BY.YEARLY_CHANGE?a(e.yoy_change.index,i.yoy_change.index):a(e.reverseRank,i.reverseRank)}):[],A=e=>e&&null!=e&&/^\d+$/.test(e.toString())?parseInt(e.toString(),10):e,f=e=>e>=n.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?n.ZP.SEASONALITY_SCORE_THRESHOLD:n.ZP.SEASONALITY_SCORE_OLD_THRESHOLD,S=(e,t)=>i.Y.includes(e)?t[e]:void 0,I=(e,t)=>e>=f(t)?"Yes":"",g=({keywordsToInclude:e,keywordsToExclude:t,ageBucket:r,gender:i,lookbackWindow:a,seasonal:o,rankingMethod:s,searchParams:l,nonUrlParams:d,tableData:c})=>{let _=h(e)||[n.ZP.EXPORT_ALL],u=h(t)||[n.ZP.EXPORT_NONE],p=h(i)||[n.ZP.EXPORT_ALL],E=h(r)||[n.ZP.EXPORT_ALL],T=a&&a in n.ZP.LOOK_BACK_WINDOW_TO_DAYS?a:n.ZP.LOOK_BACK_WINDOW_DEFAULT,m=n.ZP.LOOK_BACK_WINDOW_TO_DAYS[T],R=Array.isArray(d?.checkedTerms)&&d?.checkedTerms?.length>0?d.checkedTerms.map(e=>{let t=c?.find(t=>e===t.term);return t?{trend:t?.term,totalSearches:t?.total_count.toString(),weeklyChange:t?.wow_change.value.toString(),monthlyChange:t?.mom_change.value.toString(),yearlyChange:t?.yoy_change.value.toString(),isSeasonal:I(t?.seasonality_score??0,l.dateRange.endDate)}:null}).filter(e=>null!==e):c?.map(e=>({trend:e.term,totalSearches:e.total_count.toString(),weeklyChange:e.wow_change.value.toString(),monthlyChange:e.mom_change.value.toString(),yearlyChange:e.yoy_change.value.toString(),isSeasonal:I(e.seasonality_score,l.dateRange.endDate)}))??[];return{dateRangeDate:l.dateRange.endDate,dateRangeDaysBefore:m.toString(),interests:n.ZP.CONCATENATED_INTERESTS_PARAM_KEY in d&&d[n.ZP.CONCATENATED_INTERESTS_PARAM_KEY]?d[n.ZP.CONCATENATED_INTERESTS_PARAM_KEY]:n.ZP.EXPORT_ALL,includeKeywords:_.join(", "),excludeKeywords:u.join(", "),ages:E.join(", "),genders:p.join(", "),seasonalOnly:o===n.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:s in n.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS?n.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[s]:"",selectedTrends:R}},O=()=>{let e=window.open("http://example.com/waiting.html","_blank");return e?.document.write(`<h4>${n.ZP.EXPORT_MESSAGE_HEADER}</h4><p>${n.ZP.EXPORT_MESSAGE}</p>`),e},y=e=>c(e)||"all"===e?"":e.split(n.ZP.URL_JOIN_SIGN).join(", "),N=(e,t)=>{if(!c(e)){let r={[n.ZP.GENDER.FEMALE]:t.bt("Female", "Female", "trends.filter.gender.female", undefined, true),[n.ZP.GENDER.MALE]:t.bt("Male", "Male", "trends.filter.gender.male", undefined, true),[n.ZP.GENDER.UNSPECIFIED]:t.bt("Unspecified", "Unspecified", "trends.filter.gender.unspecified", undefined, true)};return e.split(n.ZP.URL_JOIN_SIGN).map(e=>r[e]).join(", ")}return""},P=e=>c(e)||"all"===e?0:e.split(n.ZP.URL_JOIN_SIGN).length,b=e=>Object.entries(e).reduce((e,[t,r])=>(Array.isArray(r)&&(e[t]=r.map(e=>({images:{"474x":{height:0,width:0,url:e}}}))),e),{}),v=(e,t)=>{let r=[...e.results?.terms||[]].sort((e,t)=>t.affinity-e.affinity);return void 0!==t&&t>0?r.filter(e=>e.affinity>=t):r},D=(e,t,r=!1)=>!(null==e||0===e.trim().length||(r?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==t&&e.trim().length<t),L="000000000000000000",C=/^[A-z0-9]{18}$/,w=/\b([A-z0-9]{18})\b/,x=e=>C.test(e)&&e.substr(15)===(e=>{let t,r="";for(let n=0;n<3;n+=1){t=0;for(let r=0;r<5;r+=1){let i=e.substring(5*n+r,5*n+r+1);i.toUpperCase()===i&&i>="A"&&i<="Z"&&(t+=1<<r)}t<=25?r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(t,t+1):r+="012345".substring(t-26,t-25)}return r})(e.substr(0,15))&&"006"===e.slice(0,3)||e===L,U=e=>{if(e.length<18)return e;let t=e.match(w);return t&&t[0]?t[0]:e},M=(e,t=0)=>{e.current?.scrollIntoView(),window.scrollBy(0,-t)}},415919:function(e,t,r){r.d(t,{f:()=>n,i:()=>i});let n=(e,t)=>e.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}),i=(e,t)=>n(new Date(e),t)},230201:function(e,t,r){r.d(t,{B:()=>l,u:()=>s});var n=r(746868),i=r(213491),a=r(785893);let{Provider:o,get:s}=(0,i.Z)("ContextLogger");function l({children:e,value:t}){let{setViewContextData:r}=(0,n.A$)();return t.injectSetViewContextDataFromHook=r,(0,a.jsx)(o,{value:t,children:e})}},104999:function(e,t,r){r.d(t,{Z:()=>i});var n=r(230201);let i=()=>(0,n.u)().logContextEvent},784548:function(e,t,r){r.d(t,{$y:()=>a,AU:()=>c,VD:()=>u,_d:()=>i,am:()=>d,bj:()=>o,pv:()=>_,tb:()=>l,x1:()=>s});let n="local",i={INIT_CURRENT_USER_TRACKER:"INIT_CURRENT_USER_TRACKER",ADD_VISITED_PAGE:"ADD_VISITED_PAGE",ADD_COMPLETED_SEARCH:"ADD_COMPLETED_SEARCH",REMOVE_COMPLETED_SEARCH:"REMOVE_COMPLETED_SEARCH",ADD_CLICKTHROUGH_PIN:"ADD_CLICKTHROUGH_PIN",UPDATE_DOWNLOAD_COUNT:"UPDATE_DOWNLOAD_COUNT",UPDATE_SAVED_PINS:"UPDATE_SAVED_PINS",UPDATE_REVISITATION:"UPDATE_REVISITATION"},a=e=>({type:i.INIT_CURRENT_USER_TRACKER,payload:e}),o=(e,t)=>({type:i.ADD_VISITED_PAGE,payload:{path:e,pageType:t,storageType:n}}),s=e=>({type:i.ADD_COMPLETED_SEARCH,payload:{search:e,storageType:n}}),l=e=>({type:i.REMOVE_COMPLETED_SEARCH,payload:{query:e,storageType:n}}),d=e=>({type:i.ADD_CLICKTHROUGH_PIN,payload:{pin:e,storageType:n}}),c=()=>({type:i.UPDATE_DOWNLOAD_COUNT,payload:{storageType:n}}),_=e=>({type:i.UPDATE_SAVED_PINS,payload:{pins:e,storageType:n}}),u=e=>({type:i.UPDATE_REVISITATION,payload:{revisitation:e,storageType:n}})},293123:function(e,t,r){r.d(t,{$2:()=>T,EI:()=>p,HY:()=>O,Ku:()=>h,LI:()=>R,V5:()=>f,Vz:()=>u,aJ:()=>A,cn:()=>S,cq:()=>I,eo:()=>m,jo:()=>g,yb:()=>E});var n=r(4533),i=r(994507),a=r(971258),o=r(52433),s=r(34550),l=r(418282),d=r(163691),c=r(767415);function _(e){return"local"===e?(0,s.M0)():(0,l.Nl)()}let u=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return i.PW;return(t.getItem(n.pm)||i.PW).map(e=>({...e,path:(0,o.Z)(e.path)}))}catch(e){return(0,c.nP)("current_user_tracker.storage.get_visited_pages.error"),i.PW}},p=(e,t,r="local")=>{try{let s=_(r);if(!s.accessAllowed)return;let l=(0,o.Z)(e),d=[...u(r)],c=(0,a.b8)(d,l,t,i.LG);c!==d&&s.setItem(n.pm,c)}catch(e){(0,c.nP)("current_user_tracker.storage.add_visited_page.error")}},E=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return i.fE;return t.getItem(n.ny)||i.fE}catch(e){return(0,c.nP)("current_user_tracker.storage.get_completed_searches.error"),i.fE}},T=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;let o=[...E(t)],s=(0,a.aq)(o,e,i.LG);s!==o&&r.setItem(n.ny,s)}catch(e){(0,c.nP)("current_user_tracker.storage.add_completed_search.error")}},m=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;let i=[...E(t)],o=(0,a.zz)(i,e);r.setItem(n.ny,o)}catch(e){(0,c.nP)("current_user_tracker.storage.remove_completed_search.error")}},h=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return i.iK;return t.getItem(n.Vb)||i.iK}catch(e){return(0,c.nP)("current_user_tracker.storage.get_clickthrough_pins.error"),i.iK}},R=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;let o=[...h(t)],s=(0,a.UP)(o,e,i.LG);s!==o&&r.setItem(n.Vb,s)}catch(e){(0,c.nP)("current_user_tracker.storage.add_clickthrough_pin.error")}},A=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return i.cH;return parseInt(t.getItem(n.rN)||String(i.cH),10)}catch(e){return(0,c.nP)("current_user_tracker.storage.get_download_count.error"),i.cH}},f=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;r.setItem(n.rN,e.toString())}catch(e){(0,c.nP)("current_user_tracker.storage.set_download_count.error")}},S=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return i.pn;return t.getItem(n.s1)??i.pn}catch(e){return(0,c.nP)("current_user_tracker.storage.get_saved_pins.error"),i.pn}},I=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;r.setItem(n.s1,e)}catch(e){(0,c.nP)("current_user_tracker.storage.set_saved_pins.error")}},g=(e="local")=>{try{let t=_(e);if(!t.accessAllowed)return(0,i.dm)();let{count:r,time:a,ts:o}=t.getItem(n.SI)??{};if("number"==typeof r&&"number"==typeof a&&"number"==typeof o)return{count:r,time:a,ts:o};return(0,i.dm)()}catch(e){return(0,c.nP)("current_user_tracker.storage.get_revisitation.error"),(0,i.dm)()}},O=(e,t="local")=>{try{let r=_(t);if(!r.accessAllowed)return;r.setItem(n.SI,(0,d.Z)(e))}catch(e){(0,c.nP)("current_user_tracker.storage.set_revisitation.error")}}},971258:function(e,t,r){r.d(t,{UP:()=>l,aq:()=>s,b8:()=>o,zz:()=>d});var n=r(52433),i=r(163691);let a=(e,t,r)=>{let n=[t,...e];return n.length>r?n.slice(0,r):n},o=(e,t,r,o)=>{let s=(0,n.Z)(t);return((e,t)=>{let r=e.length,i=(0,n.Z)(t),a=r?(0,n.Z)(e[0].path):"";return!r||i!==a})(e,s)?a(e,(0,i.Z)({path:s,pageType:r}),o):e},s=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].query:"";return!r||t!==n})(e,t.query)?a(e,(0,i.Z)(t),r):e,l=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].pinId:"";return!r||t!==n})(e,t.pinId)?a(e,(0,i.Z)(t),r):e,d=(e,t)=>e.filter(e=>e.query!==t)},52433:function(e,t,r){r.d(t,{Z:()=>i});var n=r(197908);function i(e){let t=(0,n.Z)(e);return t?`/pin/${t}/`:e}},817468:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294),i=r(183230),a=r(767415);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends n.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,i.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},470205:function(e,t,r){r.d(t,{Z:()=>n});let n=r(817468).Z},589172:function(e,t,r){r.d(t,{Z:()=>i});var n=r(501010);function i(e){let{expName:t,anyEnabled:r,group:i}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:r}=e,n=r("web_masonry_v2",{dangerouslySkipActivation:t});return n.group?{expName:"web_masonry_v2",...n}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,n.Z)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:r,group:i,isMeasureAllEnabled:"enabled_measure_all"===i||"enabled_measure_all_impression_fix"===i,isImpressionFixEnabled:"control_impression_fix"===i||"enabled_impression_fix"===i||"enabled_measure_all_impression_fix"===i}}},935059:function(e,t,r){r.d(t,{$:()=>n,Z:()=>a});let{Provider:n,get:i}=(0,r(213491).Z)("viewer"),a=i},24246:function(e,t,r){r.d(t,{Z:()=>a,q:()=>n});let{Provider:n,get:i}=(0,r(213491).Z)("i18n"),a=i},79271:function(e,t,r){r.d(t,{Fw:()=>A,OC:()=>T,ZP:()=>R});var n=r(667294),i=r(230201),a=r(589172),o=r(609252),s=r(774838),l=r(739405),d=r(281213),c=r(358198),_=r(2061),u=r(767415),p=r(177433);let E=0,T=()=>E,m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},h=({events:e,startTime:t,endTime:r})=>e?.filter(e=>e>=t&&e<=r)||[];function R({carouselData:e,closeupImpressionType:t,closeupNavigationType:r,componentType:T,contextLogData:R,clientTrackingParams:A,duploShouldTrackPinEvents:f,elementType:S,impressionAuxFields:I,inImpressionExp:g,impressionType:O,impressionsFramework:y,isPaused:N,loggingId:P,objectIdStr:b,slotIndex:v,trackCarousel:D,viewData:L,viewParameter:C,viewType:w,isPromoted:x,storyPinProductEventData:U}){let{logContextEvent:M}=(0,i.u)(),{logMrcVideoAdEventOnPlay:H}=(0,d.H)(),{addImpression:Z}=(0,c.WW)()||{},{logStat:G}=(0,_.Yg)(),k=y||o.Z,F=(0,n.useRef)(null),j=(0,n.useRef)(e=>{});j.current=n=>{let i=m[O],a=i.idType,o={clientTrackingParams:A,endTime:n.endTime,[a]:P,slotIndex:v,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...I,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===O){E+=1;let e=[],t=n.visibleEvents||new Map,r=n.hiddenEvents||new Map;(I&&I.isPromoted||x)&&[1,50,80,2,102].forEach(i=>{let a=h({events:t.get(i),startTime:n.startTime,endTime:n.endTime}),o=h({events:r.get(i),startTime:n.startTime,endTime:n.endTime});a.forEach(t=>{e.push({type:i,time:t||0,visible:!0})}),o.forEach(t=>{e.push({type:i,time:t||0,visible:!1})})}),o={...o,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},I?.nearDupSignature&&Z&&T&&[13007,13176,68].includes(T)&&Z(I.nearDupSignature)}let s={component:T,object_id_str:b,view_type:w,view_data:L||{},view_parameter:C};if(D)e&&D&&M({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...s,aux_data:{...R}});else{let e={clientTrackingParams:A,event_type:i.eventType,...s,element:S,event_data:{[i.impressionType]:"Story"===O?o:[o],...U?{storyPinProductEventData:U}:{}},aux_data:{closeup_navigation_type:r,...R}};M(e),H(e)}f&&G("log_pin_impression")};let{expName:B,group:Y}=(0,a.Z)({skipActivation:!0}),W=(0,l.ZP)(),K=(0,p.Zv)(),{isAuthenticated:V}=(0,s.B)(),z=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=F;if(t instanceof HTMLElement&&(!x||t.getElementsByTagName("img").length>0)){let r=k.start(t);r.onExitViewport(j.current).setDebugId(P||"unknown"),f&&r.onEnterViewport(()=>{G("log_pin_impression_track_enter_viewport")}),e=!0,Y&&(0,u.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:W,experimentName:B,group:Y,handlerId:K,isAuthenticated:V,slotIndex:v??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}f&&G("log_pin_impression_track",{didStartTracking:e})},[F.current]);return(0,n.useEffect)(()=>(g&&!k.inExperiment&&k.setExperimentStatus(!0),N||z(),()=>{let{current:e}=F;e instanceof HTMLElement&&(!x||e.getElementsByTagName("img").length>0)&&k.stop(e)}),[N,z]),F}let A=({children:e,...t})=>e({impressionTrackerRef:R(t)})},446885:function(e,t,r){r.d(t,{Z:()=>p});var n=r(686659),i=r(667294),a=r(399353),o=r(759271),s=r(351736),l=r(609252),d=r(178315),c=r(774838),_=r(40763),u=r(785893);function p({children:e,footerConfig:t,headerConfig:r,height:p,hideOnScroll:E,hideOnScrollState:{isHidden:T,updateHiddenState:m},isFooterHidden:h,noPadding:R,paddingX:A,paddingY:f=d.og,type:S,zIndex:I,isStoryPin:g}){let O,y;(0,i.useEffect)(()=>{(0,n.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:N,ignoreObstructions:P,zIndexForGestaltBug:b}=r||{},{appUpsellFooterConfig:v,footerInLego:D,navFooterConfig:L}=t||{},C=!!v,w="header"===S?"top":"bottom",x=(0,s.vs)(),{isRTL:U}=(0,c.B)(),{mWebCloseupRedesignEnabled:M}=(0,o.Z)(),H=(0,i.useRef)(null),Z=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!P){let e=H.current;Z.current=N&&e&&Array.isArray(e.children)?e.children[0]:e,Z.current instanceof HTMLElement&&l.Z.addObstruction(w,Z.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!P&&Z.current instanceof HTMLElement&&l.Z.removeObstruction(w,Z.current)}},[P,N,w,x]);let G="top"===w?"relative":"fixed",k=R?0:f,F=(p??d.R$)+(r?.overrideTop||0),j=E||L?{transition:D||M?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...T||h?{transform:`translateY(${"top"===w?-F:F}px)`,opacity:D||M?0:1}:Object.freeze({})}:{},B=2*!("relative"!==G||r?.noGutter),Y=B?-B:0,W=x?s.k7:"rgba(255,255,255,.95)";x&&("header"===S?O=-1:y=-1);let K=D?C?void 0:p??d.R$:"100%",V=D?d.KJ:void 0,z=r?.isTranslucent&&W||x?W:"var(--sema-color-background-default)",X=r?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":z,q=(0,i.useMemo)(()=>({height:"footer"===S&&M?`calc(${K} + env(safe-area-inset-bottom))`:K,...M&&"footer"===S?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(k||0)}px)`}:Object.freeze({})}),[M,K,S,k]),$=(0,_.Z)({skipExpActivation:!0});return(0,u.jsx)(a.xu,{ref:H,bottom:"footer"===S,dangerouslySetInlineStyle:{__style:{top:O,bottomStyle:y,...!I||b?{zIndex:b||1}:Object.freeze({}),...N?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...j}},"data-test-id":S,display:C?"flex":void 0,height:p&&!D?p:void 0,left:!0,marginEnd:D?"auto":Y,marginStart:D?"auto":Y,onTransitionEnd:()=>{(E||L)&&Z.current&&(T||h?l.Z.removeObstruction(w,Z.current):l.Z.addObstruction(w,Z.current))},position:G,right:!0,top:"header"===S,width:D||"fixed"!==G?void 0:"100%",zIndex:b?void 0:I,children:(0,u.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:X,paddingLeft:U||!$||g?void 0:"8px",paddingRight:U&&$&&!g?"8px":void 0,...q,boxShadow:M&&"footer"===S?`0 10px 0 0 ${X}, ${d.KJ}`:V,marginBottom:D&&!L?.docked?16:void 0,...N?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:D||t?.alignCenter?"flex":void 0,marginEnd:D?"auto":void 0,marginStart:D?"auto":void 0,paddingX:A||4*("footer"===S&&!R)+B,paddingY:k,position:"relative",rounding:D&&!L?.docked?"pill":void 0,width:L?L.footerWidth:C?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:m}):e})})}},271202:function(e,t,r){r.r(t),r.d(t,{default:()=>c});var n=r(686659),i=r(667294),a=r(399353),o=r(178315),s=r(446885),l=r(763904),d=r(785893);function c({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:c,isTransparentBackground:_,noGutter:u,overrideTop:p,useRoundedCorners:E,zIndexForGestaltBug:T,isStoryPin:m,...h}){(0,i.useEffect)(()=>{(0,n.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:R,paddingY:A=o.og,zIndex:f}=h;return(0,d.jsx)(a.Le,{height:t?o.LV+2*(R?0:A)*4:void 0,top:p||0,zIndex:f||void 0,children:(0,d.jsx)(l.Z,{hideOnScroll:h.hideOnScroll,children:n=>(0,d.jsx)(s.Z,{...h,headerConfig:{isTranslucent:c,isTransparentBackground:_,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:u,overrideTop:p,zIndexForGestaltBug:T,useRoundedCorners:E},hideOnScrollState:n,isStoryPin:m,type:"header"})})})}},763904:function(e,t,r){r.d(t,{Z:()=>o});var n=r(667294),i=r(730448);function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends n.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,i.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,n=window.scrollY,i=n-this.lastScrollPos,a="none",{scrollHeight:o,clientHeight:s}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(s)||(a=i<0?n<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":n>=(window.scrollMaxY||o-s)-Math.max(i,20)?"end":"none");let l=55*!t?.isModal;e?i>20&&r&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20&&!r||n<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!r||n<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>l||"end"===a)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20||"start"===a)&&r||n<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(i>20||"end"===a)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},138482:function(e,t,r){r.d(t,{Z:()=>a});var n=r(312048);let i=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/predicts2026","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-lens-image-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function a(e){return!!(0,n.LX)({path:"/:username/",end:!0},e.pathname)&&!i.includes(e.pathname.replace(/\/$/,""))}},175860:function(e,t,r){r.d(t,{bq:()=>n,r1:()=>i,zp:()=>a});let n={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"},i=201,a=new Set([201,203])},730056:function(e,t,r){r.d(t,{Z:()=>function e(t,r,n=()=>void 0){let i=n(t,r);return void 0!==i?i:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,i,a)=>(t[a]=e(t[a],r[a],n),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,i)=>(t[i]=e(t[i],r[i],n),t),{...t}):r}})},647908:function(e,t,r){r.d(t,{Z:()=>a,k:()=>i});let n=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]);function i(e){try{if(!e)return{};return Object.fromEntries(JSON.parse(e))}catch(t){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[r,n]=t.split("=");return e[r]=JSON.parse(n),e},{})}}let a=e=>e?JSON.stringify(Object.entries("object"==typeof e?e:{}).filter(([e])=>"string"==typeof e&&!n.has(e)&&!e.startsWith("__track__")).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[e,t??null])):""},184661:function(e,t,r){r.d(t,{AF:()=>n,KK:()=>i,aW:()=>s,cR:()=>a,se:()=>l,zP:()=>o});let n="CREATE_COMPLETE",i="FETCHING",a="FETCH_ERROR",o="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},619481:function(e,t,r){r.d(t,{Z:()=>c});var n=r(667294),i=r(581722),a=r(442279),o=r(501010),s=r(629972),l=r(487038);let d=(e,t,r)=>e.resources[t]?.[r];function c(e){let{name:t,optionsKey:r}=e,c=t===s.fY,_=(0,l.MA)(),u=_?.get(t,r);if(u)throw u;let p=(0,a.createSelector)(e=>d(e,t,r),e=>e?.data),E=(0,a.createSelector)(e=>d(e,t,r),e=>e?.auxData),T=(0,a.createSelector)(e=>d(e,t,r),e=>e?.error),m=(0,a.createSelector)(e=>d(e,t,r),e=>e?.nextBookmark),h=e=>e[t]?.[r],R=(0,o.Z)().checkExperiment("www_resources_reselect").anyEnabled,A=(0,i.v9)(R?m:({resources:e})=>h(e)?.nextBookmark),f=(0,i.v9)(R?p:({resources:e})=>h(e)?.data),S=(0,i.v9)(R?E:({resources:e})=>h(e)?.auxData),I=(0,i.v9)(R?T:({resources:e})=>h(e)?.error),g=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(c)return g.current;let O={auxData:S,data:f,error:I,isAtEnd:A===s.qx,nextBookmark:A};return(O.auxData!==g.current.auxData||O.data!==g.current.data||O.error!==g.current.error||O.isAtEnd!==g.current.isAtEnd||O.nextBookmark!==g.current.nextBookmark)&&(g.current=O),g.current}},405897:function(e,t,r){r.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},748025:function(e,t,r){r.d(t,{Z:()=>a});var n=r(236269),i=r(935833);function a(){let e=navigator.serviceWorker;return e&&e.getRegistration?((0,i.My)("mweb_service_worker.unregister_attempt"),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>((0,i.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{let t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>(0,i.My)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{(0,i.tj)("mweb_service_worker.unregister_fail",{error:(0,n.Z)(e,"message")})})})):Promise.resolve()}},197908:function(e,t,r){r.d(t,{Z:()=>a});var n=r(854897),i=r(99737);let a=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,r=(0,i.Z)(e);if(t.test(r.path)){let e=r.path.match(t);if(e)return(0,n.Z)(e[1]).pinId||void 0}}},854897:function(e,t,r){r.d(t,{Z:()=>n});function n(e){if((e||"").includes("--")){let t=e.split("--"),r=t.pop();return{text:t.join("--"),pinId:r}}return{text:"",pinId:e}}},778555:function(e,t,r){r.d(t,{Z:()=>a});var n=r(925201),i=r(341687);let a=(e,t)=>{if(0===t.length)return e;let[r,a]=e.split("?"),o=Object.entries((0,i.Z)(a)).filter(([e])=>!t.includes(e)).reduce((e,[t,r])=>({...e,[t]:r}),{});return(0,n.Z)(r,o)}},893957:function(e,t,r){r.d(t,{Z:()=>i});var n=r(667294);let i=e=>{(0,n.useEffect)(e,[])}},986523:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294);let i=()=>()=>{},a=()=>!1,o=()=>!0,s=()=>(0,n.useSyncExternalStore)(i,a,o)},64892:function(e,t,r){r.d(t,{GW:()=>i,RL:()=>n,s4:()=>a});let n="ios",i="android",a="ipad"},739614:function(e,t,r){r.d(t,{$R:()=>R,Gd:()=>c,I3:()=>I,Kr:()=>l,MJ:()=>g,MP:()=>u,Mm:()=>n,OV:()=>s,Tp:()=>p,YB:()=>i,bA:()=>T,c3:()=>f,h0:()=>a,js:()=>o,kr:()=>S,lc:()=>m,mU:()=>h,nt:()=>A,nv:()=>_,rb:()=>d,wt:()=>E});let n=",",i="-",a=`
`,o="/",s=", ",l=["brandAwareness","consideration","videoViews"],d="Product | Media Planning Tool",c="http://pinch/mediaplanningpod",_="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",u="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",p=Object.freeze({UTM_SOURCE:"utm_source"}),E={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},T={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},m="PUBLISHED",h="UNPUBLISHED",R={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},A=1000535,f=506009,S="gpt-4o",I="/internal/planning_hub/gpt/",g="POST"},838350:function(e,t,r){r.d(t,{Z:()=>n});function n({top:e,right:t,bottom:r,left:n,windowHeight:i,windowWidth:a,threshold:o=0}){return e>=0+o&&n>=0+o&&r<=i-o&&t<=a-o}},358198:function(e,t,r){r.d(t,{BW:()=>T,WW:()=>p});var n=r(686659),i=r(667294),a=r(357966),o=r(15881),s=r(213491),l=r(501010),d=r(418282),c=r(767415),_=r(785893);let{Provider:u,getMaybe:p}=(0,s.Z)("CloseupNearDupSigsTracker"),E=({group:e,children:t})=>{(0,i.useEffect)(()=>{(0,n.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let r=(0,d.Nl)(),s=(0,i.useRef)([]),l=(0,i.useRef)(new Set),p=(0,i.useRef)([]),E=(0,i.useRef)(new Set),T=(0,i.useRef)([null,[]]),m=(0,i.useMemo)(()=>{switch(e){case"enabled_10":return 10;case"enabled_20":return 20;default:return 35}},[e]),h=(0,a.y1)(()=>{"enabled_skip_sync"!==e&&(r.setItem(o.S4,s.current),r.setItem(o.yb,p.current))},500),R=(0,i.useCallback)(()=>{if("enabled_skip_sync"===e)return;let t=Date.now(),n=r.getItem(o.S4),i=r.getItem(o.yb);if(n)try{Array.isArray(n)&&n.every(e=>"string"==typeof e)&&(s.current=n.slice(-5),l.current=new Set(s.current))}catch(e){(0,c.nP)("closeup_page.near_dup.session_storage_sync.closeup.fail",{sampleRate:1})}if(i)try{Array.isArray(i)&&i.every(e=>"string"==typeof e)&&(p.current=i.slice(-m),E.current=new Set(p.current))}catch(e){(0,c.nP)("closeup_page.near_dup.session_storage_sync.impression.fail",{sampleRate:1})}(0,c.LY)("closeup_page.near_dup.session_storage_sync.success",Date.now()-t,{sampleRate:.1,tags:{status:"success"}})},[s,p,r,e,m]),A=(0,i.useCallback)(e=>{if(E.current.has(e)&&(p.current=p.current.filter(t=>t!==e)),p.current.length>=m){let e=p.current.shift();e&&E.current.delete(e)}E.current.add(e),p.current.push(e)},[m]),f=(0,i.useCallback)(e=>{if(l.current.has(e)&&(s.current=s.current.filter(t=>t!==e)),s.current.length>=5){let e=s.current.shift();e&&l.current.delete(e)}l.current.add(e),s.current.push(e),h()},[h]),S=(0,i.useCallback)(e=>{let[t,r]=T.current;if(t===e)return r;0===s.current.length&&0===p.current.length&&R();let n=Array.from(new Set([...p.current,...s.current]));return T.current=[e,n],n},[R]);(0,i.useEffect)(()=>h,[h]);let I=(0,i.useMemo)(()=>({addImpression:A,addCloseup:f,getTrackedNearDupSigs:S}),[A,f,S]);return(0,_.jsx)(u,{value:I,children:t})},T=({children:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let{checkExperiment:t}=(0,l.Z)(),{anyEnabled:r,group:a}=t("web_closeup_rabbit_hole_dedup");return r&&a?(0,_.jsx)(E,{group:a,children:e}):(0,_.jsx)(u,{value:void 0,children:e})}},2061:function(e,t,r){r.d(t,{Yg:()=>l,ib:()=>c,nF:()=>u,xX:()=>_});var n=r(501010),i=r(774838),a=r(739405),o=r(767415);let s=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,r)=>(0,o.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...r}})}},l=()=>{let{isAuthenticated:e}=(0,i.B)(),t=(0,a.HG)(),{checkExperiment:r}=(0,n.Z)();return e&&!t?s({checkExperiment:r}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:r}=s({checkExperiment:e});(d+=1)<10&&r(`repin_${d}`)};function _({checkExperiment:e,isDesktop:t,isAuthenticated:r}){if(!r)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1}}{let{anyEnabled:t,group:r}=e("auth_mweb_graphql_pin_page");switch(r){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!0};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!0};case"enabled_prefetch_closeup_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!0,isPartOfExperiment:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1}}}}function u(){let{checkExperiment:e}=(0,n.Z)(),t=(0,a.HG)(),{isAuthenticated:r}=(0,i.B)();return _({checkExperiment:e,isDesktop:t,isAuthenticated:r})}},398690:function(e,t,r){r.d(t,{Z:()=>eD});var n=r(686659),i=r(667294),a=r(581722),o=r(312048),s=r(399353),l=r(4533),d=r(11442),c=r(470205),_=r(290216),u=r(714518),p=r(81342),E=r(664300),T=r(924591),m=r(935059),h=r(24246),R=r(271202),A=r(134136),f=r(325705),S=r(501010),I=r(774838),g=r(661376),O=r(825605),y=r(653247),N=r(34550),P=r(112658),b=r(577356),v=r(341687),D=r(739405),L=r(72125),C=r(2061),w=r(610142),x=r(31425),U=r(919203),M=r(726425),H=r(28031),Z=r(104999),G=r(730448),k=r(893957),F=r(838350),j=r(454908),B=r(785893);let Y={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function W({currentTabIndex:e,tabBoards:t}){(0,i.useEffect)(()=>{(0,n.Z)("MoreIdeasTabs","/app/www/Homefeed/MoreIdeasTabs.tsx")},[]);let r=(0,i.useRef)(null),l=(0,i.useRef)(!1),{width:d,height:c}=(0,H.Z)()||{width:0,height:0},_=(0,i.useRef)([]),u=(0,o.s0)(),p=(0,h.Z)(),E=(0,Z.Z)(),T=(0,a.I0)(),m=t.length?[{href:"/",text:(0,B.jsx)(s.xu,{children:p.bt("All", "All", "homefeed.moreIdeasTab.homefeedTab", undefined, true)}),tabType:1},...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:(0,B.jsx)(s.xu,{dangerouslySetInlineStyle:Y,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:2,ref:_.current[r]}))]:null,R=e=>1===e?11081:11082,A=(0,i.useRef)([]),f=(0,i.useCallback)(()=>{_&&_.current&&_.current.length&&_.current.forEach((e,r)=>{if(!e?.current)return;let{id:n,name:i}=t[r]||{},a=e.current.getBoundingClientRect();(0,F.Z)({left:a.left,right:a.right,top:a.top,bottom:a.bottom,windowHeight:c,windowWidth:d})&&n&&!A.current.includes(n)&&(E({event_type:13,view_type:1,view_parameter:92,component:13184,element:R(2),object_id_str:n,aux_data:{board_id:n,tab_title:i,referrer:19}}),A.current.push(n))})},[_,E,t,c,d]),S=(0,G.Z)(()=>{f()},50);if((0,k.Z)(()=>{_.current=Array(t.length).fill(void 0).map((e,t)=>_.current[t]||(0,i.createRef)())}),(0,i.useEffect)(()=>{f();let e=r.current;return e&&e.addEventListener("scroll",S),()=>{e?.removeEventListener("scroll",S)}},[f,S]),(0,i.useEffect)(()=>()=>{l.current&&(window.cancelAnimationFrame(l.current),l.current=null)}),!m)return null;let I=m.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,B.jsx)(s.xu,{ref:r,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,B.jsx)(s.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{let t=m?.[e];if(t){let r;r=t.boardId,T((0,j.r)(r,e)),E({event_type:101,view_type:1,view_parameter:92,component:13184,element:R(t.tabType),aux_data:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}let{pathname:r,state:n}=m?{pathname:(m[e]||m[0]).href,state:(m[e]||m[0]).locationState||void 0}:{};u(r,{state:n})},tabs:I})})}var K=r(966039),V=r(99672),z=r(179664),X=r(394382),q=r(751534);function $(){(0,i.useEffect)(()=>{(0,n.Z)("PreferencesUpdatedBanner","/app/www/pages/duplo/PreferencesUpdatedBanner.tsx")},[]);let{shouldRefreshHomefeed:e,clearRefreshFlag:t}=(0,X._T)(),{showToast:r}=(0,b.dI)(),a=(0,h.Z)(),o=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{if(e&&!o.current){o.current=!0;let e=a.bt("Preferences updated! We're refreshing your feed now.", "Preferences updated! We're refreshing your feed now.", "PreferencesUpdatedBanner.message", undefined, true);r(({hideToast:r})=>(0,B.jsx)(T.Z,{duration:3e3,onHide:()=>{r(),t(),o.current=!1},text:e}))}else e||(o.current=!1)},[e,t,r,a]),null}var J=r(228612),Q=r(297621),ee=r(767415),et=r(9065),er=r(520803);function en(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let ei=(0,et.Z)(()=>r.e("41881").then(r.bind(r,701426)),void 0,e=>701426,"app-www-pages-duplo-CoreActionsHeader",e=>["41881"]),ea=(0,et.Z)(()=>r.e("82408").then(r.bind(r,221930)),void 0,e=>221930,"app-www-stories-FullWidthPinStory",e=>["82408"]),eo=(0,et.Z)(()=>r.e("85946").then(r.bind(r,568737)),{ssr:!1},e=>568737,void 0,void 0),es=(0,et.Z)(()=>r.e("93065").then(r.bind(r,878723)),void 0,e=>878723,"app-www-Homefeed-HomefeedMoreIdeasTabContent",e=>["93065"]),el=(0,et.Z)(()=>r.e("61436").then(r.bind(r,448599)),void 0,e=>448599,"app-www-stories-LandingPageStory-LandingPageStory",e=>["61436"]),ed=(0,et.Z)(()=>Promise.all([r.e("91062"),r.e("10192"),r.e("60417")]).then(r.bind(r,321792)),{ssr:!1},e=>321792,void 0,void 0),ec=(0,et.Z)(()=>Promise.all([r.e("61720"),r.e("77153")]).then(r.bind(r,179007)),{ssr:!1},e=>179007,void 0,void 0),e_=(0,et.Z)(()=>r.e("48205").then(r.bind(r,538049)),{ssr:!1},e=>538049,void 0,void 0),eu=(0,et.Z)(()=>Promise.all([r.e("25418"),r.e("36157")]).then(r.bind(r,219875)),{ssr:!1},e=>219875,void 0,void 0),ep=(0,i.lazy)(()=>r.e("79581").then(r.bind(r,6215))),eE=(0,i.lazy)(()=>r.e("87463").then(r.bind(r,223865))),eT=(0,i.lazy)(()=>r.e("18577").then(r.bind(r,646587))),em=(0,i.lazy)(()=>r.e("79021").then(r.bind(r,504636))),eh=(0,i.lazy)(()=>r.e("77846").then(r.bind(r,5480))),eR=(0,i.lazy)(()=>r.e("63585").then(r.bind(r,272319))),eA={feedKey:q.xJ,trafficSource:q.WV,resourceName:q.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},ef={first_page_size:"25",page_size:"10"},eS=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:r,pullToRefresh:n}=eA,i=(0,o.TH)(),d=(0,o.s0)(),c=(0,er.Z)(),_=(0,a.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),u={webMobileHomeFeedTakoverExperience:e,location:i,navigate:d,match:c},p=(0,a.v9)(({feeds:e})=>e[t]??[]),{selectedUseCases:E,selectedPins:T}=(0,z.u)(),m=(0,K.rQ)(E,T),h=!_,R=m.length>0?{in_nux:_,nux_signals_map:m}:{in_nux:_},A={...q.HH,...h?{...ef}:{...R},in_local_navigation:!0,static_feed:!!(i&&(i.pathname.includes("pwt_performance_testing")||void 0!==(0,v.Z)(i.search).pwt_performance_testing))},f=(0,g.Z)({name:q.om,options:A}),{isAtEnd:S,isFetching:O,fetchMore:y,data:P,refresh:b}=f,D={includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,J.JC)())};_&&(0,ee.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}});let L=(()=>{let{isGraphQLEnabledInGeneral:e}=(0,C.nF)(),{locale:t}=(0,I.B)(),r=(0,J.JC)();return({feedItems:n,prevFeedItems:i,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:{pinId:o,feedItem:s}})=>{if(!n.length)return null;if(a&&i.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),r=e(i,5),a=e(n,5),o={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,ee.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:o}),JSON.stringify(r)===JSON.stringify(a)&&(0,ee.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:o})}if(o&&!e){if(i.length>0&&i[0]!==n[0])return(0,N.M0)().removeItem(l.uc),{feedItem:null,pinId:null};else if((0===i.length||i[0]===n[0]&&i.length!==n.length||!s)&&r[o]&&!n.slice(0,5).some(({id:e})=>e===o))return{feedItem:{id:o,type:"pin",trackingParams:n[0].trackingParams},pinId:o}}return null}})(),x=P?.length?P[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:x?.id&&(0,B.jsx)(Q.Z,{storyId:x.id,children:e=>(0,B.jsx)(ea,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},i=p.slice(1);return(0,B.jsx)(s.xu,{"data-test-id":"homefeed",children:(0,B.jsx)(w.Zt,{authHomefeedComponentDidUpdate:L,feedItemProps:r&&r(u),feedItems:i,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!S,isLoadingNext:O,loadNext:()=>y(),refetch:()=>b()},pullToRefresh:n,trafficSource:q.WV,visuallyCompleteProfilerOptions:D})})}return h&&!e?.display_data?(0,B.jsx)(s.xu,{"data-test-id":"homefeed-ssr",children:(0,B.jsx)(w.iK,{authHomefeedComponentDidUpdate:L,feedItemProps:r&&r(u),feedKey:q.xJ,pullToRefresh:n,resource:f,serverRender:!0,trafficSource:q.WV,visuallyCompleteProfilerOptions:D})}):(0,B.jsx)(s.xu,{"data-test-id":"homefeed",children:(0,B.jsx)(w.iK,{authHomefeedComponentDidUpdate:L,feedItemProps:r&&r(u),feedKey:t,pullToRefresh:n,resource:f,trafficSource:q.WV,visuallyCompleteProfilerOptions:D})})},eI=(0,et.Z)(()=>r.e("35273").then(r.bind(r,61949)),{ssr:!1},e=>61949,void 0,void 0),eg=(0,et.Z)(()=>r.e("43946").then(r.bind(r,846333)),{ssr:!1},e=>846333,void 0,void 0),eO=(0,et.Z)(()=>r.e("82848").then(r.bind(r,809793)),{ssr:!1},e=>809793,void 0,void 0),ey=(0,et.Z)(()=>r.e("37213").then(r.bind(r,799997)),{ssr:!1},e=>799997,void 0,void 0),eN=(0,et.Z)(()=>r.e("18012").then(r.bind(r,25711)),{ssr:!1},e=>25711,void 0,void 0),eP=(0,et.Z)(()=>r.e("3765").then(r.bind(r,502851)),{ssr:!1},e=>502851,void 0,void 0);class eb extends i.PureComponent{constructor(...e){super(...e),en(this,"state",{...(0,K.HW)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:M.e,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1,showQRAppErrorBanner:!1}),en(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:r,extraBlpImages:n}=this.state,i=!t&&e&&504192===e.experience_id,a=i&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&i?(0,B.jsx)(c.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:a?(0,B.jsx)(eP,{experience:e,extraImageInfo:r.length>0?r:n,viewParameter:92,viewType:1}):(0,B.jsx)(ey,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t,navigate:r,location:n}=e;return(0,v.Z)(n.search).show_qr_app_error?(r("/",{replace:!0}),{showQRAppErrorBanner:!0}):"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{dispatchViewedSharedPins:e,location:t,i18n:r,showToast:n,navigate:i}=this.props,{sharedPinData:a}=this.state;(0,V.E)(!1),(0,d.Z)(),a&&Object.keys(a).length>0&&e(a),t.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),t.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),t.state?.showError&&n(({hideToast:e})=>(0,B.jsx)(T.Z,{duration:5e3,onHide:e,text:r.bt("We cant find that idea. Try searching for one just like it.", "We cant find that idea! Try searching for one just like it.", " - ", undefined, true),type:"error"})),(0,v.Z)(t.search).show_yip_modal&&(i("/",{replace:!0}),this.setState({showYipModal:!0})),this.props.shouldRefreshHomefeed&&(0,x.cV)("homefeed")}render(){let{checkExperiment:e,currentUserId:t,currentUsername:r,everythingFeedExperience:n,navigate:a,i18n:o,isAuthenticated:l,isEligibleForCoreActionsHeader:d,isPartner:T,location:m,moreIdeasStory:h,newUserWelcomeStoryExperience:f,webMobileHomeFeedTakoverExperience:S,selectedTabBoardId:I,tabBoards:g,shouldRefreshHomefeed:N}=this.props,{currentTabIndex:b,showUnlinkTokenExpiredModal:D,showDeleteAccountSurveyModal:C,showYipModal:w,shouldDismissCoreActionsHeader:x,showQRAppErrorBanner:H}=this.state,Z=(0,v.Z)(m.search),G=Z&&Z.boardId||I;if(n&&!H)switch(n.experience_id){case 40002:case 10105:return(0,B.jsx)(c.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,B.jsx)(O.Z,{fallback:(0,B.jsx)(y.Z,{accessibilityLabel:this.props.i18n.bt("Loading new user education", "Loading new user education", "Loading spinner", undefined, true)}),children:T?(0,B.jsx)(eO,{experience:n}):(0,B.jsx)(eg,{experience:n})})});case 500681:return(0,B.jsx)(c.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,B.jsx)(eI,{fallback:(0,B.jsx)(y.Z,{accessibilityLabel:this.props.i18n.bt("Loading experience", "Loading experience", "loading experience spinner", undefined, true)})})})}let k=l&&e("mweb_hf_core_actions_header").anyEnabled&&d,F=()=>{this.setState({shouldDismissCoreActionsHeader:!0})};return(0,B.jsx)(L.Z,{viewParameter:92,viewType:1,children:(0,B.jsx)(P.Z,{view:1,viewParameter:92,children:(0,B.jsxs)(A.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[H&&(0,B.jsx)(s.xu,{marginTop:4,children:(0,B.jsx)(eR,{})}),(0,B.jsx)(U.Z,{text:o.bt("Home", "Home", "HomePage.HiddenAccessibilityHeader", undefined, true)}),!!g?.length&&(0,B.jsx)(R.default,{hideOnScroll:l,noPadding:!0,overrideTop:0,children:(0,B.jsx)(s.xu,{paddingY:1,children:(0,B.jsx)(W,{currentTabIndex:b,tabBoards:g||[]})})}),h&&(0,B.jsx)(s.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,B.jsx)(Q.Z,{storyId:h.id||"",children:e=>(0,B.jsx)(ea,{slotIndex:0,story:e,viewParameter:92,viewType:1},h.id)})}),b!==M.e&&G&&b<=(g?.length??0)&&(0,B.jsx)(es,{boardId:G})||(0,B.jsxs)(i.Fragment,{children:[(0,B.jsx)(_.s$,{experience:n}),(0,B.jsx)(_._f,{experience:n,placementId:40001}),(0,B.jsx)(_.b9,{placementId:40001}),(0,B.jsx)(_.nj,{experience:n,placementId:40001}),(0,B.jsx)(u.Z,{placementId:n?.placement_id}),(0,B.jsx)(E.Z,{placementId:1000544}),(0,B.jsx)(p.Z,{placementId:1000558}),(0,B.jsx)(_.a3,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:n,children:(0,B.jsx)(O.Z,{children:(0,B.jsx)(eE,{experience:n})})}),n&&(0,B.jsx)(_.a3,{eligibleIds:[507483],experience:n,children:({dismiss:e,experience:{display_data:t}})=>{let r=!("is_blocking"in t)||t.is_blocking;return(0,B.jsx)(ed,{dismiss:e,isBlockingModal:r})}}),n&&(0,B.jsx)(_.a3,{eligibleIds:[507661],experience:n,children:({dismiss:e,experience:{display_data:t}})=>(0,B.jsx)(ec,{displayData:t,onDismiss:e})}),n&&(0,B.jsx)(_.a3,{eligibleIds:[507924],experience:n,children:({complete:e,dismiss:t})=>(0,B.jsx)(e_,{onComplete:e,onDismiss:t})}),n&&(0,B.jsx)(_.a3,{eligibleIds:[508387],experience:n,placementId:40001,children:({complete:e,dismiss:t,experience:r})=>(0,B.jsx)(eu,{complete:e,dismiss:t,experience:r})}),n&&(0,B.jsx)(_.a3,{eligibleIds:[505326],experience:n,children:({complete:e,dismiss:t})=>(0,B.jsx)(i.Suspense,{children:(0,B.jsx)(eh,{complete:e,dismiss:t})})}),n&&(0,B.jsx)(_.a3,{eligibleIds:[505801],experience:n,children:({complete:e})=>(0,B.jsx)(i.Suspense,{children:(0,B.jsx)(em,{complete:e})})}),f?.display_data?.story&&f.display_data.showUpdatedLandingPageStory&&(0,B.jsx)(el,{isMoreIdeasTabsVisible:!!g?.length,newUserWelcomeStoryExperience:f}),(0,B.jsxs)(s.xu,{marginTop:2*(!g?.length&&!h),children:[!x&&k&&(0,B.jsx)(ei,{onDismiss:F,username:r||""}),(0,B.jsx)(eS,{webMobileHomeFeedTakoverExperience:S})]})]}),D&&(0,B.jsx)(O.Z,{children:(0,B.jsx)(s.xu,{"data-test-id":"unlink-expired-token",children:(0,B.jsx)(eT,{onDismiss:()=>{a("/",{replace:!0}),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),C&&(0,B.jsx)(O.Z,{children:(0,B.jsx)(ep,{isPartner:T,onDismiss:()=>{a("/",{replace:!0}),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:r})}),w&&(0,B.jsx)(c.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,B.jsx)(eN,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker(),b===M.e&&n&&(0,B.jsx)(_.a3,{eligibleIds:[508418],experience:n,children:()=>N?(0,B.jsx)($,{}):(0,B.jsx)(eo,{hasTabBoards:(g?.length??0)>0})})]})})})}}let ev=[];function eD(){(0,i.useEffect)(()=>{(0,n.Z)("HomePage","/app/www/pages/duplo/HomePage.tsx")},[]);let e=(0,h.Z)(),t=(0,a.I0)(),r=(0,m.Z)(),{showToast:s}=(0,b.dI)(),l=(0,o.s0)(),d=(0,o.TH)(),{checkExperiment:c}=(0,S.Z)(),{shouldRefreshHomefeed:u,clearRefreshFlag:p}=(0,X._T)(),{experience:E}=(0,_.Ow)(40001),{experience:T}=(0,_.Ow)(1000115),{experience:R}=(0,_.Ow)(1000411),A=(0,a.v9)(({feeds:e})=>e.homefeed),I=(0,a.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),O=(0,a.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:y,isLimitedLogin:N}=r,P=r.isAuth?r.id:void 0,v=r.isAuth?r.username:void 0,L=!!r.isAuth&&r.isPartner,C=(0,D.HG)(),w=Array.isArray(A)?A:[],x=!C&&w[0]&&"story"===w[0].type?w[0]:null,U=(0,a.v9)(({stories:e})=>x?e[x.id]:null),M=U&&U.story_type&&U.story_type.startsWith("boards_more_ideas_feed_upsell")?U:null,H=w.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{data:Z}=(0,g.Z)(y&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:r.id,field_set_key:"core_actions_header"}}:null),G=(0,D.ml)();(0,f.Z)(d,s,e);let k={checkExperiment:c,currentUserId:P,currentUsername:v,dispatchViewedSharedPins:e=>t({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),everythingFeedExperience:E,navigate:l,i18n:e,isAuthenticated:y,isEligibleForCoreActionsHeader:Z?.is_eligible_for_core_actions_header,isLimitedLogin:N,isMobile:G,isPartner:L,location:d,moreIdeasStory:M,newUserWelcomeStoryExperience:R,selectedTabBoardId:I,selectedTabIndex:O,showToast:s,tabBoards:H??ev,webMobileHomeFeedTakoverExperience:T,shouldRefreshHomefeed:u,clearRefreshFlag:p};return(0,B.jsx)(eb,{...k})}},751534:function(e,t,r){r.d(t,{EP:()=>l,HH:()=>s,WV:()=>a,om:()=>o,xJ:()=>i});var n=r(647908);let i="homefeed",a="feed_home",o="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,n.Z)(s)},454908:function(e,t,r){r.d(t,{r:()=>n});let n=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},680717:function(e,t,r){r.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>u,yA:()=>l});var n=r(27399),i=r(47755),a=r(826681);function o(e,t,r,i){return n.Z.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}function s(e,t=null,r,n){return i=>{o(e,t,r,n).callCreate().catch(()=>i((0,a.P_)(e,!1))),i((0,a.P_)(e,!0))}}function l(e,t=null,r,n){return async i=>{i((0,a.P_)(e,!0)),await o(e,t,r,n).callCreate().catch(t=>{throw i((0,a.P_)(e,!1)),t})}}function d(e,t=null,r){return n=>{o(e,t,r).callDelete().catch(()=>n((0,a.P_)(e,!0))),n((0,a.P_)(e,!1))}}function c(e,t=null,r){return async n=>{n((0,a.P_)(e,!1)),await o(e,t,r).callDelete().catch(t=>{throw n((0,a.P_)(e,!0)),t})}}let _=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e}}).catch(()=>t(_(e,!1))),t(_(e,!0)))}},826681:function(e,t,r){r.d(t,{Ge:()=>d,JS:()=>a,P_:()=>o,Q_:()=>u,b8:()=>p,cg:()=>s,h2:()=>c,h6:()=>_});var n=r(47755),i=r(748025);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:i,logContextEvent:a})=>async o=>{o(l(e,!0));let s=await (0,n.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:r,block_context:i}}).catch(()=>o(l(e,!1)));return a({event_type:54,object_id_str:e}),s},c=(e,t)=>async r=>{r(l(e,!1));let i=await (0,n.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),i};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let u=(e,t)=>()=>(0,n.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:t}}),p=(e,t,r)=>(a,o)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:o().session.userId}),e(),(0,i.Z)()},t)}},407775:function(e,t,r){r.d(t,{Z:()=>i});var n=r(210730);let i={AggregatedCommentResource:n.rm,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItUserFeedResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,PinResource:n.Cj,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,TodayArticleFeedResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR}},210730:function(e,t,r){r.d(t,{Cj:()=>d,EA:()=>a,Gn:()=>y,Ht:()=>O,IY:()=>l,LR:()=>P,_F:()=>u,cC:()=>A,dq:()=>E,fE:()=>_,iF:()=>R,rm:()=>o,sN:()=>N,sf:()=>f,t6:()=>g});var n=r(782677);let i=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),a=new n.fK.Entity(i.user),o=new n.fK.Entity(i.aggregatedComment,{user:a,tagged_users:[a]}),s=new n.fK.Entity(i.article),l=new n.fK.Entity(i.board),d=new n.fK.Entity(i.pin),c=new n.fK.Entity(i.reaction),_=new n.fK.Array(c),u=new n.fK.Entity(i.boardsection),p=new n.fK.Entity(i.conversationMessage,{sender:a,users:[a],board:l,pin:d,user:a}),E=new n.fK.Array(p),T=new n.fK.Entity(i.contactrequest),m=new n.fK.Entity(i.story),h=new n.fK.Entity(i.triedit),R=new n.fK.Entity(i.todayArticle,{article_creator_user:a,content_pin:d,content_pin_official_user:a,video_pin:d}),A=new n.fK.Entity(i.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),f=new n.fK.Entity(i.invite,{invited_by_user:a,invited_user:a,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),S=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},I=new n.fK.Union({user:a,board:l,invite:f,pin:d,topic:A,triedit:h},S),g=new n.fK.Entity(i.notification,{content_items:[{content_object:I}],header_icon_objects:[I]}),O=new n.fK.Array(f),y=new n.fK.Array(a),N=new n.fK.Array(l),P=new n.fK.Array({aggregatedComment:o,article:s,board:l,boardsection:u,contactrequest:T,conversationMessage:p,notification:g,pin:d,story:m,todayArticle:R,topic:A,triedit:h,user:a},S,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});m.define({objects:P})},394268:function(e,t,r){r.d(t,{b:()=>a,s:()=>n});let n="RTK_autoBatch",i=e=>t=>{setTimeout(t,e)},a=(e={type:"raf"})=>t=>(...r)=>{let a=t(...r),o=!0,s=!1,l=!1,d=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:i(10):"callback"===e.type?e.queueNotification:i(e.timeout),_=()=>{l=!1,s&&(s=!1,d.forEach(e=>e()))};return{...a,subscribe(e){let t=a.subscribe(()=>o&&e());return d.add(e),()=>{t(),d.delete(e)}},dispatch(e){try{return(s=!(o=!e?.meta?.[n]))&&!l&&(l=!0,c(_)),a.dispatch(e)}finally{o=!0}}}}},438274:function(e,t,r){r.d(t,{Z:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},297621:function(e,t,r){r.d(t,{Z:()=>i});var n=r(581722);function i({children:e,storyId:t}){let r=(0,n.v9)(({stories:e})=>e[t]);return r&&e(r)}},109571:function(e,t,r){r.d(t,{I:()=>o,t:()=>a});var n=r(667294),i=r(312048);let a=(0,n.createContext)(null);function o(){return(0,i.TH)()===(0,n.use)(a)}},520803:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294),i=r(616550),a=r(312048),o=r(794074);function s(){let e=(0,n.useRef)(null);return null===e.current&&(e.current=(0,o.Z)()),(e.current?function(){let e=(0,a.UO)(),t=(0,a.TH)(),r=Object.entries(e).reduce((e,[t,r])=>(r&&(e[r]=t),e),{}),i=t.pathname.split("/").map(e=>r[e]?`:${r[e]}`:e).join("/");return(0,n.useMemo)(()=>({isExact:!0,params:e,path:i,url:t.pathname}),[e,i,t.pathname])}:i.$B)()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97486.en_GB-3e1cbbecaad00dc2.mjs.map