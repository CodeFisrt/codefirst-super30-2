(self.modernJsonp=self.modernJsonp||[]).push([["21649"],{230624:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CanonicalCard_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="fcffc6bcc40bc48a92a9afe109d3995b";let a=i},663705:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCommentModule_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="361dbb7eac9d64408e9e81f7b01b2b75";let a=i},806607:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupFavoriteButtonTest_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="9ab15ab4baca1bcd4b35d42d577e0b0e";let a=i},472719:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarColorIndex",storageKey:null}],type:"User",abstractKey:null};i.hash="076ac514bfbb048036e79417ec3c0eb5";let a=i},553174:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionAccordion_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="0ea92af6ed3e580e484b6776204f5277";let a=i},843560:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionPreview_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="778f9a67c785189deaaa1c4cfec46ad3";let a=i},32808:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionAccordion_pin"},{args:null,kind:"FragmentSpread",name:"ProductDescriptionPreview_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};i.hash="9758e05746f41597abb102ff4c921bd8";let a=i},46531:function(e,n,t){var i;t.r(n),t.d(n,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="8dced786a95725beb90a797a0e54242b";let l=a},222433:function(e,n,t){var i,a,l,r,o,s,d,c;t.r(n),t.d(n,{default:()=>p});let u=(a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_user"},d=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],c=[o],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},a,i,{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},l,{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PriceHistorySummary",kind:"LinkedField",name:"priceHistorySummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"durationDays",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowestPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typicalPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDescription_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CanonicalCard_pin"},{args:null,kind:"FragmentSpread",name:"CloseupFavoriteButtonTest_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"ProductHeading_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null});u.hash="420cbc88e50b7d12d8712ab2ffd91cf6";let p=u},116830:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionComponent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescriptionText_pin"}],type:"Pin",abstractKey:null};i.hash="f867b797951e2d08797cfc2a432829dd";let a=i},454959:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};i.hash="733093776dc8e837966fbdda29e9d4c5";let a=i},995122:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescriptionComponent_pin"}],type:"Pin",abstractKey:null};i.hash="0115eb52db8bd36a1a82754d3c39b478";let a=i},738677:function(e,n,t){t.r(n),t.d(n,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedCommentModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupCommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="3a8cd51fec23643de121636949bbbcf6";let a=i},65003:function(e,n,t){var i;t.r(n),t.d(n,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="e327c6c7127550a2f17b174cd4dcfa73";let l=a},751297:function(e,n,t){var i,a;t.r(n),t.d(n,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescription_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"headerContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionHeader",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"boldContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionStringBold",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="f5443b1193b0aed988404fef7c7338fe";let r=l},734473:function(e,n,t){t.d(n,{K:()=>r,Q:()=>l});var i=t(667294);let a=(0,i.createContext)(null),l=a;function r(){let e=(0,i.use)(a);return e?.featuredCommentId}},443376:function(e,n,t){t.d(n,{Z:()=>$});var i,a=t(686659),l=t(667294),r=t(581722),o=t(268522);t(244311);var s=t(399353),d=t(320748),c=t(458465),u=t(24246),p=t(785893);let m=({collapsed:e,commentCount:n,onIconClick:t=()=>{}})=>{(0,l.useEffect)(()=>{(0,a.Z)("CommentsHeading","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CommentsHeading.tsx")},[]);let i=(0,u.Z)(),r=(0,c.i$)(n,i);return(0,p.jsx)(d.Z,{collapsed:e,heading:r,onClick:t,showArrow:n>0})};var g=t(992998),h=t(299136);function f({comment:e}){(0,l.useEffect)(()=>{(0,a.Z)("SingleCommentPreview","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/SingleCommentPreview.tsx")},[]);let n=(0,u.Z)(),{user:{first_name:t,image_medium_url:i,username:r},tags:o=[]}=e,d="",m="userdiditdata"===e.type&&e.details?e.details:"",f="aggregatedcomment"===e.type&&e.text?e.text:m,y=[e.user];if("aggregatedcomment"===e.type){y.push(...e.tagged_users);let t=e.media?.media_type===1;d=`${r} ${t?f||(0,c.F1)(n):f}`}else d=`${r} ${f||(0,c.Ff)(n)}`;let x=(0,c.zs)(r,o),_="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,p.jsx)(l.Fragment,{children:(0,p.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(s.xu,{marginEnd:2,children:(0,p.jsx)(g.Z,{isQuestion:_,name:t||r||"",size:"xs",src:i??""})}),(0,p.jsx)(s.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,p.jsx)(s.kC,{justifyContent:"between",children:(0,p.jsx)(s.kC.Item,{minWidth:0,children:(0,p.jsx)(s.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,p.jsx)(h.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:y,tags:x,text:d})})})})})]})})}var y=t(725557),x=t(803389),_=t(657654),b=t(519371),v=t(166988),S=t(734473),k=t(671862),w=t(375967),P=t(434418),C=t(812928),j=t(230201),T=t(935059),I=t(183e3),D=t(59111),F=t(774838),Z=t(661376),E=t(739405),A=t(200619),K=t(601871),M=t(264267),z=t(107889),L=t(113759),R=t(488436),B=t(373779),H=t(578321),O=t(646239);let U=(void 0!==i||(i=t(230624)).hash&&"fcffc6bcc40bc48a92a9afe109d3995b"!==i.hash&&console.error("The definition of 'CanonicalCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),N=({aggregatedPinId:e,closeupAttributionId:n,closeupAttributionUsername:t,commentCount:i,commentsDisabled:d,commentsLoadedCallback:u,featuredCommentId:g,inCommentsImprovedDropdownExp:h,isLoadingNewCreatedComment:S,isORBACProfileManager:H,isVideo:N,onCommentSectionClick:$,photoCount:V,pinKey:W,pinId:Y,pinnerId:G,scrollContainerRef:q,shouldShowHeading:X,storyPinDataId:J,viewParameter:Q})=>{let ee;(0,l.useEffect)(()=>{(0,a.Z)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let{logContextEvent:en}=(0,j.u)(),{isBot:et}=(0,F.B)(),ei=(0,E.HG)(),ea=(0,M.lV)(),el=(0,I.Z)(U,W),{clientTrackingParams:er,closeupWithinMasonryEnabled:eo,isCommentThreadExpanded:es,peekCloseupEnabled:ed,setIsCommentThreadExpanded:ec,viewportSize:eu}=(0,L.x4)(),ep=(0,v.Z)({showProductDetailPage:!!el?.isEligibleForPdp}),{handleAddComment:em}=(0,w.Z)(),eg=(0,l.useRef)(null),eh=(0,l.useRef)(null),[ef,ey]=(0,l.useState)(c.A9.NONE),[ex,e_]=(0,l.useState)(!1),[eb,ev]=(0,l.useState)(),[eS,ek]=(0,l.useState)([]),[ew,eP]=(0,l.useState)(""),[eC,ej]=(0,l.useState)(),[eT,eI]=(0,l.useState)(!1),[eD,eF]=(0,l.useState)(!1),[eZ,eE]=(0,l.useState)(!1),[eA,eK]=(0,l.useState)(),[eM,ez]=(0,l.useState)(void 0),[eL,eR]=(0,l.useState)(void 0),[eB,eH]=(0,l.useState)(!1),eO=(0,T.Z)(),eU=(0,A.Z)(),eN=(0,K.lJ)(eO,eU),{toggleCommentLike:e$,toggleCommentHelpful:eV}=(0,P.Z)(eN),{aggregatedPinData:eW,doneByMe:eY,privacy:eG}=el||{},{entityId:eq}=eW||{},eX=6*!eo,eJ=!!eA||!!eC,{user:{first_name:eQ=""}={}}=eA||{},e0=!(H&&!eN)&&h,e1=0;eo&&!ep&&(e1=h?3:4);let e2=Math.max(i+V,0),e5=e2>0,e3=g?[g]:[],e9=`${(0,l.useId)()}-comments-thread-container`,e6=(0,l.useRef)(!e5),{fetchMore:e7,isAtEnd:e4,isFetching:e8,isLoaded:ne}=(0,Z.Z)((eo&&e5||!e6.current)&&e?(0,B.B)({aggregatedPinDataId:e,featuredCommentIds:e3,isDesktop:ei,orbacSubjectId:eN}):null),nn=(0,r.v9)(n=>(0,O.Z)(n,{aggregatedPinDataId:e,aggregatedComments:ea})),nt=nn?.length>0&&nn.find(e=>"aggregatedcomment"===e.type),ni=!d&&eB&&!es&&!!nt&&(eo||ep)&&!ed&&!h,na=!es&&h;(0,l.useEffect)(()=>{u?.(ne||!e5)},[u,ne,e5]),(0,l.useEffect)(()=>(es&&ex&&(eh.current=Date.now()),()=>{eh.current&&(en({component:14381,event_type:16258,object_id_str:Y,aux_data:{time_in_ms:Date.now()-eh.current}}),eh.current=null)}),[es,ex,en,Y]);let nl=()=>{ev(null),ek([]),eP(""),ej(null),eK(null)},nr=()=>{nl(),eI(!1)};async function no(e){let t=await em(e,eq,Y,J??"",n??"",er,ey,eI,eC,eA);return t&&(eg.current&&!eJ&&eg.current.scrollTo({top:0,behavior:"smooth"}),nl()),t}let ns=(0,p.jsx)(k.Z,{aggregatedPinDataId:e,closeupAttributionId:n,closeupAttributionUsername:t,comments:nn,commentsDisabled:d,commentsScrollContainerRef:eg,featuredCommentId:g,gapSize:5,id:e9,inCommentsImprovedDropdownExp:h,isDesktop:!0,isLoading:!ne&&(S||e8),isORBACProfileManager:H,isVideo:N,parentId:e??void 0,parentType:z.o.pin,pinId:Y,pinnerId:G,reactionListCommentId:eL,replyingToCommentId:eM,showReactionListForComment:eR,storyPinDataId:J,toggleEditComposer:h?e=>{if(e){let n="userdiditdata"===e.type&&e.details?e.details:"",t="aggregatedcomment"===e.type&&e.text?e.text:n,i=e.tags;e.type===z.n.didIt&&ev(e.images?.[0]?.originals),ek(i),eP(t)}ej(e)}:void 0,toggleHelpful:eV,toggleLike:e$,toggleReplyComposer:(e,n,t)=>{if(h){if(e){e.parentId=n,e.parentType=t;let{user:{first_name:i,username:a}}=e;if(e.parentType===z.n.aggregatedComment||e.parentType===z.n.didIt){let n=`${i||a} `;ek([{length:n.length-1,object_id:e.user.id,offset:0,tag_type:c.XU}]),eP(n)}}eK(e)}else ez(e?.id)},userAvatarSize:c.je,viewParameter:Q}),nd=e=>(0,p.jsxs)(l.Fragment,{children:[!!q&&(0,p.jsx)(s.gr,{container:eo?eg.current??void 0:q,fetchMore:et?void 0:e7,isAtEnd:e4,isFetching:e8}),(0,p.jsxs)(y.Z,{nodeRef:e??void 0,paddingLeft:eo&&!h?8:0,paddingRight:eo&&!h?8:0,children:[ns,(0,p.jsx)(x.Z,{show:eo&&e5&&es&&eZ,surface:"comment-body-scrolling"})]})]}),nc=0,{fiftyPercentHeight:nu}=(0,b.Re)();ed&&(nc=nu,"sm"===eu&&(nc=`calc(${nu}/2)`)),na?ee="8px":X&&(ee="24px");let np=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${nc};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${nc};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,l.useEffect)(()=>{if(!eo)return()=>{};let e=()=>{(eg?.current?.scrollTop??0)>0?eF(!0):eF(!1),(eg?.current?.scrollHeight??0)>(eg?.current?.clientHeight??0)&&eE(!0)},n=eg.current;return n&&n.addEventListener("scroll",e),()=>{n&&n.removeEventListener("scroll",e)}},[eo,es]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{eH(!0)},1e3*!eo);return()=>clearTimeout(e)},[eo]);let nm=eB&&(es||!e5),ng=(0,l.useRef)(null);return(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{overflowX:"hidden"}},id:"canonical-card",marginBottom:ep?2:void 0,children:(0,p.jsxs)(s.kC,{dataTestId:"canonical-card",direction:"column",gap:ed?void 0:{row:0,column:eX},children:[(0,p.jsxs)(s.iP,{accessibilityControls:es&&e5?e9:void 0,accessibilityExpanded:es,accessibilityLabel:"Tap area to expand/collapse the comments section if there are any comments.",dataTestId:"canonical-card-tap-area",disabled:!!d||!e5,onTap:()=>{ec?.(!es),$?.(!es),ex||es||e_(!0)},children:[X&&(0,p.jsx)(s.kC.Item,{children:(0,p.jsxs)(s.xu,{color:eo?"light":void 0,children:[(0,p.jsx)(m,{collapsed:!es,commentCount:d?0:Math.max(i+V,0)}),(0,p.jsx)(x.Z,{show:eo&&e5&&eD&&es&&!h&&!ep,surface:"comment-heading"})]})}),ni&&(0,p.jsx)(s.xu,{marginBottom:e1,marginTop:1,children:(0,p.jsx)(f,{comment:nt})})]}),ed&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(D.Z,{unsafeCSS:np}),(0,p.jsx)(o.Z,{classNames:"comment-section",in:eB&&(es||!e5),nodeRef:ng,timeout:1e3,unmountOnExit:!0,children:nd(ng)})]}),nm&&!ep&&!ed&&!h&&nd(),(h||ep)&&(0,p.jsxs)(l.Fragment,{children:[na&&(0,p.jsx)(_.default,{inCommentsImprovedDropdownExp:!0,pinKey:el,viewParameter:Q}),nm&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(s.gr,{container:eg.current??void 0,fetchMore:et?void 0:e7,isAtEnd:e4,isFetching:e8}),ns]}),(0,p.jsxs)(s.Le,{bottom:0,children:[eJ&&(0,p.jsx)(R.Z,{onClose:nr,replyToComment:eA}),(0,p.jsx)(x.Z,{show:eo&&e5&&es&&eZ,surface:"comment-body-scrolling"}),e0&&(0,p.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:ee,paddingBottom:X?"24px":"32px"}},children:(0,p.jsx)(C.Z,{clientTrackingParams:er,commentCount:e2,commentWarningModalState:ef,disablePhotoCommentSelection:!!eY,dismissCommentWarningModal:()=>ey(c.A9.NONE),inCommentsImprovedDropdownExp:!0,initialTags:eS,initialText:ew,isEditing:!!eC,isReplying:!!eA,objectType:z.o.pin,onAddItem:no,onCancelItem:nr,onEnter:()=>eI(!0),pinId:Y,postedPhoto:eb,privatePin:"secret"===eG,replyToCommentFirstName:eQ,showCommentComposer:!0,statusType:eT?"textInflightCreation":"textStaticDisplay",viewParameter:Q})})]})]})]})})};function $(e){(0,l.useEffect)(()=>{(0,a.Z)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let n=(0,r.I0)();return(0,p.jsx)(N,{...e,featuredCommentId:(0,S.K)(),pinUpdateCommentCount:(e,t)=>n((0,H.R)(e,t))})}},340950:function(e,n,t){t.d(n,{Z:()=>h});var i,a=t(686659),l=t(667294),r=t(581722);t(167912);var o=t(519126),s=t(230201),d=t(183e3),c=t(660322),u=t(113759),p=t(766308),m=t(785893);let g=(void 0!==i||(i=t(806607)).hash&&"9ab15ab4baca1bcd4b35d42d577e0b0e"!==i.hash&&console.error("The definition of 'CloseupFavoriteButtonTest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function h({pinKey:e}){let n,t;(0,l.useEffect)(()=>{(0,a.Z)("CloseupFavoriteButton","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupFavoriteButton.tsx")},[]);let{logContextEvent:i}=(0,s.u)(),h=(0,d.Z)(g,e),f=(0,r.I0)(),{closeupWithinMasonryEnabled:y}=(0,u.x4)(),{board:x,entityId:_,favoritedByMe:b,section:v}=h;x&&([n,t]=(0,p.J)(x.url??""));let S=e=>{i({event_type:101,component:13791,element:e?12225:12226,object_id_str:_,view_type:3})};return(0,m.jsx)(o.Z,{favorited:b,isCloseupButton:!0,onFavorite:()=>{S(!0),f((0,c.jB)("BoardResource",{username:t,slug:n,field_set_key:"detailed"})),f((0,c.jB)("BoardSectionResource",{board_slug:n,section_slug:v?.slug,username:t}))},onUnfavorite:()=>{S(!1)},pinId:_,size:y?"sm":24})}},725557:function(e,n,t){t.d(n,{Z:()=>o});var i=t(686659),a=t(667294),l=t(399353),r=t(785893);function o({children:e,paddingRight:n,paddingLeft:t,paddingBottom:o,marginTop:s,nodeRef:d}){return(0,a.useEffect)(()=>{(0,i.Z)("CloseupMetadataPadding","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupMetadataPadding.tsx")},[]),(0,r.jsx)(l.xu,{ref:d??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${n}px`,paddingLeft:t?`${t}px`:void 0,paddingBottom:o?`${o}px`:void 0,marginTop:s?`${s}px`:void 0,overflowX:"hidden"}},width:"100%",children:e})}},803389:function(e,n,t){t.d(n,{Z:()=>r});var i=t(399353),a=t(113759),l=t(785893);let r=function(e){let{show:n,surface:t}=e,{closeupWithinMasonryEnabled:r}=(0,a.x4)();return r?(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:n?"1px solid #E9E9E9":void 0,opacity:+!!n}},"data-test-id":`${t}-divider`,width:"100%"}):n&&(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},320748:function(e,n,t){t.d(n,{Z:()=>c});var i=t(686659),a=t(667294),l=t(399353),r=t(519371),o=t(24246),s=t(113759),d=t(785893);function c({actionButton:e,collapsed:n,disabled:t,displayViewState:c,forceTappableHeader:u,headerHeight:p,headerPaddingX:m,headerPreview:g,heading:h,icon:f="chevron-down",onClick:y,showArrow:x,surface:_}){(0,a.useEffect)(()=>{(0,i.Z)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let b=(0,o.Z)(),{closeupWithinMasonryEnabled:v,peekCloseupEnabled:S,viewportSize:k}=(0,s.x4)();if(!u&&null===c){let e=(0,r.rt)({peekCloseupEnabled:S,viewportSize:k,surface:_}),n=(0,d.jsx)(l.qd,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:h});return e?(0,d.jsx)(l.xu,{marginBottom:4,children:n}):n}return(0,d.jsx)(l.xu,{paddingX:m,children:(0,d.jsx)(l.iP,{disabled:!x||t,onTap:y,children:(0,d.jsx)(l.xu,{marginBottom:!n&&S?4:void 0,children:(0,d.jsxs)(l.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:p,justifyContent:"between",children:[(0,d.jsx)(l.kC.Item,{flex:"shrink",children:(0,d.jsx)(l.qd,{accessibilityLevel:2,align:"start",color:t?"disabled":"default",id:"comments-heading",size:"300",children:h})}),(0,d.jsx)(l.kC.Item,{flex:"shrink",children:(0,d.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[n&&g,(x||v)&&(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:n?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!x,children:(0,d.jsx)(l.hU,{accessibilityLabel:b.bt("Expand icon", "Expand icon", "accordion.actionButton", undefined, true),dataTestId:"collapse-button",disabled:!x||t,icon:f,size:"sm"})})]})}),e&&(0,d.jsx)(l.kC.Item,{flex:"grow",children:(0,d.jsx)(l.kC,{justifyContent:"end",children:e})})]})})})})}},657654:function(e,n,t){t.r(n),t.d(n,{default:()=>T}),t(244311);var i,a,l=t(230201),r=t(183e3),o=t(935833),s=t(739405),d=t(113759),c=t(686659),u=t(667294),p=t(581722);t(167912);var m=t(399353),g=t(79271),h=t(661376),f=t(264267),y=t(759271),x=t(24246),_=t(785893);function b({commentCount:e,commentImpressionTrackerRef:n,inCommentsImprovedDropdownExp:t,inCommentsPopoverExp:i,isDesktop:a,previewComment:l}){(0,u.useEffect)(()=>{(0,c.Z)("CloseupCommentModuleContent","/app/www/comments/CloseupCommentModuleContent.tsx")},[]);let r=(0,x.Z)(),{mWebCloseupRedesignEnabled:o}=(0,y.Z)(),s=(0,u.useRef)(null),d=t||i,p=e>1,g=!a||d,h="aggregatedcomment"===l.type?l.text:l.details||"";h=g?`"${h}" ... `:`"${h}"`;let f=p?r.bt("view all comments", "view all comments", "closeupCommentModule.commentModuleContent.cta.multipleComments.popover", undefined, true):r.bt("view comment", "view comment", "closeupCommentModule.commentModuleContent.cta.singleComment.popover", undefined, true),b=p?r.bt("View all comments", "View all comments", "closeupCommentModule.commentModuleContent.cta.multipleComments", undefined, true):r.bt("View comment", "View comment", "closeupCommentModule.commentModuleContent.cta.singleComment", undefined, true),v=d?f:b;return(0,u.useEffect)(()=>{let e=n?.current,t=s?.current;g&&((e,n)=>{if(!e||!n)return;let t=e?.offsetHeight;if(e?.scrollHeight>t){let t='..." ',i=n.innerText,a=i,l=0,r=i.length;for(;l<=r;){let o=Math.floor((l+r)/2);n.innerText=i.slice(0,o)+t,e.scrollHeight>e.offsetHeight?r=o-1:(l=o+1,a=i.slice(0,o))}return n.innerText=a+t}})(e,t)},[v,n,h,g,s]),(0,_.jsx)(m.xu,{children:(0,_.jsxs)(m.xu,{ref:n,dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",display:"-webkit-box",color:"var(--sema-color-text-subtle)"}},overflow:"hidden",children:[(0,_.jsx)(m.xe,{ref:s,color:"subtle",inline:!0,size:g&&!o?"300":"200",children:h}),g&&(0,_.jsx)(m.xu,{display:"inlineBlock",children:(0,_.jsx)(m.xe,{size:o?"200":"300",weight:"bold",children:v})})]})})}var v=t(646239);let S=(void 0!==i||(i=t(663705)).hash&&"361dbb7eac9d64408e9e81f7b01b2b75"!==i.hash&&console.error("The definition of 'CloseupCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function k({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:n,onTap:t,pinKey:i,viewParameter:a}){(0,u.useEffect)(()=>{(0,c.Z)("CloseupCommentModule","/app/www/closeup/duplo/CloseupCommentModule.tsx")},[]);let l=(0,f.lV)(),o=(0,s.HG)(),{aggregatedPinData:d}=(0,r.Z)(S,i)||{},{commentCount:y,entityId:x}=d||{},k=(0,p.v9)(e=>(0,v.Z)(e,{aggregatedPinDataId:x,aggregatedComments:l}))[0],w=k?.type==="aggregatedcomment"?!!k.text:!!k?.details,P=(0,h.Z)(x?{name:"UnifiedCommentsPreviewResource",options:{aggregated_pin_id:x,redux_normalize_feed:!e}}:null).isLoaded&&w,C=(0,g.ZP)({componentType:13696,impressionType:"Comment",loggingId:k?.id,viewParameter:a,viewType:3});return P?(0,_.jsx)(m.iP,{onTap:t,children:(0,_.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:e?12:4,paddingBottom:e?16:4}},children:(0,_.jsx)(b,{commentCount:y??0,commentImpressionTrackerRef:C,inCommentsImprovedDropdownExp:!!e,inCommentsPopoverExp:!!n,isDesktop:o,previewComment:k})})}):null}var w=t(953238);let P=(void 0!==a||(a=t(738677)).hash&&"3a8cd51fec23643de121636949bbbcf6"!==a.hash&&console.error("The definition of 'UnifiedCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function C({logCommunityViewIntent:e,pinKey:n,viewParameter:t}){let i=(0,r.Z)(P,n),{commentModalConfig:{setIsCommentThreadModalOpen:a}}=(0,w.B)();return(0,_.jsx)(k,{onTap:()=>{a(!0),e()},pinKey:i,viewParameter:t})}function j({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:n,logCommunityViewIntent:t,pinKey:i,viewParameter:a}){let l=(0,r.Z)(P,i),{setIsCommentThreadExpanded:o}=(0,d.x4)();return(0,_.jsx)(k,{inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:n,onTap:()=>{o?.(!0),t()},pinKey:l,viewParameter:a})}let T=function(e){let n=(0,s.HG)(),{logContextEvent:t}=(0,l.u)(),{inCommentsImprovedDropdownExp:i}=e,a=()=>{t({component:13464,element:11533,event_type:10554,view_type:3}),n&&(0,o.tj)("dweb.unified_comment_module.community_view_intent",{tags:{experimentGroup:i?"improved_dropdown":"popover"}})};return n?(0,_.jsx)(j,{...e,logCommunityViewIntent:a}):(0,_.jsx)(C,{...e,logCommunityViewIntent:a})}},613465:function(e,n,t){t.d(n,{g:()=>s,h:()=>o});var i=t(686659),a=t(667294),l=t(785893);let r=(0,a.createContext)(void 0);function o({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("VisitButtonAnimationContext","/app/common/react/components/auth-desktop-web-closeup/VisitButtonAnimationContext.tsx")},[]);let[n,t]=(0,a.useState)(!1),o=(0,a.useRef)(null),s=()=>{null!==o.current&&(window.clearTimeout(o.current),o.current=null)};(0,a.useEffect)(()=>()=>s(),[]);let d=(0,a.useCallback)(()=>{s(),t(!0),o.current=window.setTimeout(()=>{t(!1),o.current=null},2e3)},[]),c=(0,a.useMemo)(()=>({animateVisitSite:n,triggerVisitButtonAnimation:d}),[n,d]);return(0,l.jsx)(r.Provider,{value:c,children:e})}function s(){return(0,a.use)(r)||{animateVisitSite:!1,triggerVisitButtonAnimation:()=>{}}}},385826:function(e,n,t){t.d(n,{Z:()=>g});var i,a=t(686659),l=t(667294);t(167912);var r=t(399353),o=t(230201),s=t(319226),d=t(183e3),c=t(113759),u=t(667389),p=t(785893);let m=(void 0!==i||(i=t(472719)).hash&&"076ac514bfbb048036e79417ec3c0eb5"!==i.hash&&console.error("The definition of 'OfficialUserAttributionText_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function g({clickable:e=!0,getDisplayName:n,onMouseDown:t,userKey:i}){(0,l.useEffect)(()=>{(0,a.Z)("OfficialUserAttributionText","/app/common/react/components/shopping/ProductDetailPage/OfficialUserAttributionText.tsx")},[]);let{logContextEvent:g}=(0,o.u)(),h=(0,d.Z)(m,i),{peekCloseupEnabled:f}=(0,c.x4)(),{isVerifiedMerchant:y,fullName:x="",verifiedIdentity:_,username:b,isAdsOnlyProfile:v,adsOnlyProfileSite:S,imageMediumUrl:k}=h,w=h.avatarColorIndex,P=y||_?.verified,C=(0,p.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"8px"}},direction:"row",display:"flex",onMouseDown:()=>{t&&t()},children:[f&&(0,p.jsx)(s.qE,{color:w,name:x??"",size:"xs",src:k??""}),(0,p.jsx)(r.qd,{accessibilityLevel:2,children:(0,p.jsx)(r.xe,{lineClamp:1,size:f?"200":"300",weight:"bold",children:n?n(x??""):x??""})})]});if(!e)return C;let j=v&&!!S;return(0,p.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,p.jsx)(r.xu,{children:j?(0,p.jsx)(r.Tg,{href:S||"",onTap:()=>{g({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:C}):(0,p.jsx)(r.Tg,{href:`/${b}/`,children:C})}),P&&(0,p.jsx)(r.xu,{marginStart:2,children:(0,p.jsx)(u.Z,{isVerifiedIdentity:_?.verified||!1,isVerifiedMerchant:y||!1,size:"sm"})})]})}},255508:function(e,n,t){t.d(n,{Z:()=>K});var i,a,l,r,o,s,d=t(686659),c=t(667294);t(244311);var u=t(399353),p=t(41045),m=t(166988),g=t(230201),h=t(183e3),f=t(24246),y=t(23641),x=t(234278),_=t(282636),b=t(276469),v=t(785893);let S=(void 0!==i||(i=t(995122)).hash&&"0115eb52db8bd36a1a82754d3c39b478"!==i.hash&&console.error("The definition of 'StructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=(void 0!==a||(a=t(454959)).hash&&"733093776dc8e837966fbdda29e9d4c5"!==a.hash&&console.error("The definition of 'StructuredDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),w=({children:e,dangerouslySetInlineStyle:n,marginTop:t})=>(0,v.jsx)(u.xu,{dangerouslySetInlineStyle:n,"data-test-id":"structured-description",marginTop:t,children:e}),P=({content:e,order:n,type:t,pinKey:i})=>{let a=(0,h.Z)(k,i),{hyperlinkKeywordsEnabled:l}=(0,p.Z)(a);if(!e)return null;let r=t===b.X.HEADER,o=void 0!==t&&[b.X.HEADER,b.X.BOLD].includes(t),s=n>0&&r?4:2*(0!==n);return a&&l?(0,v.jsx)(w,{marginTop:s,children:(0,v.jsx)(u.xv,{color:"subtle",inline:!0,size:"200",weight:o?"bold":"normal",children:(0,v.jsx)(_.Z,{description:e,mentionLinkColor:"link",pinKey:a,shouldAdjustOffset:!1,textSize:"200"})})}):(0,v.jsx)(w,{marginTop:s,children:(0,v.jsx)(u.xv,{color:"subtle",size:"200",weight:o?"bold":"normal",children:e})})},C=({content:e,order:n})=>e?(0,v.jsx)(w,{marginTop:2*(0!==n),children:e}):null,j=({content:e,order:n,isInBlendedUIExp:t})=>Array.isArray(e)&&0!==e.length?(0,v.jsx)(w,{marginTop:2*(0!==n),children:e.map(e=>(0,v.jsxs)(u.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,v.jsx)(u.xv,{color:t?"subtle":"default",inline:!0,size:"200",weight:"bold",children:"Â·"}),(0,v.jsx)(u.xu,{marginStart:1,children:(0,v.jsx)(u.xv,{color:t?"subtle":"default",size:"200",children:e})})]},e))}):null,T=({accessibilityLabel:e,content:n,order:t})=>n&&"object"==typeof n?(0,v.jsx)(w,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==t),children:(0,v.jsx)(u.iA,{accessibilityLabel:e,children:(0,v.jsx)(u.iA.Body,{children:Object.entries(n).map(([e,n],t)=>(0,v.jsxs)(u.iA.Row,{children:[(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",weight:"bold",children:e})}),(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",children:String(n)})})]},t))})})}):null,I=({accessibilityLabel:e,content:n,order:t})=>{if(!Array.isArray(n)||n.length<2)return null;let i=n[0],a=n.slice(1);return(0,v.jsx)(w,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==t),children:(0,v.jsxs)(u.iA,{accessibilityLabel:e,children:[(0,v.jsx)(u.iA.Header,{children:(0,v.jsx)(u.iA.Row,{children:i.map((e,n)=>(0,v.jsx)(u.iA.HeaderCell,{children:(0,v.jsx)(u.xv,{size:"100",weight:"bold",children:e})},n))})}),(0,v.jsx)(u.iA.Body,{children:a.map((e,n)=>(0,v.jsx)(u.iA.Row,{children:e.map((e,n)=>(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",children:e})},n))},n))})]})})},D=e=>{let n=(void 0!==l||(l=t(116830)).hash&&"f867b797951e2d08797cfc2a432829dd"!==l.hash&&console.error("The definition of 'StructuredDescriptionComponent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),i=(0,h.Z)(n,e.pinKey),a=(0,f.Z)(),r=(0,m.Z)({showProductDetailPage:!!i?.isEligibleForPdp});switch(e.type){case b.X.POINTS:return(0,v.jsx)(j,{...e,isInBlendedUIExp:r});case b.X.SPECS:return(0,v.jsx)(T,{accessibilityLabel:a.bt("Specification view of description", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case b.X.TABLE:return(0,v.jsx)(I,{accessibilityLabel:a.bt("Table view of description", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case b.X.ELEMENT:return(0,v.jsx)(C,{...e});default:return(0,v.jsx)(P,{...e,pinKey:i})}};function F({descriptions:e,onLoad:n,pinKey:t}){(0,c.useEffect)(()=>{(0,d.Z)("StructuredDescription","/app/www/structuredDescription/StructuredDescription.tsx")},[]);let i=(0,h.Z)(S,t);return((0,c.useEffect)(()=>{"function"==typeof n&&n()},[n]),0===e.length)?null:e.map(({content:e,type:n},t)=>(0,v.jsx)(D,{content:e,order:t,pinKey:i,type:n},t))}let Z=(void 0!==r||(r=t(32808)).hash&&"9758e05746f41597abb102ff4c921bd8"!==r.hash&&console.error("The definition of 'ProductDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),E=({structuredDescription:e,type:n,pinKey:i})=>{let a=(void 0!==o||(o=t(553174)).hash&&"0ea92af6ed3e580e484b6776204f5277"!==o.hash&&console.error("The definition of 'ProductDescriptionAccordion_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),l=(0,h.Z)(a,i),r=(0,f.Z)(),s="expandable"===n&&e[0].type===b.X.PARAGRAPH,d=r.bt("Product details", "Product Details", "productDetails.accordionHeader.text", undefined, true);return(0,v.jsx)(x.Z,{heading:d,children:(0,v.jsx)(u.xu,{paddingY:+!s,children:(0,v.jsx)(F,{descriptions:e,onLoad:()=>{(0,y.Nx)("description")},pinKey:l})})})},A=({isOpen:e,onOpen:n,structuredDescription:i,pinKey:a})=>{let l=(void 0!==s||(s=t(843560)).hash&&"778f9a67c785189deaaa1c4cfec46ad3"!==s.hash&&console.error("The definition of 'ProductDescriptionPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),r=(0,h.Z)(l,a),o=(0,m.Z)({showProductDetailPage:!!r?.isEligibleForPdp}),[d,p]=(0,c.useState)(!1),g=(0,f.Z)(),x=(0,c.useRef)(null),_=o?g.bt("See more", "See more", "productDescription.productDescriptionPreview.cta", undefined, true):g.bt("See details", "See details", "productDescription.productDescriptionPreview.cta", undefined, true),b=e?g.bt("See less", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):_;return(0,c.useLayoutEffect)(()=>{if(!x.current||e)return;let n=setTimeout(()=>{if(x.current){let e=x.current;p(e.scrollHeight>e.clientHeight)}},10);return()=>clearTimeout(n)},[i,e]),(0,v.jsxs)(u.xu,{"data-test-id":"product-description-preview",display:"block",children:[(0,v.jsx)(u.qd,{size:"300",children:g.bt("Description", "Description", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,v.jsx)(u.xu,{marginTop:2,position:"relative",children:(0,v.jsx)(u.xu,{ref:x,dangerouslySetInlineStyle:{__style:{...e?{}:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineClamp:3,boxOrient:"vertical"},transition:"height 200ms ease-in-out"}},children:(0,v.jsx)(F,{descriptions:i,onLoad:()=>{x.current&&(0,y.Nx)("description")},pinKey:r})})}),d&&(0,v.jsx)(u.kC,{justifyContent:"end",children:(0,v.jsx)(u.iP,{display:"inlineBlock",fullWidth:!1,onTap:n,children:(0,v.jsx)(u.xe,{align:"end",size:"200",weight:"bold",children:b})})})]})};function K(e){(0,c.useEffect)(()=>{(0,d.Z)("ProductDescription","/app/common/react/components/shopping/ProductDetailPage/ProductDescription.tsx")},[]);let{commerceData:n,structuredDescription:t,type:i="accordion",viewParameter:a,pinKey:l}=e,r=(0,h.Z)(Z,l),{logContextEvent:o}=(0,g.u)(),[s,u]=(0,c.useState)(!1),m=(0,p.Z)(r);return((0,c.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:a,aux_data:{...n}})},[]),m||0!==t.length)?"preview"===i?(0,v.jsx)(A,{...e,isOpen:s,onOpen:()=>{u(!s),o({event_type:101,component:13597,view_type:3,element:s?13278:13277,view_parameter:a,aux_data:{...n}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:a,aux_data:{...n}})},pinKey:r}):(0,v.jsx)(E,{...e,pinKey:r}):null}},148547:function(e,n,t){t.d(n,{Z:()=>ec});var i,a,l=t(686659),r=t(667294);t(167912);var o=t(312048),s=t(399353),d=t(443376),c=t(340950),u=t(725557),p=t(803389),m=t(519371),g=t(970766),h=t(654805),f=t(166988),y=t(77957),x=t(489325),_=t(385826),b=t(255508),v=t(239321),S=t(183e3),k=t(680391),w=t(566431),P=t(902123),C=t(239757),j=t(113759),T=t(250704),I=t(785893);let D=(void 0!==i||(i=t(46531)).hash&&"8dced786a95725beb90a797a0e54242b"!==i.hash&&console.error("The definition of 'ProductHeading_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function F({clientTrackingParams:e,enableDynamicSizeAdjustment:n,link:t,pinKey:i,text:a,onClickThrough:o}){(0,r.useEffect)(()=>{(0,l.Z)("ProductHeading","/app/common/react/components/shopping/ProductDetailPage/ProductHeading.tsx")},[]);let d=(0,S.Z)(D,i),c=(0,r.useRef)(null),[u,p]=(0,r.useState)("500"),{closeupWithinMasonryEnabled:m,peekCloseupEnabled:g}=(0,j.x4)(),h=(0,f.Z)({showProductDetailPage:!!d?.isEligibleForPdp}),y=(0,k.Z)({href:t||"",clientTrackingParams:(0,T.Z)(e,d?.trackingParams),externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}}),x=(0,C.Z)({clickthroughType:"middleClick",location:"closeup.shopping.productTitle"}),_=(0,I.jsx)(s.xu,{ref:c,children:(0,I.jsx)(s.qd,{id:"product-heading",lineClamp:g?2:void 0,size:m&&!h?"400":u,children:a})});return(0,r.useEffect)(()=>{if(!c||!c.current||!n)return;let e=c.current.querySelector("#product-heading");if(!e)return;let t=Number(e.offsetHeight)||0;Number.isFinite(t)&&p(2>=Math.floor(t/33)?"500":"400")},[n,c]),(0,I.jsx)(P.q,{children:({hovered:n,onMouseEnter:i,onMouseLeave:a})=>(0,I.jsx)(v.Z,{clientTrackingParams:e,hovered:n,pinKey:d,viewType:3,children:(0,I.jsx)(s.xu,{onMouseEnter:i,onMouseLeave:a,children:t?(0,I.jsx)(s.xu,{"data-test-id":"link-navigation",children:(0,I.jsx)(s.xe,{children:(0,I.jsx)(s.rU,{_onAuxClick:({event:e})=>{(0,w.UE)(e)&&(x(),e.stopPropagation(),y({event:e}),o({componentType:14284}))},href:t,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),y({event:e}),o({componentType:14284})},underline:"none",children:_})})}):_})})})}var Z=t(369756),E=t(228495),A=t(319836),K=t(537356),M=t(935009),z=t(230201),L=t(470205),R=t(935059),B=t(24246),H=t(59111),O=t(173874),U=t(501010),N=t(220347),$=t(23641),V=t(774838),W=t(825605),Y=t(680589),G=t(605203),q=t(739405),X=t(575647),J=t(200619),Q=t(601871),ee=t(15392),en=t(405146),et=t(488598),ei=t(675312),ea=t(276469),el=t(9065);let er=(0,el.Z)(()=>t.e("96615").then(t.bind(t,188604)),void 0,e=>188604,"CloseupPartnerModule",e=>["96615"]),eo=(0,el.Z)(()=>Promise.resolve().then(t.bind(t,657654)),void 0,e=>657654,"app-common-react-components-auth-desktop-web-closeup-CloseupCommentModule-UnifiedCommentModule",e=>[]),es=(void 0!==a||(a=t(222433)).hash&&"420cbc88e50b7d12d8712ab2ffd91cf6"!==a.hash&&console.error("The definition of 'ProductMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),ed=({clientTrackingParams:e,closeupUnifiedTitle:n,durationDays:t,finalLink:i,inBlendedUIExp:a,lowestPrice:l,onClickThrough:o,pin:d,productTitleMarginTop:c,renderDomainOwner:u,renderPriceAndRatings:p,showDomainOwner:m,showDomainOwnerOnTop:g,showPriceHistorySummary:h,showTitle:f,typicalPrice:y})=>(0,I.jsxs)(r.Fragment,{children:[m&&g&&u(),f&&!!n&&(0,I.jsx)(s.xu,{"data-test-id":"product-title",marginTop:c,children:(0,I.jsx)(F,{clientTrackingParams:e,enableDynamicSizeAdjustment:a,link:i,onClickThrough:o,pinKey:d,text:n})},"product-title"),p(),h&&(0,I.jsx)(s.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,I.jsx)(en.Z,{priceHistorySummary:{durationDays:t,lowestPrice:l,typicalPrice:y}})},"product-price-history-summary"),m&&!g&&u()]});function ec({clientTrackingParams:e,detailsScrollContainerRef:n,hideShopButton:t,inCommentsImprovedDropdownExp:i,inCommentsPopoverExp:a,isBoardOwnerOrCollaborator:v,isLoadingNewlyCreatedComment:k,onClickThrough:P,outerPaddingSize:C,pinKey:T,showPartnerModule:D,showPDPComments:F,showPinStats:en,showTrendsOnPinCloseup:el,trendsData:ec,viewParameter:eu,blendedUIScrollContainerRef:ep}){(0,r.useEffect)(()=>{(0,l.Z)("ProductMetadata","/app/common/react/components/shopping/ProductDetailPage/ProductMetadata.tsx")},[]);let em=(0,B.Z)(),{logContextEvent:eg}=(0,z.u)(),eh=(0,R.Z)(),{closeupWithinMasonryEnabled:ef,peekCloseupEnabled:ey,viewportSize:ex}=(0,j.x4)(),{sideBySideFullWidthCTAEnabled:e_}=(0,h.Z)(),eb=(0,S.Z)(es,T),ev=(0,f.Z)({showProductDetailPage:!!eb.isEligibleForPdp}),eS=(0,U.Z)(),ek=(0,q.ZP)(),ew=(0,r.useRef)(null),eP=ep||ew,{affiliateDisclosure:eC,affiliateLink:ej,carouselData:eT,closeupAttribution:eI,closeupUnifiedDescription:eD,closeupUnifiedTitle:eF,gridTitle:eZ,commentsDisabled:eE,favoritedByMe:eA,isDownstreamPromotion:eK,isEligibleForPreLovedGoodsLabel:eM,isGoLinkless:ez,isOosProduct:eL,isStaleProduct:eR,linkUserWebsite:eB,linkDomain:eH,promoter:eO,richMetadata:eU,sponsorship:eN,storyPinData:e$,nativeCreator:eV}=eb,eW=()=>{(0,$.Nx)("shopButton")},eY=(0,X.Z)(eb)(),{isAuthenticated:eG}=(0,V.B)(),{carouselInfo:eq}=(0,y.G)(),eX=(0,J.Z)(),eJ=(0,Q.lJ)(eh,eX),eQ=(0,Q.q6)(eh,eb?.pinner?.entityId,eX),e0=eU?.products?.[0],{inStock:e1,maxPrice:e2,minPrice:e5,price:e3,standardPrice:e9,unitPrice:e6,unitPricingBaseUnits:e7,unitPricingUnitType:e4}=e0?.offerSummary||{},{durationDays:e8,lowestPrice:ne,typicalPrice:nn}=e0?.priceHistorySummary||{},nt=Number.isInteger(e8)&&(!!ne||!!nn),ni=eL||!1===e1,{ratingValue:na,reviewCount:nl,ratingCount:nr}=eU?.aggregateRating||{},no=!!na&&(nl||nr),{brand:ns,shippingInfo:nd}=e0||{},nc=eB?.officialUser?.firstName,{officialUser:nu}=eH||{},np=eI||nu,{firstName:nm}=np||{},ng=(0,Y.ZP)(nc||nm||"",20),{name:nh}=ns||{},nf=!!nh,ny=(0,o.TH)(),nx=!eG&&(0,O.isBoardPage)(ny),n_=!!(eO&&!eK)&&eO?.entityId===eV?.entityId,nb=!!ej,nv=!!e$?.hasAffiliateProducts,nS=(!!eN||nv||nb)&&!n_&&!nx,nk=(0,r.useCallback)(e=>{if(e&&nf){let n=ey?"200":void 0;return(0,I.jsx)(s.xe,{align:"center",size:n,weight:"normal",children:e})}return e},[nf,ey]),nw=(eD||"").trim(),nP=(0,ei.Z)(eb),nC=(0,ea.j)({components:nP,pinDescription:nw}),nj=(eq?.carouselData?.carousel_slots?.length??0)>0,nT=(0,r.useMemo)(()=>{let e=eZ||eF;if(nj){let{carouselData:n}=eq||{},{carousel_slots:t=[],index:i}=n||{};t&&null!=i&&t[i]&&(e=t[i].title||e)}return e},[eq,eF,eZ,nj]),{link:nI,trackedLink:nD,utmLink:nF}=eb||{},nZ=(0,w.Zt)({utmLink:nF,trackedLink:nD,link:nI})||"",nE=(0,G.Z)(nZ)??nZ,{currentDomain:nA}=(0,g.Z)({carouselData:eT&&{carouselSlots:eT.carouselSlots&&eT.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:eT?.index},domain:eb.domain}),nK=nA.split(".")[0],{freeShippingPrice:nM,freeShippingValue:nz}=nd||{},nL=!!nM&&!!nz,nR=!!(no||nL),nB=!t&&(ng||nK)&&nE&&!ez,nH=C??ee.ER,nO=6*!ef,nU="desktop"===ek&&!!eM&&!ni&&eS.checkExperiment("web_organic_pre_loved_goods_label").anyEnabled,nN=eA?em.bt("Remove from favourites", "Remove from favorites", "closeup.productMetadata.removeFromFavorites", undefined, true):em.bt("Add to favourites", "Add to favorites", "closeup.productMetadata.addToFavorites", undefined, true),n$=(eb.aggregatedPinData?.commentCount??0)+(eb.aggregatedPinData?.didItData?.imagesCount??0),nV=!!eb.isEligibleForAggregatedComments&&(i?!eb.commentsDisabled:!a)&&(!ev||n$>0),nW=i?!!n$:!(ey&&eb.aggregatedPinData?.commentCount===0),nY=a&&!eE,nG=[...nC.length>0&&nw?[(0,I.jsx)(u.Z,{paddingLeft:ef?nH/2:0,paddingRight:ef?nH/2:0,children:(0,I.jsx)(s.xu,{"data-test-id":"product-description",children:(0,I.jsx)(b.Z,{commerceData:eY,pinKey:eb,structuredDescription:nC,type:"expandable",viewParameter:eu})})},"closeupProductDescription")]:[],...v?[(0,I.jsx)(u.Z,{paddingLeft:ef?nH/2:0,paddingRight:ef?nH/2:0,children:(0,I.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!ef,marginTop:2,children:[ef?(0,I.jsx)(s.qd,{size:"400",children:nN}):(0,I.jsx)(s.xe,{weight:"bold",children:nN}),(0,I.jsx)(c.Z,{pinKey:eb})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[]],nq=()=>(0,I.jsxs)(s.xu,{alignItems:ev?"start":"center",dangerouslySetInlineStyle:{__style:{columnGap:ef?4:8,flexWrap:ef?"wrap":void 0}},direction:ev?"column":"row",display:"flex",marginTop:ev?1:2,children:[(0,I.jsx)(s.xu,{"data-test-id":"product-price",children:(0,I.jsx)(x.Z,{id:"ProductPrice",children:(0,I.jsx)(Z.Z,{colorOverride:"default",isSoldOut:ni,isStale:eR,productDetails:{maxPrice:e2,minPrice:e5,price:e3,standardPrice:e9,unitPrice:e6,unitPricingBaseUnits:e7,unitPricingUnitType:e4},showPreOwnedLabel:nU,type:ef?"mobileHeading":"heading",weight:ev?"bold":"normal"})})},"product-price"),nR&&(ev?(0,I.jsx)(x.Z,{id:"VerticalProductRatingsAndShipping",children:(0,I.jsx)(K.Z,{bracket:!0,compact:!1,count:nr||nl,countFormat:"number",countType:nr?"rating":"review",hideSeparationDot:!0,ratingValue:na,shippingInfo:{freeShippingPrice:nM,freeShippingValue:nz}})}):(0,I.jsx)(x.Z,{id:"ProductRatingsAndShipping",children:(0,I.jsx)(E.Z,{bracket:!0,count:nr||nl,countFormat:"number",countType:nr?"rating":"review",hideSeparationDot:!0,ratingValue:na,shippingInfo:{freeShippingPrice:nM,freeShippingValue:nz}})}))]}),nX=()=>np?(0,I.jsx)(s.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:ev?1:2,marginTop:2*!ev,children:(0,I.jsx)(x.Z,{id:"OfficialUserAttributionText",children:(0,I.jsx)(_.Z,{getDisplayName:nk,onMouseDown:nf?()=>{eg({event_type:102,object_id_str:eb.entityId,view_type:3,view_parameter:144,element:13592,aux_data:eY})}:void 0,userKey:np})})}):null,nJ=()=>(0,I.jsx)(u.Z,{paddingBottom:ey?nH/2:void 0,paddingRight:0,children:(0,I.jsx)(s.xu,{"data-test-id":"product-shop-button",marginTop:ef||ev?0:3,children:(0,I.jsx)(M.Z,{clientTrackingParams:e,color:"secondary",fullWidth:e_,link:nE,onClickThrough:P,onLoad:eW,pinKey:eb,text:em.bt("Visit site", "Visit site", "closeup.shop.button", undefined, true)})})}),nQ=4;ef?nQ=0:ey&&np&&(nQ=2);let n0=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,I.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:ev?"column":void 0}},display:ev?"flex":"block",height:ev?"100%":void 0,marginTop:ef&&!ev?2:0,children:[ev&&(0,I.jsx)(r.Fragment,{children:(0,I.jsxs)(s.xu,{color:"default",marginBottom:4,children:[(0,I.jsx)(s.xu,{marginBottom:3,children:(0,I.jsx)(x.Z,{id:"ProductMetadataHeader",children:(0,I.jsx)(ed,{clientTrackingParams:e,closeupUnifiedTitle:nT??void 0,durationDays:e8??void 0,finalLink:nE,inBlendedUIExp:ev,lowestPrice:ne??void 0,onClickThrough:P,pin:eb,productTitleMarginTop:nQ,renderDomainOwner:nX,renderPriceAndRatings:nq,showDomainOwner:!!np,showDomainOwnerOnTop:!0,showPriceHistorySummary:nt,showTitle:!!nT,typicalPrice:nn??void 0})})}),nj&&(0,I.jsx)(s.xu,{marginBottom:3,children:(0,I.jsx)(N.Z,{containerId:"InnerScrollContainer",children:(0,I.jsx)(A.Z,{accessibilityControls:`closeup-image-container-${eb.entityId}`,commerceData:eY,inBlendedUIExp:ev,layout:ev?"row":"column",pinId:eb.entityId,size:"lg",surfaceType:"closeup",viewParameter:156})})}),nB&&(!ef||ev)&&nJ()]})}),ef&&D&&(0,I.jsx)(u.Z,{paddingRight:C,children:(0,I.jsx)(s.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,I.jsx)(L.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,I.jsx)(W.Z,{children:(0,I.jsx)(er,{borderStyle:m.te,isStoryPin:!1,pinKey:eb,showPinStats:en,trendsData:el?ec?.data?.results:null,viewportSize:ex})})})})}),ey&&(0,I.jsx)(u.Z,{paddingRight:0,children:nX()}),(0,I.jsxs)(s.xu,{ref:eP,dangerouslySetInlineStyle:{__style:{overflowY:ey||ev?"auto":void 0,paddingRight:ey?`${m.Gd}px`:void 0}},height:ey?"100%":void 0,marginBottom:v||F?0:5,marginEnd:ey?void 0:nO,marginTop:ef&&!ev?2:0,children:[ey&&(0,I.jsx)(H.Z,{unsafeCSS:n0}),(0,I.jsxs)(s.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:ey?"100%":void 0,children:[(0,I.jsxs)(u.Z,{paddingLeft:ef&&!ev?nH/2:0,paddingRight:ef&&!ev?nH/2:0,children:[(0,I.jsxs)(s.xu,{alignItems:ef?"start":void 0,display:ef?"flex":void 0,justifyContent:ef?"between":void 0,children:[(0,I.jsxs)(s.kC.Item,{flexBasis:!ef||ev?"100%":"77%",children:[!ev&&(0,I.jsx)(ed,{clientTrackingParams:e,closeupUnifiedTitle:nT??void 0,durationDays:e8??void 0,finalLink:nE,inBlendedUIExp:!1,lowestPrice:ne??void 0,onClickThrough:P,pin:eb,productTitleMarginTop:nQ,renderDomainOwner:nX,renderPriceAndRatings:nq,showDomainOwner:!ey&&!ev&&!!np,showDomainOwnerOnTop:!1,showPriceHistorySummary:nt,showTitle:!!nT,typicalPrice:nn??void 0}),nS&&!ey&&(0,I.jsx)(s.xu,{marginBottom:4,children:(0,I.jsx)(x.Z,{id:"SponsorshipText",children:(0,I.jsx)(et.Z,{affiliateDisclosure:eC,hasAffiliateLink:nb,hasAffiliateProducts:nv})})}),nY&&(0,I.jsx)(x.Z,{id:"UnifiedCommentModule",children:(0,I.jsx)(eo,{inCommentsPopoverExp:a,pinKey:eb,viewParameter:eu})})]}),nB&&ef&&!ev&&(0,I.jsx)(s.xu,{alignItems:"stretch",display:e_?"block":"flex",flex:"grow",justifyContent:"end",children:nJ()})]}),ev&&nC.length>0&&nw&&(0,I.jsx)(s.xu,{"data-test-id":"product-description",children:(0,I.jsx)(b.Z,{commerceData:eY,pinKey:eb,structuredDescription:nC,type:"preview",viewParameter:eu})})]}),(0,I.jsxs)(s.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,I.jsx)(r.Fragment,{children:!ev&&nG.map((e,n)=>(0,I.jsxs)(r.Fragment,{children:[e,(0,I.jsx)(u.Z,{paddingLeft:nH/2,paddingRight:nH/2,children:(0,I.jsx)(s.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,I.jsx)(p.Z,{show:!!(nV&&nW||n<nG.length-1),surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),(!nG.length||ev)&&(0,I.jsx)(s.xu,{marginBottom:3,marginTop:nV&&nW?3:0,width:"100%",children:(0,I.jsx)(p.Z,{show:(ef||ev)&&nV&&nW&&n$>0,surface:"product-metadata-details"})}),F&&!a&&(0,I.jsx)(u.Z,{paddingBottom:ef&&!(i&&nV)?nH/2:void 0,paddingLeft:ef&&!ev?nH/2:0,paddingRight:ef&&!ev?ee.ER/2:0,children:nV&&(0,I.jsx)(L.Z,{name:"ProductPinCanonicalCard",children:(0,I.jsx)(x.Z,{id:"CanonicalCard",children:(0,I.jsx)(d.Z,{aggregatedPinId:eb.aggregatedPinData?.entityId,closeupAttributionId:eb.closeupAttribution?.entityId,closeupAttributionUsername:eb.closeupAttribution?.username,commentCount:eb.aggregatedPinData?.commentCount??0,commentsDisabled:eb.commentsDisabled,inCommentsImprovedDropdownExp:i,isLoadingNewCreatedComment:k,isORBACProfileManager:eQ,isShopTheLook:eb.aggregatedPinData?.isShopTheLook,isVideo:!!eb.videos?.videoList,orbacSubjectId:eJ,photoCount:eb.aggregatedPinData?.didItData?.imagesCount??0,pinId:eb.entityId,pinKey:eb,pinnerId:eb.pinner?.entityId,scrollContainerRef:ev?eP.current:n,shouldShowHeading:nW,storyPinDataId:eb.storyPinData?.entityId,viewParameter:eu})})})},"closeupProductMetadataComments")]})]})]})]})}},369756:function(e,n,t){t.d(n,{Z:()=>c});var i=t(686659),a=t(667294),l=t(399353),r=t(724903),o=t(24246),s=t(113759),d=t(785893);function c({colorOverride:e,inlineComponent:n,isSoldOut:t,isStale:c,productDetails:u,showSalesPrice:p,showPreOwnedLabel:m,textSize:g,type:h,weight:f="normal"}){(0,a.useEffect)(()=>{(0,i.Z)("ProductPrice","/app/common/react/components/shopping/ProductDetailPage/ProductPrice.tsx")},[]);let{peekCloseupEnabled:y}=(0,s.x4)(),{maxPrice:x,minPrice:_,price:b,standardPrice:v,unitPrice:S,unitPricingBaseUnits:k,unitPricingUnitType:w}=u,P="100";"heading"!==h||y?"mobileHeading"===h?P="300":("cutout"===h||y)&&(P="200"):P="400",P=g||P;let C=(0,o.Z)(),j=C.bt("See price on site", "See price on site", "product.price.stale", undefined, true),T=C.bt("Sold out", "Sold out", "product.price.soldOut", undefined, true),I=C.bt("Pre-owned", "Pre-owned", "product.price.preOwned", undefined, true);return c?(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:j}):(0,d.jsxs)(l.kC,{alignItems:"stretch",dataTestId:"product-price",direction:"row",justifyContent:"start",children:[t&&(0,d.jsx)(l.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:T})}),(!!b||!!_||!!x)&&(0,d.jsx)(l.xe,{color:e||"default",dataTestId:"product-price",size:P,weight:f,children:(0,d.jsx)("span",{children:(0,r.Z)({maxPrice:x,minPrice:_,price:b})})}),!!S&&!!k&&!!w&&(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.xe,{color:"subtle",size:"200",weight:"normal",children:`(${S} / ${k} ${w})`})}),!!b&&!!v&&b!==v&&!p&&(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.xe,{color:"cutout"===h?"dark":"subtle",size:P,weight:["heading","mobileHeading"].includes(h)?"normal":"bold",children:(0,d.jsx)("span",{style:{textDecoration:"line-through"},children:v})})}),m&&(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:I})}),n||null]})}},228495:function(e,n,t){t.d(n,{Z:()=>p});var i=t(686659),a=t(667294),l=t(399353),r=t(759271),o=t(477252),s=t(113759),d=t(569905),c=t(674774),u=t(785893);function p({count:e,countType:n,countFormat:t,hideSeparationDot:p,bracket:m,ratingValue:g,unauthPdp:h,shippingInfo:f}){(0,a.useEffect)(()=>{(0,i.Z)("ProductRatingsAndShipping","/app/common/react/components/shopping/ProductDetailPage/ProductRatingsAndShipping/ProductRatingsAndShipping.tsx")},[]);let{closeupWithinMasonryEnabled:y,peekCloseupEnabled:x}=(0,s.x4)(),{mWebCloseupRedesignEnabled:_}=(0,r.Z)();return(0,u.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:y?4:void 0,rowGap:8}},display:"flex",wrap:!0,children:[(0,u.jsx)(d.Z,{bracket:m,count:e,countFormat:t,countType:n,rating:g,textSize:x||_?"200":"300",unauthPdp:h}),(0,u.jsx)(l.xu,{marginStart:!y&&(0,c.Z)({count:e,rating:g})&&p?2:0,children:(0,u.jsx)(o.Z,{customStyles:{color:"default",size:x||_?"200":"300"},freeShippingPrice:f?.freeShippingPrice,freeShippingValue:f?.freeShippingValue,showPrevDot:(0,c.Z)({count:e,rating:g})&&!p})})]})}},319836:function(e,n,t){t.d(n,{g:()=>T,Z:()=>F});var i=t(686659),a=t(667294),l=t(399353),r=t(583522),o=t(77957),s=t(581722),d=t(230201),c=t(24246),u=t(293646),p=t(515158),m=t(72034),g=t(785893);function h({accessibilityControls:e,accessibilityLabel:n,currentlySelectedIndex:t,index:o,onSelect:h,pinId:f,isDarkMode:y=!1,isSelectOnHover:x,size:_,thumbnail:b,mediaType:v="image",viewParameter:S,inBlendedUIExp:k}){(0,a.useEffect)(()=>{(0,i.Z)("CarouselItem","/app/common/react/components/shopping/ProductDetailPage/CarouselItem.tsx")},[]);let{logContextEvent:w}=(0,d.u)(),P=(0,s.I0)(),C=(0,c.Z)(),[j,T]=(0,a.useState)(!1),{isCloseupMediaViewerEnabled:I}=(0,r.Z)({isShufflePin:!1}),D=(0,a.useCallback)(e=>{"video"===v&&e&&!j&&(T(!0),w({event_type:13,component:13596,element:12831,view_type:3,view_parameter:S}))},[w,v,S,j]),F=(0,u.Z)({onVisibilityChanged:D}),Z=()=>{P((0,m.yR)(f,o)),h(o)},E=t===o||!t&&0===o;return(0,g.jsx)(l.xu,{ref:F,children:(0,g.jsx)(l.iP,{accessibilityControls:e,accessibilityCurrent:!!E||void 0,accessibilityLabel:n,onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),x&&Z()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),x||Z()},rounding:I?400:void 0,children:(0,g.jsx)(p.Z,{isDarkMode:y,outlined:E,rounding:I?400:void 0,type:k?"border":void 0,children:(0,g.jsxs)(l.xu,{position:"relative",children:[(0,g.jsx)(l.zd,{height:_,wash:!0,width:_,children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:b})}),"video"===v&&(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.JO,{accessibilityLabel:C.bt("Secondary carousel video icon", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var f=t(774838);let y=()=>{};function x({direction:e,handleNavHoverToggle:n,leftHover:t,isDarkMode:r=!1,hasBlurredBackground:o=!1,onScroll:s,rightHover:d,shouldPadArrows:u,size:p="md"}){(0,a.useEffect)(()=>{(0,i.Z)("DeprecatedArrows","/app/common/react/components/shopping/ProductDetailPage/DeprecatedArrows/DeprecatedArrows.tsx")},[]);let m=(0,c.Z)(),{isRTL:h}=(0,f.B)(),x=function({direction:e,isDarkMode:n,isRTL:t,leftHover:i,rightHover:a,shouldPadArrows:l,verticalSize:r,hasBlurredBackground:o=!1},s){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},c={color:n?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"54px",md:"124px",lg:"28px"};return{up:{...c,backgroundImage:o?"":`linear-gradient(${n?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"chevron-up",label:s.bt("Up arrow", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:u[r]},down:{...c,backgroundImage:o?void 0:`linear-gradient(${n?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"chevron-down",label:s.bt("Down arrow", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:u[r]},left:{...d,color:l||i?"default":"subtle",icon:t?"chevron-right":"chevron-left",justifyContent:"start",label:s.bt("Left arrow", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:t?"22px":"210px"},right:{...d,color:l||a?"default":"subtle",icon:t?"chevron-left":"chevron-right",justifyContent:"end",label:s.bt("Right arrow", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:t?"22px":"210px"}}}({direction:e,isDarkMode:r,isRTL:h,leftHover:t,rightHover:d,shouldPadArrows:u,verticalSize:p,hasBlurredBackground:o},m);return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:x[e].top,bottom:x[e].bottom,left:x[e].left,right:x[e].right}},height:x[e].height,position:"absolute",children:(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:x[e].backgroundImage,marginTop:u?"25px":void 0}},display:"flex",height:"100%",justifyContent:x[e].justifyContent,width:x[e].width,children:(0,g.jsx)("button",{onClick:s,onMouseEnter:n?()=>n(e,!0):y,onMouseLeave:n?()=>n(e,!1):y,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:x[e].justifyContent,width:"50px",children:(0,g.jsx)(l.JO,{accessibilityLabel:x[e].label,color:x[e].color,icon:x[e].icon})})})})})}var _=t(667980);function b({direction:e,isDarkMode:n=!1,onScroll:t}){return(0,a.useEffect)(()=>{(0,i.Z)("SecondaryCarouselArrows","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarouselArrows.tsx")},[]),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",transform:"translateY(-50%)",..."left"===e?{left:"8px"}:{right:"8px"}}},position:"absolute",zIndex:new l.Ry(10),children:(0,g.jsx)(_.Z,{children:(0,g.jsx)(l.hU,{accessibilityLabel:`${e} arrow`,bgColor:"default",icon:"left"===e?"chevron-left":"chevron-right",iconColor:n?"light":"dark",onClick:({event:e})=>t(e),size:"sm"})})})}var v=t(59111),S=t(216975),k=t(273675),w=t(829485),P=t(730448),C=t(113759),j=t(49254);let T=52,I={lg:60,md:120,sm:52},D=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
  .ProductCarousel-InnerScrollContainer--row {
    -ms-overflow-style: none;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .ProductCarousel-InnerScrollContainer--row::-webkit-scrollbar {
    display: none;
  }
`;function F({accessibilityControls:e,commerceData:n={},isSelectOnHover:t,layout:s="column",onImageSelect:u,pinId:p,size:m,surfaceType:f,viewParameter:y,inBlendedUIExp:_}){let T;(0,a.useEffect)(()=>{(0,i.Z)("SecondaryCarousel","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarousel.tsx")},[]);let{logContextEvent:F}=(0,d.u)(),Z=(0,c.Z)(),{isCloseupMediaViewerEnabled:E}=(0,r.Z)({isShufflePin:!1}),{carouselInfo:A}=(0,o.G)(),K=A?.handleCarouselSwipe,M=A?.carouselData?.carousel_slots??[],z=A?.carouselData?.index??0,[L,R]=(0,a.useState)(),[B,H]=(0,a.useState)(0),[O,U]=(0,a.useState)(),[N,$]=(0,a.useState)(),[V,W]=(0,a.useState)(),[Y,G]=(0,a.useState)(!1),[q,X]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(!1),[ee,en]=(0,a.useState)(!1),[et,ei]=(0,a.useState)(!1),ea=(0,j.t)(),{closeupWithinMasonryEnabled:el}=(0,C.x4)(),er=(0,a.useRef)(null),eo=(0,a.useRef)(null),es=I[m],ed=E&&"media-viewer"===f,ec=E&&"media-viewer"===f;(0,a.useEffect)(()=>{F({event_type:120,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...n}})},[]),(0,a.useEffect)(()=>{if(!L||!er.current)return;let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),U(Math.floor(e.bottom)),W(Math.floor(e.top)),$(Math.floor(e.bottom))},[er.current,L]),(0,a.useEffect)(()=>{if(er.current){let{height:e,top:n,bottom:t}=er.current.getBoundingClientRect();H(Math.floor(n)),U(Math.floor(t)),R(Math.floor(e))}},[M.length]),(0,a.useEffect)(()=>{!L&&er.current&&R(Math.floor(er.current.getBoundingClientRect().height))},[er.current]);let eu=8/(el?2:1);(0,a.useEffect)(()=>{B&&V&&N&&O&&M.length>=4&&(B<V?G(!0):G(!1),O>=490+ea+eu?X(!0):X(!1))},[B,O,V,N]);let ep=()=>{if(!eo.current)return;let{scrollTop:e,scrollHeight:t,clientHeight:i,scrollLeft:a,scrollWidth:l,clientWidth:r}=eo.current;if("column"===s)G(e>0),X(e+i<t-5);else{let e=l>r,n=e&&a>0,t=e&&a+r<l-5;Q(n),en(t)}("column"===s?e>0:a>0)&&!et&&(ei(!0),F({event_type:110,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...n}}))},em=(0,a.useRef)(ep);(0,a.useEffect)(()=>{em.current=ep}),(0,a.useEffect)(()=>{em.current()},[s,M.length,L]);let eg=eo.current;(0,a.useEffect)(()=>{let e=(0,P.Z)(()=>{if(er.current){let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),U(Math.floor(e.bottom)),em.current()}},16);return eg?.addEventListener("scroll",e),()=>{eg?.removeEventListener("scroll",e)}},[eg]);let eh=(e,n=!1)=>{0!==e&&(T&&T.cancel(),er.current&&eo.current&&(n?eo.current.scrollBy({left:e,behavior:"smooth"}):(T=(0,w.Z)(eo.current,0,e,{easingFunction:"ease-in-out",scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{T=null},extendToEdgeDistanceY:50})).start(),ep()))};return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${eu}px`}},overflow:"hidden",position:"relative",children:[(0,g.jsx)(v.Z,{unsafeCSS:D}),(0,g.jsx)("div",{ref:eo,className:`ProductCarousel-InnerScrollContainer${"row"===s?"--row":""}`,"data-test-id":"InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:"column"===s?490:void 0,maxWidth:"row"===s?"100%":void 0,cursor:"default"},children:(0,g.jsx)(l.xu,{ref:er,alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:"8px",rowGap:"16px"}},direction:"row"===s?"row":"column",display:"flex",justifyContent:"row"===s?"start":"center",marginEnd:"row"===s?4:6*!el,position:"relative",width:"row"===s?"100%":es+4,children:M.map((i,a)=>{let{images:l,videos:r}=i,{thumbnail:o,mediaType:s}=r?{thumbnail:r.cover_image_url,mediaType:"video"}:{thumbnail:(0,k.Z)({images:l,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,g.jsx)(h,{accessibilityControls:e,accessibilityLabel:(0,S.Wc)(Z.bt("image {{ index }} of {{ total }}", "image {{ index }} of {{ total }}", "secondaryCarousel.carouselItem.accessibilityLabel", undefined, true),{index:(a+1).toString(),total:M.length.toString()}),currentlySelectedIndex:z,inBlendedUIExp:_,index:a,isDarkMode:ed,isSelectOnHover:t,mediaType:s,onSelect:()=>{(u||K)&&(F({event_type:101,component:13596,element:"image"===s?11922:12831,view_type:3,view_parameter:y,aux_data:{...n}}),u?.(a),K?.(a))},pinId:p,size:es,thumbnail:o||"",viewParameter:y},`carousel-item-${i.image_signature||""}-${a}`)})})}),!!L&&M.length>3&&(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:L>490?494:L+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:["column"===s&&Y&&(0,g.jsx)(x,{direction:"up",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-100)},size:m}),"column"===s&&q&&(0,g.jsx)(x,{direction:"down",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(100)},size:m}),"row"===s&&J&&(0,g.jsx)(b,{direction:"left",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-(eo.current?Math.floor(.85*eo.current.clientWidth):100),!0)},size:m}),"row"===s&&ee&&(0,g.jsx)(b,{direction:"right",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(eo.current?Math.floor(.85*eo.current.clientWidth):100,!0)},size:m})]})]})}},537356:function(e,n,t){t.d(n,{Z:()=>u});var i=t(686659),a=t(667294),l=t(399353),r=t(785893);let o=()=>(0,r.jsx)(l.xu,{alignSelf:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--base-color-grayscale-150)"}},height:44,width:1}),s=()=>(0,r.jsx)(l.xe,{color:"subtle",size:"200",children:"â¢"});function d({icon:e,iconAccessibilityLabel:n,children:t,iconColor:d="default",iconSize:c=18,layout:u="vertical",separatorType:p="line",showSeparator:m=!0}){return(0,a.useEffect)(()=>{(0,i.Z)("VerticalIconSection","/app/common/react/components/shopping/ProductDetailPage/VerticalIconSection.tsx")},[]),(0,r.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:2,children:[m&&("dot"===p?(0,r.jsx)(s,{}):(0,r.jsx)(o,{})),(0,r.jsxs)(l.kC,{alignItems:"horizontal"===u?"center":"start",direction:"horizontal"===u?"row":"column",gap:1,children:[(0,r.jsx)(l.JO,{accessibilityLabel:n,color:d,icon:e,size:c}),t]})]})}var c=t(477252);function u({compact:e=!1,count:n,iconColor:t="default",iconSize:o=18,layout:s="vertical",ratingValue:u,separatorType:p="line",shippingInfo:m,textSize:g="200"}){(0,a.useEffect)(()=>{(0,i.Z)("VerticalProductRatingAndShipping","/app/common/react/components/shopping/ProductDetailPage/VerticalProductRatingAndShipping.tsx")},[]);let h=null!=u?parseFloat(u):0,f=null!=u&&!Number.isNaN(h);return(0,r.jsx)(l.xu,{marginTop:3*!e,paddingY:2*!e,width:"100%",children:(0,r.jsxs)(l.kC,{alignItems:"start",gap:e?2:void 0,justifyContent:e?"start":"between",children:[f&&(0,r.jsx)(d,{icon:"star",iconAccessibilityLabel:"Star rating",iconColor:t,iconSize:o,layout:s,separatorType:p,showSeparator:!1,children:(0,r.jsxs)(l.kC,{gap:1,children:[(0,r.jsx)(l.xe,{color:"subtle",size:g,children:h.toFixed(1)}),null!=n&&n>0&&(0,r.jsxs)(l.xe,{color:"subtle",size:g,children:["(",n,")"]})]})}),(m?.freeShippingPrice||m?.freeShippingValue)&&(0,r.jsx)(l.kC.Item,{flexBasis:(()=>{if(!e)return f?"50%":"100%"})(),children:(0,r.jsx)(d,{icon:"box",iconAccessibilityLabel:"Shipping",iconColor:t,iconSize:o,layout:s,separatorType:p,showSeparator:f,children:(0,r.jsx)(c.Z,{customStyles:{color:"subtle",size:g},freeShippingPrice:m?.freeShippingPrice,freeShippingValue:m?.freeShippingValue,showPrevDot:!1})})})]})})}},935009:function(e,n,t){t.d(n,{Z:()=>b});var i,a=t(686659),l=t(667294);t(167912);var r=t(399353),o=t(613465),s=t(239321),d=t(183e3),c=t(59111),u=t(680391),p=t(566431),m=t(501010),g=t(902123),h=t(239757),f=t(113759),y=t(785893);let x=(void 0!==i||(i=t(65003)).hash&&"e327c6c7127550a2f17b174cd4dcfa73"!==i.hash&&console.error("The definition of 'VisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),_=`
  .visit-button-animate {
    position: relative;
    overflow: hidden;
    transform-origin: center;
  }
  .visit-button-animate.pulse-glow {
    animation: pulseGlowShadow 1000ms ease-in-out 0ms 1;
  }
  .visit-button-animate.pulse-glow :where(svg, span, div) {
    transform-origin: center;
    animation: pulseGlowScale 1000ms ease-in-out 0ms 1;
  }
  @keyframes pulseGlowShadow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
    }
    50% {
      box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.2);
    }
  }
  @keyframes pulseGlowScale {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  .visit-button-animate::before {
    content: '';
    position: absolute;
    top: 0;
    left: -120%;
    width: 120%;
    height: 100%;
    background: linear-gradient(90deg,
      transparent 0%,
      rgba(255,255,255,0.2) 30%,
      rgba(255,255,255,0.7) 50%,
      rgba(255,255,255,0.2) 70%,
      transparent 100%);
    animation: visitBtnShimmer 1000ms ease-out 0ms 1;
  }
  @keyframes visitBtnShimmer {
    0% { left: -120%; }
    100% { left: 100%; }
  }
`;function b({clientTrackingParams:e,color:n,link:t,onClickThrough:i,onLoad:b,pinKey:v,text:S,fullWidth:k=!1}){(0,l.useEffect)(()=>{(0,a.Z)("VisitButton","/app/common/react/components/shopping/ProductDetailPage/VisitButton.tsx")},[]);let w=(0,d.Z)(x,v),{peekCloseupEnabled:P}=(0,f.x4)(),{animateVisitSite:C}=(0,o.g)(),{anyEnabled:j}=(0,m.Z)().checkExperiment("closeup_dweb_visit_site_animation"),T=(0,h.Z)({clickthroughType:"middleClick",location:"closeup.visitButton"}),I=(0,u.Z)({href:{pathname:t,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:w&&{attributionSourceId:w.attributionSourceId,board:w.board&&{url:w.board.url},campaignId:w.campaignId,entityId:w.entityId,isDownstreamPromotion:w.isDownstreamPromotion,isPromoted:w.isPromoted,pinner:w.pinner&&{username:w.pinner.username},pinPromotionId:w.pinPromotionId,promoter:w.promoter&&{entityId:w.promoter.entityId},storyPinDataId:w.storyPinDataId,trackingParams:w.trackingParams,advertiserId:w.advertiserId}}});return(0,l.useEffect)(()=>{"function"==typeof b&&b()},[b]),(0,y.jsx)(g.q,{children:({hovered:a,onMouseEnter:l,onMouseLeave:o})=>(0,y.jsx)(s.Z,{clientTrackingParams:e,hovered:a,pinKey:w,viewType:3,children:(0,y.jsxs)("div",{className:C&&j?"visit-button-animate pulse-glow":void 0,children:[(0,y.jsx)(c.Z,{unsafeCSS:_}),(0,y.jsx)(r.ZP,{_onAuxClick:({event:e})=>{(0,p.UE)(e)&&(T(),e.stopPropagation(),i({componentType:194}),I({event:e}))},_onMouseEnter:l,_onMouseLeave:o,color:n,fullWidth:P||k,href:t,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),i({componentType:194}),I({event:e})},rel:"nofollow",size:"lg",text:S})]})})})}},876645:function(e,n,t){t.d(n,{Z:()=>a});let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function a({window:e,duration:n,run:t}){let a=i(),l=0,r=null,o=()=>{let s=i()-a,d=s-l;if(n===1/0)t(0,s,d);else{let e=s/n;if(e>=1)return void t(1,s,d);t(e,s,d)}l=s,r=e.requestAnimationFrame(o)};return{start:()=>{r=e.requestAnimationFrame(o)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},375967:function(e,n,t){t.d(n,{Z:()=>_});var i=t(581722),a=t(331128),l=t(458465),r=t(230201),o=t(236269),s=t(924591),d=t(935059),c=t(24246),u=t(424868),p=t(577356),m=t(200619),g=t(601871),h=t(264267),f=t(107889),y=t(426130),x=t(785893);function _(){let e=(0,i.I0)(),n=(0,a.Z)(),{updateAggregatedComment:t}=(0,h.nf)(),{logContextEvent:_}=(0,r.u)(),{showOneToast:b}=(0,p.dI)(),v=(0,d.Z)(),S=(0,m.Z)(),k=(0,g.lJ)(v,S),w=(0,c.Z)();return{handleAddComment:async function(i,a,r,d,c,p,m,g,h,S){let{commentMedia:P,contentMarkdown:C,force:j,imageSignatures:T,tags:I}=i,D=!!S,F=!!h;if(!a)return!1;try{if(a){if(F)h.type===f.n.didIt?await e((0,y.IU)({id:h.id,details:C,pinId:r??"",image_signatures:"image_signatures"in h&&h.image_signatures?h.image_signatures:[]})):await t({commentId:h.id,force:j,orbacSubjectId:k,tags:I,text:C});else if(T.length){let n={aggregatedPinDataId:a,details:C,image_signatures:T,pin_id:r??"",username:v.isAuth&&v.username||"",fromUnifiedComment:!0};await e((0,y.DD)(n))}else if(D){let e=S?.parentType!==f.n.pin,t=e?S?.parentType===f.n.didIt:S?.type===f.n.didIt,i=e?S?.parentId||"":S?.id,a=t?f.o.didIt:f.o.aggregatedComment,l=e?S?.id:void 0;await n({force:j,fromUnifiedComment:!0,objectType:a,objectId:i,pinId:r,orbacSubjectId:k,replyToCommentId:l,tags:I,text:C})}else await n({commentMedia:P,force:j,fromUnifiedComment:!0,objectType:f.o.pin,objectId:a,pinId:r,tags:I,text:C,orbacSubjectId:k});_({event_type:7,clientTrackingParams:p,object_id_str:r,aux_data:{num_user_mention_tags:(I?JSON.parse(I):[]).length,...d?{creator_id:c,story_pin_data_id:d}:{}}})}}catch(e){return[u.ky,u.LJ].includes((0,o.Z)(e,"api_error_code")??0)?m((0,o.Z)(e,"api_error_code")===u.ky?l.A9.WARNING:l.A9.BLOCK):b(({hideToast:n})=>(0,x.jsx)(s.Z,{onHide:n,text:(0,o.Z)(e,"message_detail")||(0,o.Z)(e,"message")||w.bt("There was an issue posting your comment.", "There was an issue posting your comment.", "comment.post.errorMessage", undefined, true),type:"error"})),!1}return g(!1),!0}}}},434418:function(e,n,t){t.d(n,{Z:()=>r});var i=t(581722),a=t(264267),l=t(426130);function r(e){let n=(0,i.I0)(),{toggleAggregatedCommentLike:t,toggleAggregatedCommentHelpful:r}=(0,a.nf)();return{toggleCommentLike:(i,a,r)=>()=>{r?n((0,l.wH)({didItDataId:i,isLikedByMe:a,orbacSubjectId:e})):t({aggregatedCommentId:i,isLikedByMe:a,orbacSubjectId:e})},toggleCommentHelpful:(t,i,a)=>()=>{a?n((0,l.YH)({didItDataId:t,isMarkedHelpfulByMe:i,orbacSubjectId:e})):r({aggregatedCommentId:t,isMarkedHelpfulByMe:i,orbacSubjectId:e})}}}},400850:function(e,n,t){t.d(n,{A5:()=>l,ZP:()=>r,kH:()=>i});let i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};case i.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case i.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,n,t,i=!0,o){let s=a(t);return i?s.timeZone="UTC":o&&(s.timeZone=o),l()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(n)}},454083:function(e,n,t){t.d(n,{Z:()=>r});var i=t(686659),a=t(667294),l=t(785893);let r=({color:e="#111"})=>((0,a.useEffect)(()=>{(0,i.Z)("ConversationReply","/app/packages/gestalt-custom-svg/dynamicSVGs/ConversationReply.tsx")},[]),(0,l.jsx)("svg",{"data-test-id":"conversation-reply",display:"block",fill:"none",height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"m0 9.99945c0 .55505.45 1.00005 1.005 1.00005s1.005-.45 1.005-1.00005c0-2.07 1.69-3.755 3.765-3.755h2.4l-1.57 1.565c-.39.39-.39 1.025 0 1.415s1.025.39 1.42 0l3.975-3.965-3.97-3.965c-.39-.389997-1.025-.389997-1.42 0-.39.39-.39 1.025 0 1.415l1.53 1.525h-2.365c-3.185 0-5.775 2.585-5.775 5.765z",fill:e})}))},477252:function(e,n,t){t.d(n,{Z:()=>p});var i=t(686659),a=t(667294),l=t(399353),r=t(24246),o=t(216975),s=t(385114),d=t(785893);function c(){return (0,r.Z)().bt("Free delivery", "Free shipping", "closeup.product.shipping", undefined, true)}function u({freeShippingPrice:e}){let n=(0,r.Z)();return(0,o.nk)(n.bt("Free delivery with {{ shippingPrice }}+", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function p({customStyles:e,showPrevDot:n,freeShippingPrice:t,freeShippingValue:r}){let o;(0,a.useEffect)(()=>{(0,i.Z)("ShippingCostText","/app/packages/product-shipping/ShippingCostText.tsx")},[]);let p=n?[""]:[],{color:m="subtle",size:g="200"}=e||{};return Number.isFinite(r)?(0===r?o=(0,d.jsx)(c,{}):t&&(o=(0,d.jsx)(u,{freeShippingPrice:t})),o&&p.push((0,d.jsx)(l.kC,{direction:"row",children:o})),0===p.length)?null:(0,d.jsx)(l.xe,{color:m,size:g,children:(0,d.jsx)(s.Z,{color:m,items:p})}):null}},220347:function(e,n,t){t.d(n,{Z:()=>d});var i=t(686659),a=t(667294),l=t(399353),r=t(830031),o=t(23641),s=t(785893);function d(e){(0,a.useEffect)(()=>{(0,i.Z)("ImageContainerPerf","/app/packages/pwt-logger/ImageContainerPerf.tsx")},[]);let n=(0,r.A)();return(0,a.useEffect)(()=>{let t=document.getElementById(e.containerId),i=async(e,n)=>{let t=e.getBoundingClientRect(),i=n.getBoundingClientRect();return!!t&&!!i&&t.top>=i.top&&t.left>=i.left&&t.bottom<=i.bottom&&t.right<=i.right};if(null==t)n?.removeConstraint("thumbnailsLoaded"),(0,o.l7)("thumbnailsLoaded");else{let e=Array.from(t.querySelectorAll("*")).filter(e=>e instanceof HTMLElement&&"IMG"===e.tagName&&i(e,t)),a=e.length;e.forEach(e=>{e.onload=void(a-=1),0===a&&(n?.markConstraintComplete("thumbnailsLoaded"),(0,o.Nx)("thumbnailsLoaded"))})}},[e.containerId,n]),(0,s.jsx)(l.xu,{id:"imageContainerPerf",children:e.children})}},829485:function(e,n,t){t.d(n,{Z:()=>o});var i=t(876645);function a({scrollPosition:e,containerSize:n,contentSize:t,intendedDistance:i,extendToEdgeDistance:a=0}){let l=t-n,r=i;return r=Math.max(r=Math.min(r,l-e),-e),i>0&&l-(e+r)<=a?r=l-e:i<0&&e+r<=a&&(r=-e),r}let l={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function o(e,n,t,s={}){let d={...l,...s},{scrollLeft:c,scrollTop:u,scrollWidth:p,scrollHeight:m,clientWidth:g,clientHeight:h}=e,f=a({scrollPosition:c,containerSize:g,contentSize:p,intendedDistance:n,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=a({scrollPosition:u,containerSize:h,contentSize:m,intendedDistance:t,extendToEdgeDistance:d.extendToEdgeDistanceY}),x=Math.max(Math.abs(Math.floor(f/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(x=Math.max(x,d.minScrollDuration));let _=r[d.easingFunction]||r["ease-in-out"];return(0,i.Z)({window,duration:x,run:n=>{e.scrollLeft=c+f*_(n),e.scrollTop=u+y*_(n),1===n&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},371266:function(e,n,t){t.d(n,{Z:()=>i});function i({cropArea:e,cropSource:n,entrypoint:t,requestParams:i,searchQuery:a,surfaceType:l,title:r,trafficSource:o}){let s=[];if(e){let{x:n,y:t,w:i,h:a}=e;n>=0&&t>=0&&i>=0&&a>=0&&s.push(`x=${n}`,`y=${t}`,`w=${i}`,`h=${a}`)}return n&&s.push(`cropSource=${n}`),t&&s.push(`entrypoint=${t}`),l&&s.push(`surfaceType=${l}`),r&&s.push(`full_feed_title=${encodeURIComponent(r)}`),a&&s.push(`q=${a}`),o&&"unknown"!==o&&s.push(`rs=${o}`),i&&s.push(`requestParams=${encodeURIComponent(i)}`),s.length?`?${s.join("&")}`:""}},405146:function(e,n,t){t.d(n,{Z:()=>d});var i=t(686659),a=t(667294),l=t(399353),r=t(24246),o=t(216975),s=t(785893);function d({priceHistorySummary:e}){let n;(0,a.useEffect)(()=>{(0,i.Z)("PriceHistorySummary","/app/www/PriceHistorySummary/PriceHistorySummary.tsx")},[]);let t=(0,r.Z)(),{durationDays:d,typicalPrice:c,lowestPrice:u}=e||{};return Number.isInteger(d)&&(c||u)?(c?n=(0,o.nk)(t.bt("{{ typicalPrice }} average price over last {{ durationDays }} days", "{{ typicalPrice }} average price last {{ durationDays }} days", "PriceHistorySummary.typicalPriceText", undefined, true),{typicalPrice:c,durationDays:d}):u&&(n=(0,o.nk)(t.bt("{{ lowestPrice }} lowest price in {{ durationDays }} days", "{{ lowestPrice }} lowest price in {{ durationDays }} days", "PriceHistorySummary.lowestPriceText", undefined, true),{lowestPrice:u,durationDays:d})),(0,s.jsx)(l.xu,{"data-test-id":"price-history-summary",children:(0,s.jsx)(l.xv,{children:n})})):null}},234278:function(e,n,t){t.d(n,{Z:()=>m});var i=t(686659),a=t(667294),l=t(399353),r=t(320748),o=t(230201),s=t(774838),d=t(739405),c=t(893957),u=t(113759),p=t(785893);function m({actionButton:e,auxData:n,children:t,collapseButtonElementType:m,collapseByDefault:g=!0,componentType:h,disabled:f,displayViewState:y,expandButtonElementType:x,forceTappableHeader:_,headerHeight:b,headerPaddingX:v,headerPreview:S,heading:k,icon:w,surface:P,viewParameter:C,viewType:j}){(0,a.useEffect)(()=>{(0,i.Z)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let T=(0,d.HG)(),{isBot:I}=(0,s.B)(),{logContextEvent:D}=(0,o.u)(),{setIsShoppingModuleExpanded:F}=(0,u.x4)(),Z=(0,a.useRef)(null),[E,A]=(0,a.useState)(void 0),[K,M]=(0,a.useState)(f||!I&&g||null!=y&&[1,2].includes(y));return(0,c.Z)(()=>{let e=Z.current,n=null;if(e){let t=()=>{let n=e.scrollHeight,t=e.firstElementChild;A(n+(t?parseInt(window.getComputedStyle(t).marginTop,10):0))};t(),(n=new ResizeObserver(t)).observe(e)}return()=>{n?.disconnect()}}),(0,a.useEffect)(()=>{F&&F(!K)},[]),(0,p.jsxs)(l.kC,{dataTestId:"collapsible-layout",direction:"column",gap:4*!T,children:[(0,p.jsx)(r.Z,{actionButton:e,collapsed:K,disabled:f,displayViewState:y,forceTappableHeader:_,headerHeight:b,headerPaddingX:v,headerPreview:S,heading:k,icon:w,onClick:()=>{M(!K),F&&F(K),D({aux_data:n,component:h,element:K?x:m,event_type:T?101:102,view_parameter:C,view_type:j})},showArrow:!0,surface:P}),T?(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${K?"collapsed":"expanded"}`,height:K?"0px":`${E}px`,marginBottom:K?void 0:1,overflow:"hidden",children:(0,p.jsx)(l.xu,{ref:Z,children:t})}):!K&&(0,p.jsx)(l.xu,{children:t})]})}},953238:function(e,n,t){t.d(n,{B:()=>a,q:()=>i});let{Provider:i,get:a}=(0,t(213491).Z)("CloseupPageContext")},488436:function(e,n,t){t.d(n,{Z:()=>p});var i=t(686659),a=t(667294),l=t(399353),r=t(351736),o=t(454083),s=t(24246),d=t(216975),c=t(739405),u=t(785893);let p=({onClose:e,replyToComment:n})=>{(0,a.useEffect)(()=>{(0,i.Z)("CommentContextBanner","/app/www/comments/CommentContextBanner.tsx")},[]);let t=(0,s.Z)(),p=(0,r.Yc)(),m=(0,c.HG)(),g=n?.text||n?.details,h=n?.user?.first_name||n?.user?.username,f=t.bt("Edit comment icon", "Edit comment icon", "commentContextBanner.editing.icon", undefined, true),y=n?(0,d.nk)(t.bt("Replying to {{ userName }}", "Replying to {{ userName }}", "commentContextBanner.replying.header", undefined, true),{userName:h}):t.bt("Editing your comment", "Editing your comment", "commentContextBanner.editing.header", undefined, true),x=n?(0,u.jsx)(o.Z,{color:p?"white":void 0}):(0,u.jsx)(l.JO,{accessibilityLabel:f,color:"default",icon:"pencil",size:12});return(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-secondary)",paddingLeft:"16px",paddingRight:"14px"}},direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"center",children:[(0,u.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,u.jsx)(l.xu,{marginEnd:1.5,children:x}),(0,u.jsx)(l.xe,{size:"100",weight:"bold",children:y})]}),g&&(0,u.jsx)(l.xu,{marginTop:1.5,children:(0,u.jsx)(l.xe,{color:p?"default":"subtle",lineClamp:1,size:"100",children:g})})]}),m&&(0,u.jsx)(l.hU,{accessibilityLabel:t.bt("Close comment context banner", "Close comment context banner", "commentContextBanner.close.icon", undefined, true),icon:"close",onClick:e,padding:1,size:"lg"})]})}},515158:function(e,n,t){t.d(n,{Z:()=>o});var i=t(686659),a=t(667294),l=t(399353),r=t(785893);function o({children:e,color:n,isDarkMode:t,outlined:o,type:s="bold",rounding:d=400}){return(0,a.useEffect)(()=>{(0,i.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,r.jsxs)(l.xu,{position:"relative",children:[(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:d,children:e}),o&&(0,r.jsx)(l.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:n,type:t}){let i=n?"#fff":"#000",a=n?"#000":"#fff";return"solid"===t?{boxShadow:`inset 0 0 0 2px ${e??i}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??i}`,MozBoxShadow:`inset 0 0 0 2px ${e??i}`}:"border"===t?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`}}({color:n,isDarkMode:t,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:d,top:!0})]})}},523614:function(e,n,t){t.d(n,{A:()=>o,Z:()=>s});var i=t(686659),a=t(667294),l=t(399353),r=t(785893);let o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:n,coverImage:t,disableTabIndex:s,height:d,id:c,isHovered:u,onClick:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:h,searchBoxRenderStopwatch:f,url:y,width:x}){(0,a.useEffect)(()=>{(0,i.Z)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[_,b]=(0,a.useState)(!1),v=()=>{g?g():b(!0)},S=()=>{h?h():b(!1)},k=u||_,w=k?o.hoverOverlay:o.bubbleOverlay;return(0,r.jsx)(l.Tg,{href:y,onBlur:S,onFocus:v,onMouseDown:m,onMouseEnter:v,onMouseLeave:S,onTap:()=>{p?.(c)},rounding:4,tabIndex:s?-1:void 0,children:(0,r.jsx)(l.zd,{height:d,rounding:4,width:x||"100%",children:t?.url?(0,r.jsxs)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,onLoad:()=>{f?.stop()},role:"presentation",src:t.url,children:[(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof n?n({isHovered:k}):n]}):(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},675312:function(e,n,t){t.d(n,{Z:()=>o}),t(167912);var i,a=t(183e3),l=t(276469);let r=(void 0!==i||(i=t(751297)).hash&&"f5443b1193b0aed988404fef7c7338fe"!==i.hash&&console.error("The definition of 'useStructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function o(e){var n;return(n=(0,a.Z)(r,e).formattedCloseupDescription)&&Array.isArray(n.components)?n.components.filter(e=>("DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename)&&e.type).map(e=>{let n="DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename?e.type:"";if("DescriptionSpecs"===e.__typename&&n===l.X.SPECS)return{type:n,content:e.specsContent?.reduce((e,n)=>({...e,[n.key]:n.value}),{})};let t="DescriptionString"===e.__typename?e:null,i="DescriptionPoints"===e.__typename?e:null,a="DescriptionTable"===e.__typename?e:null,r="DescriptionHeader"===e.__typename?e:null,o="DescriptionStringBold"===e.__typename?e:null;return{type:n,content:t?.stringContent??i?.pointsContent??a?.tableContent??r?.headerContent??o?.boldContent}}):[]}},276469:function(e,n,t){t.d(n,{X:()=>i,j:()=>a});let i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:n})=>e&&0!==e.length?e:[{content:n,type:i.PARAGRAPH}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/21649.en_GB-ce418f35aefae00c.mjs.map