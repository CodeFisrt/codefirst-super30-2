(self.modernJsonp=self.modernJsonp||[]).push([["67879"],{130845:function(e,l,a){a.d(l,{Z:()=>t});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,l){if(e.length!==l.length)return!1;for(var a,i,t=0;t<e.length;t++)if(!((a=e[t])===(i=l[t])||n(a)&&n(i))&&1)return!1;return!0}let t=function(e,l){void 0===l&&(l=i);var a,n,t=[],s=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return s&&a===this&&l(i,t)||(n=e.apply(this,i),s=!0,a=this,t=i),n}}},218046:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopWebCloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="cc72e00dad8d20ff5e78b580bc4b3428";let i=n},238047:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AuthDesktopWebCloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="e14ca1f7206af247fd92152e908713dc";let t=i},26048:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"BasicsCategoriesMetadata_keyValueBlocks",selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"StoryPinKeyValueBlock",abstractKey:null};n.hash="e023b848702237b2810d4b43b4e59115";let i=n},523731:function(e,l,a){var n,i,t,s,r,o,d,u,c,p,g,m,y,h,_,k,f,S,P,x,v,b,F,C,T,K,I,w,L,A,R,E,j,D,M,Z,B,N,V,z,O,U,H,G,W,$,X,Y,q,Q,J,ee,el,ea,en,ei,et,es,er,eo,ed,eu,ec,ep,eg,em,ey,eh,e_,ek,ef,eS,eP,ex,ev,eb,eF,eC,eT,eK,eI,ew,eL,eA;a.r(l),a.d(l,{default:()=>eE});let eR=(n={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldPrefetchCloseupPreviewFragment"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},f=[{kind:"Literal",name:"spec",value:"236x"}],x=[h={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],v={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},w=[S,P,p,d],A=[S,L={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},p,P],R={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},D=[S,p,P],Z={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:M=[{alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},S,L,P,p],storageKey:null},B=[{kind:"Literal",name:"spec",value:"474x"}],N=[{kind:"Literal",name:"spec",value:"564x"}],V=[{kind:"Literal",name:"spec",value:"736x"}],z={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},U={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:O=[d],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},G=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],W={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},Y={alias:"images_236x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"236x")'},q={alias:"images_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"474x")'},Q={alias:"images_564x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"564x")'},J={alias:"images_736x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"736x")'},ee={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},ea={alias:"image_236x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:D,storageKey:null},_],storageKey:'additionalImagesPerSpec(spec:"236x")'},en={alias:"image_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"474x")'},ei={alias:"image_564x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"564x")'},et={alias:"image_736x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:el,storageKey:'additionalImagesPerSpec(spec:"736x")'},es={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},eo=[S,p,P,h],ed=[p],eu={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},ec=[m,g,F,C,T,K],ep={alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},ey={kind:"InlineFragment",selections:em=[H,eg={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ParagraphBlock",abstractKey:null},eh={kind:"InlineFragment",selections:em,type:"HeadingBlock",abstractKey:null},e_={kind:"InlineFragment",selections:em,type:"TextBlock",abstractKey:null},ek=[L,p,P,S,R],eP={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},ex=[ef={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},I,eS={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],ev={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eF={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},ew=[eC={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eT={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eK={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eI={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},E,er,p],eL={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eA={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eC,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},eu,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[$,W],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},X],storageKey:null},{fragment:{argumentDefinitions:[n,i,t,s,r],kind:"Fragment",metadata:null,name:"BreadcrumbsUnifiedPinRepPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepVariant_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,n,t,i,r],kind:"Operation",name:"BreadcrumbsUnifiedPinRepPinQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[u,c,p,g,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}]},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[m,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},m,_,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nearDupSig",storageKey:null},{alias:"images_236x",args:f,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,g,v,b,m,F,C,T,K,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},g,K,F,m,b,v,d,T,I,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,g,m,F,K,C,T],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[m,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[S,P,p,d,L],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T1V2",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T2V2",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T3V2",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T4V2",plural:!1,selections:A,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T5V2",plural:!1,selections:A,storageKey:null},d],storageKey:null},g,d,R],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[c,p],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[E,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},k,j,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},_,{alias:"images_236x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:D,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[m,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:M,storageKey:null},Z],storageKey:null},g],storageKey:null},d,{alias:"images_474x",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:D,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:D,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:D,storageKey:'images(spec:"736x")'},z],storageKey:null},g,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,z,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:D,storageKey:null},k],storageKey:null},U]},g,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},g,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[H,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:G,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[Z],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},m,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,g,c,p,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[W,$],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creativeType",storageKey:null},{alias:null,args:null,concreteType:"ThirdPartyAdClientData",kind:"LinkedField",name:"thirdParty",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adPayload",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},X,{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:O,storageKey:null}],storageKey:null},Y,q,Q,J,ee,ea,en,ei,et,c,es,{alias:"additionalImageSpec_236x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:B,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:O,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},E,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},Y,q,Q,J,ee,ea,en,ei,et,d,es,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[c],storageKey:null},c,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},p],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,S,p,P,h],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},er],storageKey:null},{alias:"images_474x",args:B,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eo,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:N,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:D,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eo,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},E,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"300x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[S,P,p],storageKey:'images(spec:"300x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[er],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[F,g,C],storageKey:null},g,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[F,g],storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[F,g,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnGridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"60x60")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},g,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[u,c,p,g,m,d],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,eu,{alias:"images_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[p,P,S],storageKey:'images(spec:"750x")'},k,{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},g,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:ec,storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[m,F,C,T,K,b,v,g],storageKey:null},ep,U,{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[m,E,g],storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[H,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,ey,eh,e_,{kind:"InlineFragment",selections:[H],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[ey,eh,e_,{kind:"InlineFragment",selections:[eg,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:G,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ek,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[ef,eS],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eP]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ex,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:ex,storageKey:null},eP]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[ev,eb]}]},{kind:"ClientExtension",selections:[ev,eF,eb]}]},{kind:"ClientExtension",selections:[ev,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eC,eT,d,p,eK,eI,E,er],storageKey:null},eF,eb,{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ew,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ew,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},E,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eL,eA],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eL,eA,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]},{condition:"shouldPrefetchCloseupPreviewFragment",kind:"Condition",passingValue:!0,selections:[ep,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:O,storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"7fec3cfc25224b2b79582c4beb0943875aba0d4b69b0a1f8ffc79f77d129c142",metadata:{},name:"BreadcrumbsUnifiedPinRepPinQuery",operationKind:"query",text:null}});eR.hash="1fc34e57cb3ae8416df6b6191d3ae64f";let eE=eR},537411:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i,{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"}],type:"Pin",abstractKey:null};s.hash="c6b0de206743312221bd0e0b89d2f0aa";let r=s},526204:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,i,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};s.hash="7142df6a7a3c1aee54267c5441d3d50b";let r=s},841592:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="971b4142368a9c9c2539396c3d46601d";let i=n},581948:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"AuthDesktopWebCloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="6e9df46eeb81bd3bc9e029d3803080bf";let i=n},133378:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[n,{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"root",plural:!1,selections:[n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};s.hash="b9153608b049d96c1b0e782ae6ac204a";let r=s},412599:function(e,l,a){var n,i,t,s;a.r(l),a.d(l,{default:()=>o});let r=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],s=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BasicsCategoriesMetadata_keyValueBlocks"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"useGetInstagramRedirectLink_pin"}],type:"Pin",abstractKey:null});r.hash="38ff71786f50d115ac5883a2d96adcc5";let o=r},940981:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionBrokenByLineBreaks_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};i.hash="7f5ee41f639d28bd1418cd137ed8b8a0";let t=i},920365:function(e,l,a){var n,i,t;a.r(l),a.d(l,{default:()=>r});let s=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});s.hash="d6d83b429981e4bc762e3872608eedbd";let r=s},320226:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="fb9c133d2a86e090538a92171d6d3f63";let i=n},936888:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"}],type:"Pin",abstractKey:null};n.hash="85ae0703574c2bc161bc13206c3184f8";let i=n},848258:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="86cb4963f4714e2184c01e13236c3616";let t=i},667619:function(e,l,a){var n,i,t,s,r,o,d,u,c,p,g,m,y,h,_,k,f,S,P,x,v,b,F,C,T,K,I,w,L,A,R,E,j,D,M,Z,B,N,V,z,O,U,H,G,W,$,X,Y,q,Q,J,ee,el,ea,en,ei,et,es,er,eo,ed,eu,ec,ep,eg,em,ey,eh,e_,ek,ef,eS,eP,ex,ev,eb,eF,eC,eT,eK,eI,ew,eL,eA,eR,eE,ej,eD,eM,eZ,eB,eN,eV,ez,eO,eU,eH,eG;a.r(l),a.d(l,{default:()=>e$});let eW=(n={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldPrefetchCloseupPreviewFragment"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},p={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},m=[g={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],y={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},_=[{kind:"Literal",name:"spec",value:"236x"}],k={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},C=[h={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],T={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},R={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[A={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},V=[f,S,u,d],O=[f,z={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},u,S],U={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},G=[f,u,S],$={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:W=[{alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},f,z,S,u],storageKey:null},X=[{kind:"Literal",name:"spec",value:"474x"}],Y=[{kind:"Literal",name:"spec",value:"564x"}],q=[{kind:"Literal",name:"spec",value:"736x"}],Q={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},ee={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:J=[d],storageKey:null}],storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},ea=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],en={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},er={alias:"images_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"236x")'},eo={alias:"images_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"474x")'},ed={alias:"images_564x",args:Y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"564x")'},eu={alias:"images_736x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"736x")'},ec={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},eg={alias:"image_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:G,storageKey:null},w],storageKey:'additionalImagesPerSpec(spec:"236x")'},em={alias:"image_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"474x")'},ey={alias:"image_564x",args:Y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"564x")'},eh={alias:"image_736x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ep,storageKey:'additionalImagesPerSpec(spec:"736x")'},e_={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ef=[f,u,S,k],eS=[k,f,u,S],eP=[{kind:"Literal",name:"spec",value:"170x"}],ex=[u],ev={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},eb=[h,b,j,D,M,Z],eF={alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},eT={kind:"InlineFragment",selections:eC=[el,c],type:"ParagraphBlock",abstractKey:null},eK={kind:"InlineFragment",selections:eC,type:"HeadingBlock",abstractKey:null},eI={kind:"InlineFragment",selections:eC,type:"TextBlock",abstractKey:null},ew=[z,u,S,f,U],eL={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},eE={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},ej=[eA={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},B,eR={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],eD={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eM={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eZ={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eO={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},eU=[eB={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eN={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eV={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},ez={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},y,ek,u],eH={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eG={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eB,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},ev,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[et,ei],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},es],storageKey:null},{fragment:{argumentDefinitions:[n,i,t,s,r],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,t,n,i,r],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[d,{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinsDisplay",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionWeight",storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null},{alias:null,args:null,concreteType:"StoryPaddingDisplay",kind:"LinkedField",name:"padding",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[d,g,c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[d,{kind:"InlineFragment",selections:[y,h,{alias:"images_236x",args:_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[u,k,f,S],storageKey:'images(spec:"236x")'},P,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[x,v,u,b,F,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}]},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:C,storageKey:null},T,h,K,{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nearDupSig",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,b,R,E,h,j,D,M,Z,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},b,Z,j,h,E,R,d,M,B,N],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,b,h,j,Z,D,M],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[h,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:V,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[f,S,u,d,z],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:V,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T1V2",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T2V2",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T3V2",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T4V2",plural:!1,selections:O,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHEVCMP4T5V2",plural:!1,selections:O,storageKey:null},d],storageKey:null},b,d,U],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[v,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},L,H,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},w,{alias:"images_236x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[h,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:W,storageKey:null},$],storageKey:null},b],storageKey:null},d,{alias:"images_474x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:Y,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"736x")'},Q],storageKey:null},b,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,Q,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:G,storageKey:null},L],storageKey:null},ee]},b,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},b,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[el,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:ea,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[$],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},h,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,b,v,u,h],storageKey:null},en,{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ei,et],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creativeType",storageKey:null},{alias:null,args:null,concreteType:"ThirdPartyAdClientData",kind:"LinkedField",name:"thirdParty",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adPayload",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},es,{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:J,storageKey:null}],storageKey:null},er,eo,ed,eu,ec,eg,em,ey,eh,v,e_,{alias:"additionalImageSpec_236x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:X,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:Y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:q,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:J,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},y,I],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[H,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},er,eo,ed,eu,ec,eg,em,ey,eh,d,e_,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[v],storageKey:null},v,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},u],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,f,u,S,k],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},ek],storageKey:null},{alias:"images_474x",args:X,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:Y,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:G,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:q,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ef,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"300x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[f,S,u],storageKey:'images(spec:"300x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eS,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:eP,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eS,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[ek],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[j,b,D],storageKey:null},b,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[j,b],storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[j,b,h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnGridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLocalInventoryAdsMatched",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"60x60")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ex,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[x,v,u,b,h,d],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,ev,{alias:"images_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[u,S,f],storageKey:'images(spec:"750x")'},L,{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},b,h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eb,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eb,storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:[h,j,D,M,Z,E,R,b],storageKey:null},eF,ee,{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[h,y,b],storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[el,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,eT,eK,eI,{kind:"InlineFragment",selections:[el],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[eT,eK,eI,{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:ea,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ew,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eL],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[eA,eR],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[eE]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ej,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"gridAttribution",plural:!1,selections:ej,storageKey:null},eE]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[eD,eM]}]},{kind:"ClientExtension",selections:[eD,eZ,eM]}]},{kind:"ClientExtension",selections:[eD,{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eB,eN,d,u,eV,ez,y,ek],storageKey:null},eZ,eM,{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eO,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:eU,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:eU,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},y,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eH,eG],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eH,eG,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]},{condition:"shouldPrefetchCloseupPreviewFragment",kind:"Condition",passingValue:!0,selections:[eF,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:J,storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[h,v,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:C,storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eO],storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eP,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ex,storageKey:'images(spec:"170x")'},{alias:"images236x",args:_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:ex,storageKey:'images(spec:"236x")'},T,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[h,b,N,j,E,Z,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[v,A],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[j,Z,R,E,b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},b],storageKey:null},I,u,eL,{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[en,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},ek,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:ex,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[h,Z],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[h,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[v,{alias:"image_236x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ex,storageKey:'image(spec:"236x")'},{alias:"image_474x",args:X,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:ex,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null},{kind:"InlineFragment",selections:[b],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[E,R,Z,D,b,d],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:m,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shopSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},P],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"2a799f3ac5aa15a4a08596787f37b5f4a02c4764ae6c2a9204a53b3712020933",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});eW.hash="4bfa11c5e4686f2db2c0dcfe5802bd45";let e$=eW},948473:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CSSCarouselModule_parentPin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarouselModule_parentPin"}],type:"Pin",abstractKey:null};n.hash="d26e3ac796a31f48dbe9ccd4f7da5852";let i=n},781043:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="967fc795bbfb9844686a21d73abf35e0";let i=n},415786:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DeprecatedCarouselModule_story"},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CSSCarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="fa557ac735f6f302b9043df97457e701";let i=n},956273:function(e,l,a){var n,i,t,s,r,o,d;a.r(l),a.d(l,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},i,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});u.hash="fe307a97c2a80c6c804419d06a27cd79";let c=u},707401:function(e,l,a){var n,i,t,s,r;a.r(l),a.d(l,{default:()=>d});let o=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[s,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});o.hash="63a66a6b195a0e9cef298ab368edb058";let d=o},624773:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let i=n},25337:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="efee9cd30f69b524ed9920746ed65ceb";let t=i},435764:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}],type:"Pin",abstractKey:null};n.hash="d38a7b9f18791089cd1df852e3863570";let i=n},761306:function(e,l,a){var n;a.r(l),a.d(l,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="120c47eff2cf4911de716b514608718f";let t=i},598293:function(e,l,a){var n,i;a.r(l),a.d(l,{default:()=>s});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinAnalyticsStatus_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="977a37f1bef6ecfbe279db65075e1520";let s=t},574257:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="b694b913cbcf66451260d78ec78bcccd";let i=n},626858:function(e,l,a){a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let i=n},813954:function(e,l,a){a.d(l,{CA:()=>i,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:l,pinPinnerId:a,viewerId:n,viewerIsPartner:i})=>!l&&!!i&&[n,e].includes(a),i=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,l)=>{if(!e)return e;let a=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return a.length<=l?a:Array(l).fill(1).map(()=>{let e=Math.floor(Math.random()*a.length);return a.splice(e,1)[0]})}},382167:function(e,l,a){a.r(l),a.d(l,{default:()=>Z});var n,i,t=a(667294),s=a(581722);a(167912);var r=a(399353),o=a(230201),d=a(935059),u=a(422578),c=a(707855);let p=function(e,l,a){switch((0,c.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return l;case"GraphQL":{let e=(0,u.useRelayEnvironment)();return l=>(0,u.commitLocalUpdate)(e,e=>a(e,l))}default:throw Error("Unexpected case")}};var g=a(183e3),m=a(24246),y=a(217703),h=a(686659),_=a(661376),k=a(216975),f=a(893957),S=a(319226),P=a(507006),x=a(894307),v=a(687163),b=a(785893);let F=({creatorData:e,onTap:l,onUserFollow:a})=>{(0,t.useEffect)(()=>{(0,h.Z)("SuggestedCreatorRep","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRep.tsx")},[]);let n=(0,m.Z)(),i=(0,d.Z)(),{explicitly_followed_by_me:s,follower_count:o=0,full_name:u,id:c,image_medium_url:p,username:g,verified_identity:y,avatar_color_index:_,is_verified_merchant:f}=e||{},F=`/${g}/`;return(0,b.jsx)(r.sg,{span:4,children:(0,b.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,b.jsx)(r.Tg,{href:F,onTap:()=>l(c),children:(0,b.jsxs)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,b.jsx)(r.xu,{height:60,width:60,children:(0,b.jsx)(S.qE,{color:_,name:u??"",size:"fit",src:p??"",verified:!1})}),(0,b.jsxs)(r.xu,{marginBottom:1,paddingY:2,children:[(0,b.jsx)(r.xu,{marginBottom:1,children:(0,b.jsx)(r.xe,{align:"center",lineClamp:1,size:"100",weight:"bold",children:y||f?(0,b.jsx)(v.Z,{badgeSize:"xs",badgeSpacing:2,fullName:u??"",isVerifiedIdentity:y?.verified,isVerifiedMerchant:f}):u})}),(0,b.jsx)(r.xe,{align:"center",size:"100",children:(0,k.nk)(n.nbt(["{{ followerCount }} follower", "{{ followerCount }} followers"], o, "suggestedCreatorRep.creator.followerCount", true),{followerCount:(0,b.jsx)(P.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:o},o)})})]})]})}),(0,b.jsx)(x.Z,{fullName:u,id:c,imageUrl:p,isOwnProfile:i.isAuth&&i.id===c,isSecondaryButton:!0,onUserFollow:e=>a({userIsNowFollowing:e,creatorId:c}),profileUrl:`/${g}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:s,viewParameter:156,viewType:3})]})})},C=({creatorRecs:e,fullName:l,pinId:a,viewParameter:n,viewType:i})=>{(0,t.useEffect)(()=>{(0,h.Z)("SuggestedCreatorRecs","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRecs.tsx")},[]);let{logContextEvent:s}=(0,o.u)(),d=(0,m.Z)();(0,f.Z)(()=>{s({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}})});let u=e=>{s({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...a?{pin_id:a}:{}}})},c=({userIsNowFollowing:e,creatorId:l})=>{e?s({event_type:45,component:13891,object_id_str:l,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}}):s({event_type:46,component:13891,object_id_str:l,view_parameter:n,view_type:i,aux_data:{...a?{pin_id:a}:{}}})};return(0,b.jsx)(r.xu,{minWidth:432,paddingY:4,children:(0,b.jsxs)(r.xu,{elevation:"shadowFloating",paddingX:5,paddingY:4,rounding:400,children:[l&&(0,b.jsx)(r.qd,{align:"center",size:"300",children:(0,k.nk)(d.bt("More like {{creatorName}}", "More like {{creatorName}}", "suggestedCreatorRecs.title", undefined, true),{creatorName:l})}),(0,b.jsx)(r.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,b.jsx)(F,{creatorData:e.user,onTap:u,onUserFollow:c},e.user_id))})]})})},T=3,K=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],I=({fullName:e,id:l,numCreatorsToShow:a=T,pinId:n,viewParameter:i,viewType:s})=>{(0,t.useEffect)(()=>{(0,h.Z)("SuggestedCreatorRecsWrapper","/app/www/CreatorCard/SuggestedCreatorRecs/SuggestedCreatorRecsWrapper.tsx")},[]);let r=(0,_.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:K.join(","),page_size:a,referrer:4,target_user:l}}});if(!r.isLoaded||!(r.data&&r.data.length===a))return null;let o=r.data||[];return(0,b.jsx)(C,{creatorRecs:o,fullName:e,pinId:n,viewParameter:i,viewType:s})};var w=a(400962);let L=(void 0!==n||(n=a(624773)).hash&&"a1f87ab2b8198cdc7fd8fc3cdaa872f0"!==n.hash&&console.error("The definition of 'useCreatorRecsPrevStateCloseup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),A=function(e){let l=function(){let{forward:e}=(0,w.ou)(),l=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(l&&l.includes("/:username"))}(),a=(0,g.Z)(L,e);if(!l||!a)return{creatorRecsPrevState:!1};{let e=!!a.promotedIsLeadAd,l=a.richSummary?.typeName==="product";return{creatorRecsPrevState:!!a&&!e&&!l&&!!a.showSuggestedCreatorRecs}}};var R=a(400947),E=a(72034);function j(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:n+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let D=(void 0!==i||(i=a(133378)).hash&&"b9153608b049d96c1b0e782ae6ac204a"!==i.hash&&console.error("The definition of 'CreatorCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class M extends t.PureComponent{constructor(...e){super(...e),j(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),j(this,"handleNavigateAndLog",(e,l)=>{let{pin:a}=this.props,n=!!a.storyPinDataId;e===l?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:a.entityId,aux_data:{pin_id:a.entityId,creator_id:a.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:a.storyPinData?.metadata?.templateType}:{}}})}),j(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,l=e.entityId,a=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,i=!!e.storyPinDataId;a&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...i?{component:230}:Object.freeze({}),object_id_str:l,aux_data:{pin_id:l,creator_id:a,sponsor_id:n}})})}static getDerivedStateFromProps(e,l){let a=e.officialUser;if(a&&a!==l.user)return{...l,user:a};let n=e.suggestedCreatorRecsPrevState;return n&&!l.shouldShowCreatorRecs?{...l,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,b.jsx)(r.xu,{});let{pin:l,usernameAccessibilityLevel:a}=this.props,{full_name:n,id:i,image_medium_url:t,is_verified_merchant:s,username:o,verified_identity:d}=e,{fullName:u,imageMediumUrl:c,profileUrl:p}=l.shuffle?.root?.user??{},g=!!d?.verified,m=!!l.promotedIsLeadAd,y=l.richSummary?.typeName==="product",h=!!(!m&&!y&&this.state.shouldShowCreatorRecs),_=l.pinner?.isAdsOnlyProfile&&l.pinner.adsOnlyProfileSite?l.pinner?.adsOnlyProfileSite:`/${o}/`;return(0,b.jsx)(r.xu,{position:"relative",children:(0,b.jsxs)(r.xu,{children:[(0,b.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,b.jsx)(r.xu,{flex:"grow",children:(0,b.jsx)(R.Z,{accessibilityLevel:a,fullName:n,imageUrl:t,isCollage:!!l.shuffle?.entityId,isPromoted:!!(l.promoter&&l.isPromoted),isRemixed:!!l.shuffle?.entityId&&!!l.shuffle?.root?.entityId,isVerifiedIdentity:g,isVerifiedMerchant:s,onNavigateClick:()=>this.handleNavigateAndLog(_,l.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:_===l.pinner?.adsOnlyProfileSite,profileUrl:_,rootCreator:{fullName:u??"",imageUrl:c??"",profileUrl:p??""},sponsorName:l.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:l.sponsorship?.status,sponsorUsername:l.sponsorship?.sponsor?.username??""})})}),h&&(0,b.jsx)(r.xu,{marginEnd:1,marginStart:1,children:(0,b.jsx)(I,{fullName:n,id:i,pinId:l.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let Z=(0,y.Z)(function(e){let{logContextEvent:l}=(0,o.u)(),a=(0,m.Z)(),n=(0,g.Z)(D,e.input),i=(0,s.I0)(),t=p(e.input,()=>{i((0,E.Vw)(n.entityId))},e=>{let l=e.get(n.entityId);l&&l.setValue(!0,"showSuggestedCreatorRecs")}),r=(0,d.Z)(),{creatorRecsPrevState:u}=A(n);return(0,b.jsx)(M,{...e,i18n:a,logContextEvent:l,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:u,viewerUserId:r.isAuth?r.id:null})})},947504:function(e,l,a){a.d(l,{Z:()=>x});var n=a(686659),i=a(667294),t=a(581722),s=a(312048),r=a(942116),o=a(539422),d=a(489325),u=a(935059),c=a(400962),p=a(501010),g=a(774838),m=a(200619),y=a(601871),h=a(250704),_=a(267092),k=a(228612),f=a(305375),S=a(785893);function P(e){return(0,i.useEffect)(()=>{(0,n.Z)("ProductDetailPageContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageContainer.tsx")},[]),(0,S.jsx)(d.Z,{id:"CloseupContainerCommon-2",children:(0,S.jsx)(r.l6,{...e,closeupComponentToRender:"ProductDetailPage"})})}function x(e){(0,i.useEffect)(()=>{(0,n.Z)("ProductDetailPageContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageContainer.tsx")},[]);let l=(0,t.I0)(),a=(0,u.Z)(),r=(0,f.Z)(),x=(0,c.aX)(),v=(0,s.TH)(),b=(0,k.S6)()(r.id||""),F=(0,h.Z)((v?.state||{}).trackingParams,b?.tracking_params),C={...e,navigate:(0,s.s0)(),location:v,clientTrackingParams:F,params:r,requestContext:(0,g.B)(),searchPinCloseupViewed:(e,a)=>l((0,_.Y4)(e,a)),viewer:a},{checkExperiment:T}=(0,p.Z)();return(0,S.jsx)(o.Z,{orbacSubjectId:(0,y.lJ)(a,(0,m.Z)()),pinId:r.id||"",children:({pinResource:e})=>(0,S.jsx)(d.Z,{id:"ProductDetailPageContainer",children:(0,i.createElement)(P,{...C,key:r.id,checkExperiment:T,clientTrackingParams:F,currentHistoryStack:x,pinResource:e})})})}},704955:function(e,l,a){a.d(l,{Z:()=>s});var n=a(312048),i=a(954928),t=a(629724);function s(){let e=(0,n.TH)(),l=(0,n.s0)();return function(a){let n=(0,t.Z)();n.filter_location=a,l((0,i.Z)(e.pathname,n),{replace:!0})}}},332947:function(e,l,a){a.d(l,{Z:()=>p,q:()=>c});var n=a(312048),i=a(935059),t=a(501010),s=a(405897),r=a(477738),o=a(954928),d=a(629724),u=a(305375);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function p(){let e=(0,n.s0)(),l=(0,n.TH)(),{checkExperiment:a}=(0,t.Z)(),{scope:p}=(0,u.Z)(),g=(0,i.Z)(),{isAuth:m}=g,y=m?g.country:"";return function(n){let i=(0,d.Z)();i.rs=s.i.SHOPPING_FILTER,n.forEach(({key:e,value:l})=>{""!==l?i[e]=l:delete i[e]}),("US"===y||a("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&p!==r.lw.PINS&&!c.some(e=>"commerce_only"!==e&&e in i)&&delete i.commerce_only,e((0,o.Z)(l.pathname,i))}}},917590:function(e,l,a){a.d(l,{Z:()=>_});var n,i=a(686659),t=a(667294);a(167912);var s=a(399353),r=a(361004),o=a(183e3),d=a(24246),u=a(216975),c=a(696749),p=a(785893);function g({minutes:e}){let l=(0,d.Z)(),a=e%60,n=Math.floor(e/60),i=a>0?(0,u.nk)(l.bt("{{ mins }} min", "{{ mins }}min", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{mins:a}).join(""):"",t=n>0?(0,u.nk)(l.bt("{{ hours }} hr", "{{ hours }}hr", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{hours:n}).join(""):"";return(0,p.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.xe,{inline:!0,size:r.n,children:(0,u.nk)(l.bt("{{ hoursText }} {{ minsText }}", "{{ hoursText }} {{ minsText }}", "closeup.storyPin.basicsLayout.cookTime", undefined, true),{hoursText:t,minsText:i})})})}function m({servingSize:e}){let l=(0,d.Z)(),a=(0,c.Z)(l.nbt(["{{servingSize}} serving", "{{servingSize}} servings"], e, "number of servings for a recipe", true),{servingSize:e});return(0,p.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.xe,{inline:!0,size:r.n,children:(0,u.nk)(l.bt("{{ servingText }}", "{{ servingText }}", "closeup.storyPin.basicsLayout.servings", undefined, true),{servingText:a})})})}function y({difficulty:e}){let l=(0,d.Z)(),a={1:l.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:l.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:l.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=e&&e in a?a[e]:null;if(!n)return null;let i=l.bt("Difficulty:", "Difficulty:", "closeup.storyPin.basicsLayout.difficultyLevelLabel", undefined, true);return(0,p.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.xe,{inline:!0,size:r.n,children:(0,u.nk)(l.bt("{{ label }} {{ difficultyLevel }}", "{{ label }} {{ difficultyLevel }}", "closeup.storyPin.basicsLayout.difficulty", undefined, true),{label:i,difficultyLevel:n})})})}let h=(void 0!==n||(n=a(26048)).hash&&"e023b848702237b2810d4b43b4e59115"!==n.hash&&console.error("The definition of 'BasicsCategoriesMetadata_keyValueBlocks' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({keyValueBlocks:e,hasMetadataTemplateType:l}){(0,t.useEffect)(()=>{(0,i.Z)("BasicsCategoriesMetadata","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/BasicsCategoriesMetadata.tsx")},[]);let a=(0,o.Z)(h,e)||[];return l?(0,p.jsx)(s.xu,{"data-test-id":"categories-metadata",children:(a||[]).map((e,l)=>{let n=`kv-${l}`,i=function(e){let l="category_type"in e?e.category_type:e.categoryType,{value:a}=e;if(2===l)return(0,p.jsx)(y,{difficulty:a});if(!a)return null;let n=parseInt(a,10);return 1===l?(0,p.jsx)(m,{servingSize:n}):0===l&&n?(0,p.jsx)(g,{minutes:n}):null}(e);return i?l<a.length-1?(0,p.jsxs)(t.Fragment,{children:[i,(0,p.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:(0,p.jsx)(s.xe,{inline:!0,size:r.n,children:"  "})})]},n):(0,p.jsx)(t.Fragment,{children:i},n):null}).filter(e=>null!=e)}):null}},136566:function(e,l,a){a.d(l,{Z:()=>k});var n,i=a(686659),t=a(667294);a(167912);var s=a(399353),r=a(41045),o=a(759271),d=a(677650),u=a(361004),c=a(282636),p=a(470205),g=a(183e3),m=a(113759),y=a(785893);let h=(void 0!==n||(n=a(940981)).hash&&"7f5ee41f639d28bd1418cd137ed8b8a0"!==n.hash&&console.error("The definition of 'DescriptionBrokenByLineBreaks_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({description:e}){let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,m.x4)(),{mWebCloseupRedesignEnabled:n}=(0,o.Z)();return(0,y.jsx)(p.Z,{name:"SimpleDescriptionWithHashtags",children:(0,d.Z)({closeupWithinMasonryEnabled:l,peekCloseupEnabled:a,mWebCloseupRedesignEnabled:n,text:e})})}function k({description:e,enableAdditionalNoteSpace:l=!1,pinKey:a}){(0,t.useEffect)(()=>{(0,i.Z)("DescriptionBrokenByLineBreaks","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/DescriptionBrokenByLineBreaks.tsx")},[]);let n=(0,g.Z)(h,a),{userMentionTags:o,descriptionLinks:d}=n,{hyperlinkKeywordsEnabled:p}=(0,r.Z)(n),m=e.split(/\n/)||[];return(0,y.jsx)(t.Fragment,{children:m.map((e,a)=>{let i=e.length>0?`${e.replace(/[^a-zA-Z0-9]/g,"").slice(0,15)}-${e.length}`:"empty-line-0",r=`desc-line-${i}-${Math.random().toString(36).slice(2,8)}`;if(""===e&&l)return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{height:"1em"}}},r);let g=0;for(let e=0;e<a;e+=1){let l=m[e];void 0!==l&&(g+=l.length+1)}let h=g+e.length,{userMentionTags:k,descriptionLinks:f}=(({lineStartPosition:e,lineEndPosition:l,rawLine:a,userMentionTags:n,descriptionLinks:i})=>{let t=l=>{let n=l-e;return n-(e=>{let l=a.slice(0,e);return l.length-l.replace(/\s+/g," ").length})(n)};return{userMentionTags:n?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:t(a.offset)}:null).filter(e=>null!==e)||[],descriptionLinks:i?.map(a=>a&&"number"==typeof a.offset&&a.offset>=e&&a.offset<l?{...a,originalOffset:a.offset,offset:t(a.offset)}:null).filter(e=>null!==e)||[]}})({lineStartPosition:g,lineEndPosition:h,rawLine:e,userMentionTags:o,descriptionLinks:p?d:void 0});return k.length>0||f.length>0?(0,y.jsxs)(t.Fragment,{children:[(0,y.jsx)(s.xu,{children:(0,y.jsx)(c.Z,{description:e.replace(/\s+/g," "),descriptionLinks:f,mentionLinkColor:"link",pinKey:n,shouldAdjustOffset:!1,shouldMakeHashtagLinksFromText:!0,textSize:u.n,userMentionTags:k})}),(0,y.jsx)("br",{})]},r):(0,y.jsxs)(t.Fragment,{children:[(0,y.jsx)(_,{description:e}),(0,y.jsx)("br",{})]},r)})})}},996079:function(e,l,a){a.d(l,{Z:()=>o}),a(167912);var n,i=a(201363),t=a(183e3),s=a(601871);let r=(void 0!==n||(n=a(761306)).hash&&"120c47eff2cf4911de716b514608718f"!==n.hash&&console.error("The definition of 'useIsBoardOwnerOrCollaborator_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function o({pinKey:e,orbacActingAs:l,viewer:a}){let n=(0,t.Z)(r,e),o=!!n.pinner?.entityId&&(0,s.D3)(a,n.pinner.entityId,l),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,i.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,a);return o||d}},942116:function(e,l,a){a.d(l,{ZP:()=>iX,l6:()=>iW});var n,i,t,s,r,o,d,u,c,p,g,m,y,h,_=a(686659),k=a(667294),f=a(581722),S=a(312048),P=a(130845),x=a(813954);let v=Object.freeze(["JP"]);var b=a(399353),F=a(550368);a(167912);var C=a(166988),T=a(183e3),K=a(79271),I=a(575647),w=a(785893);let L=(void 0!==n||(n=a(218046)).hash&&"cc72e00dad8d20ff5e78b580bc4b3428"!==n.hash&&console.error("The definition of 'AuthDesktopWebCloseupMainPinImpression_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);var A=a(917590),R=a(136566),E=a(743260),j=a(77957),D=a(361004),M=a(282636),Z=a(24246),B=a(216975);let N=e=>{if(!e)return null;let{categorizedIngredients:l}=e.recipe;return l&&l.length>0?{...e,categorizedIngredients:l}:null};var V=a(589771),z=a(569377),O=a(438303),U=a(132781),H=a(147950),G=a(692763),W=a(680589),$=a(113759),X=a(488598),Y=a(1769),q=a(977854),Q=a(292917);let J=(void 0!==i||(i=a(537411)).hash&&"c6b0de206743312221bd0e0b89d2f0aa"!==i.hash&&console.error("The definition of 'CardSourceDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),ee=function(e){let{onUpdate:l,showMore:a,pinKey:n,isArticle:i,showSponsorshipAttribution:t,hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o,onToggle:d}=e;(0,k.useEffect)(()=>{l?.()},[l]),(0,k.useEffect)(()=>{l?.()},[a,l]);let u=(0,Z.Z)(),c=(0,T.Z)(J,n),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g}=(0,$.x4)(),{carouselInfo:m}=(0,j.G)(),{closeupUnifiedDescription:y,userMentionTags:h,richMetadata:_,storyPinData:f}=c,S=(y||"").trim(),P=m?.carouselData;if(P){let e=P.carousel_slots??[],l=P.index??0;e[l]&&e[l].details&&(S=e[l].details)}let x=_?.tutorial?.description,v=c.pinAdditionalNote||"",F=`${S}

${v}`;F=S?F:v;let C=(S=v?F:S)&&x&&x.trim()===S,K=S?S.replace(/\s+/g," "):"",I=K=!a&&K&&K.length?(0,W.ZP)(K,i?195:200):K;K&&h&&(I=(0,w.jsx)(M.Z,{description:K,mentionLinkColor:"default",pinKey:c,shouldAdjustOffset:!0}));let L=S&&S.length>(i?195:200),A=null,ee=N((0,V.Z)((0,z.Z)((0,O.Z)(e)))),el=f?.metadata?.basics;if(el){let e,{keyValueBlocks:l,listBlocks:a}=el;c&&c.domain&&c.link&&(e={domain:c.domain,url:c.link});let n=[];e?.domain&&(n=[...n,e.domain]);let i=(l||[]).map(e=>(0,Y.Z)(e.categoryType,e.value,u)).filter(e=>""!==e);i.length>0&&(n=[...n,...i]),(a??[]).forEach(({heading:e,blocks:l})=>{e&&(n=[...n,e]),(l??[]).forEach(e=>{"StoryPinListBlock"===e.__typename&&e.blocks&&(e.blocks??[]).forEach(e=>{"text"in e&&e.text&&(n=[...n,e.text])})})}),A=(0,q.Z)(n)}else if(ee){let{prepTime:e,cookTime:l,totalTime:a,servingSummary:n,serves:i}=ee.recipe,t=a||l||e;if(l&&e){let a=l.h||0,n=l.m||0;t={h:a+(e.h||0),m:n+(e.m||0)}}let s=t?(0,G.Z)((0,H.X)(t),u):null,r=c.richMetadata?.recipe?.aggregateRating?.reviewCount;n&&(A=i?(0,w.jsxs)(b.xe,{inline:!0,size:D.n,children:[i," ",u.bt("servings", "servings", "closeup.CardSourceDescriptionText.servesLabel", undefined, true)]},"recipe"):(0,w.jsx)(b.xe,{inline:!0,size:"200",children:n},"recipe")),s&&(A=A?(0,B.nk)("{{ timeLabel }}  {{ description }}",{timeLabel:s,description:A}):s),"number"==typeof r&&r>0&&(A=A?(0,B.nk)(u.bt("{{ reviewCount }} reviews  {{ description }}", "{{ reviewCount }} reviews  {{ description }}", "number of reviews on a recipe and the description", undefined, true),{reviewCount:r,description:A}):r);let o=c.richMetadata?.recipe?.aggregateRating?.ratingValue,d=Number(o);Number.isNaN(d)&&(d=0),d>=.25&&(A=A?(0,B.nk)("{{ ratings }} {{ description }}",{ratings:(0,w.jsx)(U.Z,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o),description:A}):(0,w.jsx)(U.Z,{max_rating:c.richMetadata?.recipe?.aggregateRating?.bestRating,rating:o},o))}if(!K||C)return null;let ea=4;return p?ea=0:g&&(ea=2),S?(0,w.jsxs)(b.xu,{marginBottom:p?0:t&&(s||r)?2:4,marginTop:ea,children:[(0,w.jsxs)(E.Z,{descriptionDir:(0,Q.j)(S),children:[(0,w.jsx)(R.Z,{description:S||"",enableAdditionalNoteSpace:""!==v,pinKey:c}),o]}),t&&(0,w.jsx)(b.xu,{marginTop:1,children:(0,w.jsx)(X.Z,{hasAffiliateLink:s,hasAffiliateProducts:r})})]}):(0,w.jsxs)("span",{children:[(0,w.jsx)(b.xe,{color:p?"subtle":void 0,inline:!0,size:"200",children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",children:A?(0,B.nk)("{{ recipeInfo }}  {{ description }}",{recipeInfo:A,description:I}):I})}),L&&!a&&(0,w.jsx)(b.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,w.jsx)(b.iP,{fullWidth:!1,onTap:d,children:(0,w.jsx)(b.xe,{inline:!0,size:"200",weight:"bold",children:u.bt("More", "More", " - ", undefined, true)})})})]})},el=(e,l)=>e.length>300?e:e.length+l.length+3>300?`${e} ${l}...`:`${e} ${l}`,ea=(void 0!==t||(t=a(920365)).hash&&"d6d83b429981e4bc762e3872608eedbd"!==t.hash&&console.error("The definition of 'Description_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function en(e){(0,k.useEffect)(()=>{(0,_.Z)("Description","/app/common/react/components/auth-desktop-web-closeup/Description.tsx")},[]);let[l,a]=(0,k.useState)(!1),{pinKey:n,onUpdate:i,showSponsorshipAttribution:t,hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o}=e,d=(0,T.Z)(ea,n);if(!d.entityId)return null;let u=!!d.aggregatedPinData,c=!!d.description,p=d.pinAdditionalNote||"",g=!!d.richMetadata?.recipe,m=!!d.richMetadata?.article,y=d.richMetadata?.article?.description,h=!!d.richMetadata?.tutorial,f=m&&!g&&!h;return(0,w.jsx)(k.Fragment,{children:(0,w.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:c||p||u?(0,w.jsx)(ee,{hasAffiliateLink:s,hasAffiliateProducts:r,instagramPostLink:o,isArticle:f,onToggle:()=>a(!0),onUpdate:i,pinKey:d,showMore:l,showSponsorshipAttribution:t}):f&&y&&(0,w.jsx)(b.xu,{marginBottom:3,children:(0,w.jsx)(b.xe,{children:y.split(" ").map(e=>e.trim()).reduce(el,"")})})})})}var ei=a(201105);function et({mediaAttribution:{author:e,authorUrl:l,ccUrl:a,link:n,mediaType:i,providerName:t}}){(0,k.useEffect)(()=>{(0,_.Z)("MaybeMediaAttribution","/app/common/react/components/auth-desktop-web-closeup/Description/MaybeMediaAttribution.tsx")},[]);let s=(0,Z.Z)(),r=!!(t&&n);if(!e&&!r)return null;let o=r?s.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):null;return e&&(o="VIDEO"===i?r?s.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):s.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):r?s.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):s.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,w.jsx)(b.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,w.jsxs)(b.xe,{color:"default",size:"200",children:[!!o&&(0,w.jsx)(ei.Z,{text:(0,B.nk)(o,{author:(0,w.jsx)(b.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,w.jsx)(b.xe,{size:"200",weight:"bold",children:e})},"author"),provider:r?(0,w.jsx)(b.xu,{display:"inlineBlock",marginEnd:1,children:(0,w.jsx)(b.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),a&&(0,w.jsx)(b.rU,{href:a,rel:"nofollow",children:s.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}function es({attribution:{authorName:e,authorUrl:l,ccUrl:a,providerName:n,url:i},embed:t}){(0,k.useEffect)(()=>{(0,_.Z)("MaybePhotoAttribution","/app/common/react/components/auth-desktop-web-closeup/Description/MaybePhotoAttribution.tsx")},[]);let s=(0,Z.Z)(),r=!!(n&&i);if(!e&&!r)return null;let o=null;return r?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?s.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):s.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):s.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?s.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):s.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,w.jsx)(b.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,w.jsxs)(b.xe,{color:"default",size:"200",children:[!!o&&(0,w.jsx)(ei.Z,{text:(0,B.nk)(o,{author:(0,w.jsx)(b.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"hover",children:(0,w.jsx)(b.xe,{size:"200",weight:"bold",children:e})},"author"),provider:r?(0,w.jsx)(b.xu,{display:"inlineBlock",marginEnd:1,children:(0,w.jsx)(b.rU,{display:"inlineBlock",href:i??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),a&&(0,w.jsx)(b.rU,{href:a,rel:"nofollow",children:s.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}let er=(void 0!==s||(s=a(526204)).hash&&"7142df6a7a3c1aee54267c5441d3d50b"!==s.hash&&console.error("The definition of 'CloseupAttributionAndDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),eo=e=>{(0,k.useEffect)(()=>{(0,_.Z)("CloseupAttributionAndDescription","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupAttributionAndDescription.tsx")},[]);let{isStoryPin:l,pinKey:a,onUpdate:n,instagramPostLink:i}=e,t=(0,T.Z)(er,a),s=t.entityId&&(!!t.attribution?.providerUrl&&!!t.attribution.providerName||!!t.attribution?.authorName),r=t.entityId&&(!!t.mediaAttribution?.link&&!!t.mediaAttribution.providerName||!!t.mediaAttribution?.author),o=null;if(s||r){let{closeupUnifiedDescription:e}=t,l=(e||"").trim()?"{{ credit }}":"{{ credit }}";o=t.mediaAttribution?(0,B.nk)(l,{credit:t.mediaAttribution&&(0,w.jsx)(et,{mediaAttribution:{author:t.mediaAttribution.author,authorUrl:t.mediaAttribution.authorUrl,ccUrl:t.mediaAttribution.ccUrl,link:t.mediaAttribution.link,mediaType:t.mediaAttribution.mediaType,providerName:t.mediaAttribution.providerName}},"article-pin")}):(0,B.nk)(l,{credit:t.attribution&&(0,w.jsx)(es,{attribution:{authorName:t.attribution.authorName,authorUrl:t.attribution.authorUrl,ccUrl:t.attribution.ccUrl,providerName:t.attribution.providerName,url:t.attribution.url},embed:t.embed&&{type:t.embed.type,src:t.embed.src,subtype:t.embed.subtype}},"article-pin")})}return(0,w.jsxs)(b.xe,{inline:!0,children:[o,!l&&(0,w.jsx)(en,{instagramPostLink:i,onUpdate:n,pinKey:t})]})};var ed=a(725557),eu=a(661376);function ec({creatorId:e,children:l}){let{data:a}=(0,eu.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return l(a)}var ep=a(970766),eg=a(566431),em=a(891851),ey=a(518596);let eh=(void 0!==r||(r=a(707401)).hash&&"63a66a6b195a0e9cef298ab368edb058"!==r.hash&&console.error("The definition of 'useCloseupBodyUtils_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function e_(e){let l=(0,T.Z)(eh,e),{currentDomain:a}=(0,ep.Z)({carouselData:l.carouselData&&{carouselSlots:l.carouselData.carouselSlots&&l.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:l.carouselData?.index},domain:l.domain}),n=!!l.link&&l.link.startsWith("https://i.pinimg.com"),i=(0,k.useCallback)(e=>e&&!n?!!l.link:!l.isEligibleForPdp&&!!(0,eg._S)(a)&&!n,[a,l.isEligibleForPdp,l.link,n]),t=(0,em.Z)({hasPin:!!l,hasPinRichMetadata:!!l.richMetadata,hasPinRichMetadataProducts:!!l.richMetadata?.products,hasPinRichMetadataArticle:!!l.richMetadata?.article,hasPinRichMetadataRecipe:!!l.richMetadata?.recipe,hasPinStoryPinData:!!l.storyPinData}),s=(0,k.useCallback)(e=>e||t,[t]),r=!!l.creatorClass;return{getShowClickthroughLink:i,getViewParameter:s,makeDetailsArgs:(0,k.useCallback)(e=>({isShopTheLook:!!l.aggregatedPinData?.isShopTheLook,showCreatorCard:!!l.closeupUnifiedAttribution?.entityId,creatorId:l.closeupUnifiedAttribution?.entityId??null,showCanonicalComments:!!l.isEligibleForAggregatedComments,showReactions:(0,ey.J6)({board:l.board?.isCollaborative||l.board?.collaboratedByMe?{isCollaborative:l.board.isCollaborative??null,collaboratedByMe:l.board.collaboratedByMe??null}:null,videos:l.videos?.entityId?{entityId:l.videos.entityId}:null,isDownstreamPromotion:l.isDownstreamPromotion,isPromoted:l.isPromoted,storyPinDataId:l.storyPinDataId},e),isCreatorClassPin:r}),[r,l.aggregatedPinData?.isShopTheLook,l.board?.collaboratedByMe,l.board?.isCollaborative,l.isDownstreamPromotion,l.isEligibleForAggregatedComments,l.isPromoted,l.storyPinDataId,l.videos?.entityId,l.closeupUnifiedAttribution?.entityId])}}var ek=a(834237),ef=a(519371),eS=a(39375),eP=a(798492),ex=a(654805),ev=a(483306),eb=a(382167),eF=a(935009),eC=a(230201),eT=a(239321),eK=a(470205),eI=a(173874),ew=a(774838),eL=a(825605),eA=a(698808),eR=a(902123),eE=a(601871),ej=a(15392),eD=a(427488);function eM({children:e}){(0,k.useEffect)(()=>{(0,_.Z)("CreatorCardLayout","/app/www/CreatorCard/CreatorCardLayout.tsx")},[]);let{closeupWithinMasonryEnabled:l,peekCloseupEnabled:a}=(0,$.x4)(),n=8,i=4;return a?(n=0,i=ej.O5):l&&(n=void 0,i=void 0),(0,w.jsx)(b.xu,{marginBottom:n,marginTop:i,children:e})}var eZ=a(9065);let eB=(0,eZ.Z)(()=>a.e("35563").then(a.bind(a,176658)),void 0,e=>176658,"app-www-closeup-duplo-PinRecipeRating",e=>["35563"]),eN=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,657654)),void 0,e=>657654,"app-common-react-components-auth-desktop-web-closeup-CloseupCommentModule-UnifiedCommentModule",e=>[]),eV=(0,k.lazy)(()=>a.e("96615").then(a.bind(a,188604))),ez=(void 0!==o||(o=a(412599)).hash&&"38ff71786f50d115ac5883a2d96adcc5"!==o.hash&&console.error("The definition of 'DefaultMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),eO=(0,k.memo)(function({pinKey:e,clientTrackingParams:l,inCommentsPopoverExp:a,isStoryPin:n,isDeletedStoryPin:i,viewParameter:t,trafficSource:s,details:r,viewer:o,onClickThrough:d,onCloseupBodyUpdate:u,orbacActingAs:c,outerPaddingSize:p,viewportSize:g,shouldShowPartnerModule:m,trendsData:y,showTrendsOnPinCloseup:h,showPinStats:_}){let f,P=(0,Z.Z)(),{logContextEvent:x}=(0,eC.u)(),{carouselInfo:v}=(0,j.G)(),F=(0,T.Z)(ez,e),{isInInstagramPinnerExperiment:C,instagramRedirectUrlWithScheme:K}=(0,ek.Z)(F),I=C?{is_instagram_redirect:!!K,redirect_url:K}:{is_claimed_domain:!!K},{getShowClickthroughLink:L,makeDetailsArgs:D}=e_(F),{creatorId:M,showCreatorCard:B}=D(!!i),{sideBySideFullWidthCTAEnabled:N}=(0,ex.Z)(),V=L(n),{inAffiliateDisclosureEnabled:z}=(0,eP.Z)(),O=(0,ev.Z)({pinKey:F,pinId:F.entityId,viewParameter:t,trafficSource:s}),{closeupUnifiedDescription:U,closeupUserNote:H,commentsDisabled:G,pinAdditionalNote:W}=F,Y=U?.trim(),q=F?.storyPinData?.metadata?.basics?.keyValueBlocks||[],J=q.length>0,ee=(0,eS.Z)(H)||!!F.richMetadata,el=F.richMetadata?.recipe?.name&&F.richMetadata.recipe.categorizedIngredients&&F.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:ea,peekCloseupEnabled:en}=(0,$.x4)(),ei=(0,eE.q6)(o,F.pinner?.entityId,c),[et,es]=(0,k.useState)(!1),er=(0,S.TH)(),{isAuthenticated:eu,userAgent:{isMobile:ep}}=(0,ew.B)(),em=a&&!G,ey=(0,w.jsx)(eR.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:n})=>(0,w.jsx)(eT.Z,{clientTrackingParams:l,hovered:e,pinKey:F,trafficSource:s,viewType:3,children:(0,w.jsx)(b.xu,{onMouseEnter:a,onMouseLeave:n,children:(0,w.jsx)(eD.Z,{carouselInfo:v,isLink:V,onClick:O,onTitleCheck:es,pinKey:F})})})}),eh=()=>B&&(0,w.jsx)(ed.Z,{"data-testid":"closeup-metadata-creator",marginTop:ea?(p??ej.ER)/2:0,paddingBottom:ea?(p??ej.ER)/2:0,paddingRight:8*!ea,children:(0,w.jsx)(ec,{creatorId:M,children:e=>!!e&&(0,w.jsx)(eM,{children:(0,w.jsx)(eb.default,{clientTrackingParams:l,componentType:126,impressionType:"User",input:F,isORBACProfileManager:ei,loggingId:M,officialUser:e,slotIndex:0,usernameAccessibilityLevel:2,viewParameter:t,viewType:3})})})}),{link:eZ,trackedLink:eO,utmLink:eU}=F||{};if(v&&v.carouselData&&v.carouselData.id){let{carousel_slots:e=[],index:l=0}=v.carouselData;f=e[l]&&e[l].link}let eH=f||(0,eg.Zt)({trackedLink:eO,link:eZ,utmLink:eU})||"",eG=eH;K?eG=K:F.showRecipeCta||(eG=eH);let eW=!eu&&(0,eI.isBoardPage)(er),e$=!!(F.promoter&&!F.isDownstreamPromotion)&&F.promoter?.entityId===F.nativeCreator?.entityId,{sponsorship:eX,storyPinData:eY,affiliateLink:eq,affiliateDisclosure:eQ}=F,eJ=!!eq,e0=!!eY?.hasAffiliateProducts,e1=(!!eX?.sponsor||e0||eJ)&&!e$&&!eW,e3=o.isAuth&&F.originPin?.originPinner?.entityId===o.id,e2=V&&eG&&(e3||!F.isGoLinkless),e6=en&&!ea?p??ej.ER:0,e4=F.showRecipeCta?P.bt("See recipe", "See recipe", "closeup.defaultMetadata.visitButton", undefined, true):P.bt("Visit site", "Visit site", "closeup.defaultMetadata.visitButton", undefined, true),e5=()=>e2&&(0,w.jsx)(ed.Z,{marginTop:en?p??ej.ER:void 0,paddingBottom:en?(p??ej.ER)/2:void 0,paddingRight:e6,children:(0,w.jsx)(b.xu,{"data-test-id":"visit-site-button",children:(0,w.jsx)(eF.Z,{clientTrackingParams:l,color:"secondary",fullWidth:N,link:eG,onClickThrough:()=>{x({event_type:102,element:162,component:4,aux_data:I}),d()},pinKey:F,text:e4})})}),e7=ea?"start":void 0,e9=e1&&(ep||ea);return(0,w.jsxs)(b.xu,{marginTop:ea?4:void 0,children:[m&&(n||ea)&&(0,w.jsx)(ed.Z,{paddingRight:(p??ej.ER)/2,children:(0,w.jsx)(b.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(eV,{borderStyle:ef.te,isStoryPin:n,pinKey:F,showPinStats:_,trendsData:h?y?.data?.results:null,viewportSize:g})})})})}),(0,w.jsxs)(b.xu,{alignItems:z?"stretch":e7,display:ea?"flex":void 0,justifyContent:ea?"between":void 0,children:[(0,w.jsxs)(b.kC.Item,{flexBasis:ea&&e2?"77%":"100%",children:[!et&&(0,w.jsx)(ed.Z,{paddingRight:ea?void 0:p,children:(0,w.jsx)(b.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:ey})}),en&&eh(),(0,w.jsx)(b.xu,{direction:en?"column":void 0,display:en?"flex":void 0,height:en?"100%":void 0,children:(0,w.jsxs)(ed.Z,{paddingRight:p,children:[J&&(0,w.jsx)(b.xu,{marginTop:ea?ej.O5:4,children:(0,w.jsx)(A.Z,{hasMetadataTemplateType:!!F.storyPinData?.metadata?.templateType,keyValueBlocks:q})}),!J&&!!el&&(0,w.jsx)(b.xu,{marginTop:ea?ej.O5:void 0,tabIndex:0,children:(0,w.jsx)(eB,{boldText:!1,fallback:(0,w.jsx)(b.xH,{accessibilityLabel:P.bt("Loading Pin recipe rating", "Loading Pin recipe rating", "closeupDefaultMetadata.PinRecipeRating.loading.label", undefined, true),show:!0}),pinKey:F,textSize:"300"})}),(0,w.jsxs)(k.Fragment,{children:[!!(n&&Y&&ee)&&(0,w.jsx)(b.xu,{marginTop:ea?ej.O5:8,width:ea?"100%":void 0,children:(0,w.jsx)(E.Z,{descriptionDir:(0,Q.j)(Y),children:(0,w.jsx)(R.Z,{description:Y||"",pinKey:F})})}),!n&&(F.attribution||Y||W)&&ea&&(0,w.jsx)(b.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,w.jsx)(b.xu,{marginBottom:ea&&!el?ej.O5:void 0,marginTop:ea?ej.O5:void 0,width:"100%",children:(0,w.jsx)(eo,{instagramPostLink:(0,w.jsx)(eA.Z,{nativeCreatorCloseupLinkEligible:!!K,peekCloseupEnabled:en,uriComponent:eH}),isStoryPin:n,onUpdate:u,pinKey:F})})}),!z&&e1&&(ep||ea)&&(0,w.jsx)(b.xu,{marginTop:2,children:(0,w.jsx)(X.Z,{affiliateDisclosure:eQ,hasAffiliateLink:eJ,hasAffiliateProducts:e0})})]})]})}),ea&&eh()]}),ea&&(0,w.jsxs)(b.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingBottom:z&&e9?"36px":void 0}},display:N?"block":"flex",flex:"grow",justifyContent:"end",position:z?"relative":void 0,children:[e5(),z&&e9&&(0,w.jsx)(b.xu,{bottom:!0,marginBottom:1,minWidth:"max-content",position:"absolute",right:!0,children:(0,w.jsx)(X.Z,{affiliateDisclosure:eQ,hasAffiliateLink:eJ,hasAffiliateProducts:e0})})]})]}),en&&e5(),em&&(0,w.jsx)(eN,{inCommentsPopoverExp:a,pinKey:F,viewParameter:t}),(0,w.jsx)(k.Fragment,{children:r})]})});function eU(e){return(0,k.useEffect)(()=>{(0,_.Z)("DefaultMetadata","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/DefaultMetadata.tsx")},[]),(0,w.jsx)(eO,{...e})}var eH=a(443376),eG=a(340950),eW=a(803389),e$=a(996079),eX=a(288472),eY=a(501010),eq=a(64151);let eQ=(0,k.lazy)(()=>a.e("99339").then(a.bind(a,403020))),eJ=(0,k.memo)(function({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:l,isStoryPin:a,isVideoPin:n,isDeletedStoryPin:i,orbacActingAs:t,orbacSubjectId:s,onCommentSectionClick:r,onCloseupBodyUpdate:o,outerPaddingSize:d=ej.g9,pin:u,viewer:c,shouldShowStlCarouselForOwnPin:p,storyPinTaggedProducts:g=[],taggedProducts:m,closeupContext:y,isLoadingNewlyCreatedComment:h,viewParameter:_,detailsScrollContainerRef:f}){let{makeDetailsArgs:P}=e_({type:"Legacy",data:u}),{checkExperiment:x}=(0,eY.Z)(),{logContextEvent:v}=(0,eC.u)(),{isShopTheLook:F,showCanonicalComments:C}=P(!!i),T=(0,Z.Z)(),K=(0,S.TH)(),I=(0,S.s0)(),{isAuthenticated:L}=(0,ew.B)(),A=u.is_instagram_api&&u.native_creator?.website_url&&u.native_creator?.is_primary_website_verified,{link:R,utm_link:E,tracked_link:j}=u,D=(0,eg.Zt)({utmLink:E,link:R,trackedLink:j}),M=N((0,V.Z)((0,z.Z)((0,O.Z)({pin:u})))),B=(m||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:l,y_percent:a}=e;if(l>0&&l<=100&&a>0&&a<=100)return!0}return!1})(e)),U=(0,eE.q6)(c,u.pinner?.id,t),{closeupWithinMasonryEnabled:H,peekCloseupEnabled:G}=y,W=!L&&(0,eI.isBoardPage)(K),$=!!(u.promoter&&!u.is_downstream_promotion)&&u.promoter?.id===u.native_creator?.id,{sponsorship:Y,story_pin_data:q,affiliate_link:Q,affiliate_disclosure:J}=u,ee=!!Q,el=!!q?.has_affiliate_products,ea=(!!Y||el||ee)&&!$&&!W,en=(u.aggregated_pin_data?.comment_count??0)+(u.aggregated_pin_data?.did_it_data?.images_count??0),ei=!i&&C&&(e?!u.comments_disabled:!l),et=(e?!!en:!G)||(u.aggregated_pin_data?.comment_count??0)>0,es=!a&&(!((u.rich_summary?.products??[]).length||(u.rich_metadata?.products??[]).length)&&F&&B.length>0||p)&&!n,er=a&&g&&g.length>0,eu=(0,e$.Z)({pinKey:{type:"Legacy",data:u},orbacActingAs:t,viewer:c}),ec=!!u?.shuffle?.id&&!!u.shuffle?.is_remixable,{isEligibleForStaticImageIdeaPin:ep}=(0,eX.Z)(u.story_pin_data_id),em=ep&&g&&g.length>0,{paddingLeft:ey,paddingRight:eh,marginTop:ek,marginBottom:ef}=H?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:e&&ei?0:2}:G?{paddingLeft:0,paddingRight:d/2,marginTop:2,marginBottom:2}:{paddingLeft:d/2,paddingRight:d,marginTop:10,marginBottom:6},eS=u.favorited_by_me?T.bt("Remove from favourites", "Remove from favorites", "closeup.metadataDetails.removeFromFavorites", undefined, true):T.bt("Add to favourites", "Add to favorites", "closeup.metadataDetails.addToFavorites", undefined, true),eP=[...es||er||em?[(0,w.jsx)(ed.Z,{paddingLeft:H?void 0:d/2,paddingRight:H?void 0:d,children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(eQ,{closeupImageSignature:u.image_signature??"",isOwnCreatedPin:p,pin:u,pinId:u.id,taggedObjects:er||em?g:B,type:es?"stl":"story",viewParameter:_})})})},"closeupStlModuleMetadataPadding")]:[],...M?[(0,w.jsx)(ed.Z,{paddingLeft:0,paddingRight:H?void 0:d/2,children:(0,w.jsx)(eq.Z,{recipeProps:M})},"closeupRecipeMetadataPadding")]:[],...ec&&x("web_collage_creation").anyEnabled&&x("web_collage_remixing").anyEnabled?[(0,w.jsx)(ed.Z,{paddingRight:H?void 0:d/2,children:(0,w.jsx)(b.zx,{fullWidth:!0,onClick:()=>{v({event_type:101,view_type:3,view_parameter:140,element:14361}),I("/collage-creation-tool/",{state:{shuffleParentId:u.shuffle?.id}})},size:"lg",text:T.bt("Remix this collage", "Remix this collage", "closeup.metadataDetails.remixCollageButton", undefined, true)})},"closeupRemixCollageButtonPadding")]:[],...!i&&eu?[(0,w.jsx)(ed.Z,{paddingRight:H?void 0:d/2,children:(0,w.jsxs)(b.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!H,marginTop:2*!H,children:[H?(0,w.jsx)(b.xe,{size:"300",weight:"bold",children:eS}):(0,w.jsx)(b.xe,{weight:"bold",children:eS}),(0,w.jsx)(eG.Z,{pinKey:{type:"Legacy",data:u}})]})},"closeupFavoriteBarMetadataPadding")]:[]];return(0,w.jsx)(k.Fragment,{children:(0,w.jsxs)(b.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:G?"100%":void 0,justifyContent:"start",children:[H?null:(0,w.jsxs)(ed.Z,{"data-testid":"closeup-metadata-details",paddingLeft:H?void 0:G?0:d/2,paddingRight:H?void 0:d/2,children:[(0,w.jsx)(b.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,w.jsx)(b.xu,{marginTop:G?void 0:2,width:"100%",children:(0,w.jsx)(eo,{instagramPostLink:(0,w.jsx)(eA.Z,{nativeCreatorCloseupLinkEligible:!!A,peekCloseupEnabled:G,uriComponent:D}),isStoryPin:a,onUpdate:o,pinKey:{type:"Legacy",data:u}})})}),ea&&!H&&(0,w.jsx)(X.Z,{affiliateDisclosure:J,hasAffiliateLink:ee,hasAffiliateProducts:el})]}),(0,w.jsx)(k.Fragment,{children:eP.map((e,l)=>(0,w.jsxs)(k.Fragment,{children:[e,H&&(0,w.jsx)(b.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,w.jsx)(eW.Z,{show:!!(ei&&et||l<eP.length-1),surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eP.length&&!l&&(0,w.jsx)(b.xu,{marginBottom:2,marginTop:ei&&et?2:0,width:"100%",children:(0,w.jsx)(eW.Z,{show:H&&ei&&et,surface:"closeup-metadata-details"})}),ei&&(0,w.jsx)(eK.Z,{name:"CanonicalCard",children:(0,w.jsx)(ed.Z,{paddingLeft:ey,paddingRight:eh,children:(0,w.jsx)(b.xu,{marginBottom:ef,marginTop:ek,children:(0,w.jsx)(eH.Z,{aggregatedPinId:u.aggregated_pin_data?.id,closeupAttributionId:u.closeup_attribution?.id,closeupAttributionUsername:u.closeup_attribution?.username,commentCount:u.aggregated_pin_data?.comment_count??0,commentsDisabled:u.comments_disabled,inCommentsImprovedDropdownExp:e,isLoadingNewCreatedComment:h,isORBACProfileManager:U,isShopTheLook:F,isVideo:!!u.videos?.video_list,onCommentSectionClick:r,orbacSubjectId:s,photoCount:u.aggregated_pin_data?.did_it_data?.images_count??0,pinId:u.id,pinKey:{type:"Legacy",data:u},pinnerId:u.pinner?.id,scrollContainerRef:f,shouldShowHeading:et,storyPinDataId:u.story_pin_data?.id,viewParameter:_})})})})]})})});function e0(e){return(0,k.useEffect)(()=>{(0,_.Z)("MetadataDetails","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/MetadataDetails.tsx")},[]),(0,w.jsx)(eJ,{...e})}var e1=a(633735);function e3({maxHeight:e,pin:l,showShoppingModule:a,trafficSource:n,viewParameter:i}){(0,k.useEffect)(()=>{(0,_.Z)("PeekVariantShoppingModule","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/PeekVariantShoppingModule.tsx")},[]);let t={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[s,r]=(0,k.useState)(!1),[o,d]=(0,k.useState)(!0),u=(0,k.useRef)(null),c=()=>{let e=u.current;if(!e)return;let{scrollTop:l,scrollHeight:a,clientHeight:n}=e;r(0!==l),d(l+n!==a)};return(0,k.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("scroll",c),()=>{e.removeEventListener("scroll",c)}},[]),a&&(0,w.jsxs)(b.xu,{ref:u,dangerouslySetInlineStyle:{__style:{borderLeft:ef.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!s}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,w.jsx)(e1.Z,{moduleWidth:ef.LV,pinKey:{type:"Legacy",data:l},trafficSource:n,viewParameter:i}),(0,w.jsx)(b.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!o}},position:"absolute"})]})}var e2=a(893957),e6=a(510755);let e4=e6.cI+16,e5=`calc(100vh - ${e4}px)`;function e7(e=100){let[l,a]=(0,k.useState)(e5),n=(0,k.useRef)(null),i=`calc(${e??"100"}vh - ${e4}px)`;return(0,e2.Z)(()=>{if(!window)return;let l=window.innerHeight-e4,t=n.current?.clientHeight||0;t>l*(e??100)/100&&(i=t.toString()),a(l>t?i:t)}),{descriptionContentMaxHeight:l,visualContentContainerRef:n}}function e9(){let[e,l]=(0,k.useState)(""),a=(0,k.useRef)(null),n=(0,k.useRef)(null),i=(0,k.useRef)(null),t=(0,k.useRef)(null);return(0,k.useEffect)(()=>{let l=()=>{e&&a.current&&a.current.handleEgSurveyClick(e)};return window.addEventListener("focus",l),()=>window.removeEventListener("focus",l)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:l,webLinkSurveyRef:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t}}var e8=a(993911),le=a(708139),ll=a(398504),la=a(583522),ln=a(889262),li=a(489325),lt=a(104999),ls=a(290216),lr=a(935059),lo=a(400962),ld=a(173922),lu=a(176783),lc=a(200619),lp=a(632492);let lg=(0,k.lazy)(()=>a.e("23708").then(a.bind(a,283269))),lm=(0,k.lazy)(()=>a.e("4416").then(a.bind(a,451770)));function ly({handleImageClickThrough:e,imageContainerRef:l,isStoryPin:a,isWideVideo:n,onSaveButtonClick:i,pin:t,setClickthroughComponentForSurvey:s,showRepinOnInitialRender:r,trafficSource:o,viewParameter:d,viewParameterType:u,visualContentContainerRef:c={current:null},isDeletedStoryPin:p=!1,isOnSecretBoard:g=!1}){(0,k.useEffect)(()=>{(0,_.Z)("VisualContentContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/VisualContent/VisualContentContainer.tsx")},[]);let m=(0,k.useRef)(null),[y,h]=(0,k.useState)(!1),{previous:f}=(0,lo.ou)(),S=(0,$.x4)(),P=(0,lc.Z)(),x=(0,j.G)(),v=(0,lr.Z)(),{getViewParameter:F}=e_({type:"Legacy",data:t}),T=(0,lt.Z)(),K=0===f.length,{imgSrc:I,video:L}=x,{isCloseupMediaViewerEnabled:A}=(0,la.Z)({isShufflePin:!!t?.shuffle}),{executeWithViewTransition:R}=(0,ln.Z)({_enableViewTransitions:A}),E=(0,C.Z)({showProductDetailPage:!!t.is_eligible_for_pdp}),{anyEnabled:D}=(0,ld.Z)(),M=()=>{h(e=>!e)},Z=()=>{h(!1)},B=e=>({gridDescription:t.description,imageSrc:e,isFlyoutOpen:y,onFlyoutDismiss:Z,onToggleFlyout:M,pinId:t.id}),{clientTrackingParams:N,paneWidth:V,closeupWithinMasonryEnabled:z,peekCloseupEnabled:O,setIsCloseupMediaViewerOpen:U}=S,{fiftyPercentWidth:H}=(0,ef.Re)(),{maxHeight:G}=(0,ll.Z)({pinKey:{type:"Legacy",data:t}}),W=(0,k.useCallback)(()=>{e&&e(),s("imageContainer")},[e,s]);if(a)return null;let{domain:X,music_attributions:Y,pinner:q,should_mute:Q}=t,J=!!X&&!!t.link&&!t.link.startsWith("https://i.pinimg.com"),ee=()=>{T({aux_data:{image_signature:t.image_signature},component:128,event_type:101,element:A?15864:15865,view_type:3}),R(()=>{U(!0)})},el=(0,eE.q6)(v,q?.id,P);return(0,w.jsxs)(b.xu,{ref:c,dangerouslySetInlineStyle:{__style:{containerType:D?"inline-size":"normal",display:O||E?"flex":"block",height:O||E?"100%":void 0}},"data-test-id":"visual-content-container",children:[(0,w.jsx)(li.Z,{id:"ElementUIStateController",children:(0,w.jsx)(eR.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:i})=>(0,w.jsxs)(b.xu,{alignSelf:O||E?"center":void 0,direction:z?"column":void 0,display:"flex",justifyContent:"center",maxHeight:E?void 0:G,maxWidth:H,onMouseEnter:a,onMouseLeave:i,position:"relative",width:"100%",children:[L&&Y?.length!==0&&(0,w.jsx)(b.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:V,zIndex:lu.Ls,children:(0,w.jsx)(li.Z,{id:"MusicAttribution",children:(0,w.jsx)(e8.Z,{musicAttributions:Y,shouldMute:!!Q})})}),(0,w.jsx)(li.Z,{id:"VisualContent",children:(0,w.jsx)(le.Z,{clientTrackingParams:N,closeupIsFirstPageInHistoryStack:K,flyoutShareProps:B(I),handleMediaButtonClick:ee,imageContainerRef:l,isHovered:e,isORBACProfileManager:el,isWideVideo:n,mediaViewerButtonRef:m,onImageClick:W,pin:t,shouldPadImage:!1,showDomainLink:J,trafficSource:o,viewParameter:F(u)})}),t&&t.showFeedback&&(0,w.jsx)(li.Z,{id:"VisualContentObscuredOverlay",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(lg,{pin:t})})})]})})}),(0,w.jsx)(b.mh,{zIndex:lp.lI,children:(0,w.jsx)(li.Z,{id:"ExperienceTooltip",children:(0,w.jsx)(ls.Qp,{anchor:c.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!z,idealDirection:z?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})})}),A&&(0,w.jsx)(eK.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,w.jsx)(li.Z,{id:"CloseupMediaViewer",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(lm,{flyoutShareProps:B(I),isDeletedStoryPin:p,isOnSecretBoard:g,onClose:({isExitButton:e,isClick:l})=>{T({aux_data:{image_signature:t.image_signature},component:128,event_type:l?101:97,element:e?15867:15866,view_type:3}),R(()=>{U(!1),m.current?.focus()})},onImageClick:()=>{e&&e()},onSaveButtonClick:i,pin:t,rounding:24,showRepinOnInitialRender:r,trafficSource:o,viewParameter:d})})})})]})}var lh=a(691835),l_=a(562400),lk=a(975703);let lf={__style:{marginBottom:"0",marginTop:"0",maxWidth:ej.KP,minWidth:ej.Gg}},lS=(0,k.memo)(function({children:e,isWideVideo:l}){let{showCloseupContentRight:a,maxWidth:n,paneWidth:i,peekCloseupEnabled:t,closeupWithinMasonryEnabled:s,viewportSize:r}=(0,$.x4)(),{maxHeight:o}=(0,ef.Re)(),{mainImage:d}=(0,j.G)(),{peekRedesignFastFollowsEnabled:u}=(0,ex.Z)(d),c=a||l?n:i;return c=s&&"sm"!==r||t?void 0:c,s?(0,w.jsx)(b.xu,{"data-test-id":"closeup-lego-container",height:"100%",children:e}):(0,w.jsx)(b.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:c,position:"relative",rounding:800,width:"100%",children:(0,w.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:l?lf:{},display:"flex",children:e})})})})});function lP(e){return(0,k.useEffect)(()=>{(0,_.Z)("ResponsiveBodyContainer","/app/www/closeup/desktop/responsiveContainers/ResponsiveBodyContainer.tsx")},[]),(0,w.jsx)(lS,{...e})}var lx=a(855574),lv=a(60707),lb=a(542515),lF=a(767415);let lC=(0,eZ.Z)(()=>a.e("9767").then(a.bind(a,478898)),{ssr:!1},e=>478898,"ChangeBoardModalCommon",e=>["9767"]),lT=(0,eZ.Z)(()=>Promise.all([a.e("33477"),a.e("55759")]).then(a.bind(a,107056)),void 0,e=>107056,"CloseupActionBarCommon",e=>["33477","55759"]),lK=(0,eZ.Z)(()=>a.e("30970").then(a.bind(a,4247)),void 0,e=>4247,"app-common-react-components-auth-desktop-web-closeup-LeadGen-LeadGenCloseupBodyContent",e=>["30970"]),lI=(0,eZ.Z)(()=>a.e("14574").then(a.bind(a,372273)),void 0,e=>372273,"app-common-react-components-auth-desktop-web-closeup-CloseupBody-CloseupInlineCommentComposer",e=>["14574"]),lw=(0,k.lazy)(()=>a.e("92199").then(a.bind(a,9972))),lL=({children:e,metadataContainerRef:l,closeupWithinMasonryEnabled:a})=>a?(0,w.jsx)(b.xu,{ref:l,width:"100%",children:e}):(0,w.jsx)(k.Fragment,{children:e}),lA=(0,k.memo)(({children:e,clientTrackingParams:l,pinKey:a,pinImageUrl:n,closeupNavigationType:i})=>{(0,k.useEffect)(()=>{(0,_.Z)("AuthDesktopWebCloseupMainPinImpression","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/AuthDesktopWebCloseupMainPinImpression.tsx")},[]);let t=(0,T.Z)(L,a),s=(0,C.Z)({showProductDetailPage:!!t.isEligibleForPdp}),r=(0,k.useMemo)(()=>t,[t]),o=(0,I.Z)(r),{entityId:d}=t,u=(0,k.useMemo)(()=>o(),[o]),c=(0,k.useMemo)(()=>t.isEligibleForPdp?u:{},[u,t.isEligibleForPdp]),p=(0,k.useMemo)(()=>({imageURL:n,clientTrackingParams:l}),[l,n]),g=(0,k.useMemo)(()=>({pin_id:d}),[d]);return(0,w.jsx)(K.Fw,{clientTrackingParams:l,closeupImpressionType:13,closeupNavigationType:i,componentType:85,contextLogData:c,impressionAuxFields:p,impressionType:"Pin",loggingId:d,slotIndex:-1,viewData:g,viewType:3,children:({impressionTrackerRef:l})=>(0,w.jsx)(b.xu,{ref:l,"data-test-id":"closeup-visual-container",width:s?"100%":void 0,children:e})})}),lR=(0,k.memo)(ly);function lE({isWideVideo:e,didShortClickThrough:l,webLinkSurveyState:{webLinkSurveyRef:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t},pin:s,outerBodyStyle:r,inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isEligibleForPinReactions:u,isStoryPin:c,trafficSource:p,visualContentContainer:g,outerPaddingSize:m,isInStream:y,metadataContainerRef:h,onClickThrough:P,viewParameter:x,metadata:v,viewer:F,orbacSubjectId:T,setIsLoadingNewlyCreatedComment:K=()=>{},descriptionContentMaxHeight:I,marginBottom:L=0,isDeletedStoryPin:A,onSaveButtonClick:R,showRepinOnInitialRender:E,goBack:j,onUpdate:D,routePush:M,closeupActionBarMaxWidth:B,visualContentContainerRef:N,showPDPComments:V,actionBarContainerRef:z,blendedUIScrollContainerRef:O}){let U;(0,k.useEffect)(()=>{(0,_.Z)("CloseupBody","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBody.tsx")},[]);let{descriptionPaneWidth:H,viewportSize:G,clientTrackingParams:W,closeupWithinMasonryEnabled:X,peekCloseupEnabled:Y,showCloseupContentRight:q}=(0,$.x4)(),Q=(0,f.v9)(({changeBoardFromToast:e})=>e)||{},J=(0,e1.F)(s.id),{makeDetailsArgs:ee}=e_({type:"Legacy",data:s}),{showCanonicalComments:el}=ee(!!A),ea=J?.data&&0!==J.data.length,en=(0,Z.Z)(),ei=(0,S.TH)(),et=(0,S.ur)(),es=(0,k.useRef)(null),{setCloseupBodyWidth:er}=(0,lk.K)(),eo=(0,k.useCallback)(()=>{let e=h.current;e&&er(l=>{let a=e.offsetWidth;return l!==a?a:l})},[h,er]);(0,lb.Z)(eo,h);let ed=(0,lc.Z)(),{is_eligible_for_aggregated_comments:eu,pinner:ec}=s,ep=(0,eE.q6)(F,ec?.id,ed),eg=s.comments_disabled?0:(s.aggregated_pin_data?.comment_count??0)+(s.aggregated_pin_data?.did_it_data?.images_count??0),em=!(ep&&!T)&&(!s.is_eligible_for_pdp||!!V)&&!s.comments_disabled&&!!eu&&!(o||d),ey=!!s.promoted_is_lead_ad,eh=0!==Object.keys(s).length,ek=N?.current?.clientHeight||0,[eS,eP]=(0,k.useState)(!0);(0,k.useEffect)(()=>{let e=(0,l_.Z)(()=>{X&&eP(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[X]),(0,e2.Z)(()=>{s.closeup_attribution?.id&&(0,lF.nP)("web.closeup.has_attribution.yes"),(0,lF.nP)("web.closeup.has_attribution.no")});let ex=(0,k.useMemo)(()=>(0,lv.Z)(et,ei.search,ei.key,p),[et,ei.search,ei.key,p]),ev=(0,k.useMemo)(()=>(s.images&&s.images["236x"]?.url)??"",[s.images]),eb=(0,k.useMemo)(()=>({type:"Legacy",data:s}),[s]),eF=(0,w.jsx)(li.Z,{id:"CloseupMainPinImpressionAuthDesktop",children:(0,w.jsx)(lA,{clientTrackingParams:W,closeupNavigationType:ex,pinImageUrl:ev,pinKey:eb,children:g})}),{fiftyPercentWidth:eC,fiftyPercentHeight:eT}=(0,ef.Re)(),eI=e&&!X?ej.KP:void 0;eI=Y?eC:eI;let ew=(c||X)&&!Y?void 0:I;Y&&(ew="sm"===G?eT:Math.max(ef.ql,N?.current?.clientHeight??0));let eA={...r,boxShadow:"unset",border:ef.tc,overflow:"clip"},eR=o?el&&!s.comments_disabled:!d,eD=X&&m&&!eR?m:0,eM=(0,C.Z)({showProductDetailPage:!!s.is_eligible_for_pdp}),eZ="sm"===G,{maxHeight:eB}=(0,lh.Z)({showProductDetailPage:!!s.is_eligible_for_pdp,skipAspectRatioCheck:!0}),eN=(0,k.useMemo)(()=>(0,w.jsx)(li.Z,{id:"CloseupInlineCommentComposer",children:(0,w.jsx)(lI,{aggregatedPinDataId:s.aggregated_pin_data?.id,closeupAttributionId:s.closeup_attribution?.id,commentCount:eg,disablePhotoCommentSelection:!!s.done_by_me,inCommentsImprovedDropdownExp:o,isEligibleForPinReactions:u,isPDP:s.is_eligible_for_pdp,orbacSubjectId:T,pinId:s.id,privatePin:"secret"===s.privacy,reactionByMe:s.reaction_by_me||0,reactionCounts:s.reaction_counts,setIsLoadingNewlyCreatedComment:K,showCommentComposer:em,showReactBackground:!X,storyPinDataId:s.story_pin_data_id,viewParameter:x})}),[s.aggregated_pin_data?.id,s.closeup_attribution?.id,eg,s.done_by_me,o,u,s.is_eligible_for_pdp,T,s.id,s.privacy,s.reaction_by_me,s.reaction_counts,K,em,X,s.story_pin_data_id,x]),eV=(0,k.useMemo)(()=>(!X||eM)&&em?q?(0,w.jsx)(b.Le,{bottom:0,children:eN}):eN:null,[X,eM,em,q,eN]);return U=eM&&!eZ?"100%":e||X?void 0:H,(0,w.jsx)(k.Fragment,{children:(0,w.jsxs)(b.xu,{height:"100%",marginBottom:L,position:"relative",width:"100%",children:[(0,w.jsx)(lP,{isWideVideo:e,children:(0,w.jsxs)(b.xu,{display:X?void 0:"flex",position:"relative",children:[!l&&(0,w.jsx)(eL.Z,{children:(0,w.jsx)(li.Z,{id:"WebLinkSurvey",children:(0,w.jsx)(lw,{ref:a,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t,pin:{aggregatedPinData:s.aggregated_pin_data&&{isShopTheLook:s.aggregated_pin_data.is_shop_the_look},board:s.board&&{entityId:s.board.id,owner:s.board.owner&&{entityId:s.board.owner.id??""}},entityId:s.id,imageSignature:s.image_signature,isDownstreamPromotion:s.is_downstream_promotion,isPromoted:s.is_promoted,link:s.link,recommendationReason:s.recommendation_reason&&{reason:s.recommendation_reason.reason}}})})}),(0,w.jsx)(b.xu,{color:eh?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eA}},"data-test-id":"closeup-body-style",display:"flex",paddingX:X&&!eM?4:void 0,position:"relative",children:(0,w.jsx)(lL,{closeupWithinMasonryEnabled:X,metadataContainerRef:h,children:(0,w.jsx)(b.kC,{alignItems:"stretch",height:X?"100%":void 0,justifyContent:"start",children:(0,w.jsx)(lx.Z,{children:eh?(0,w.jsx)(k.Fragment,{children:s.promoted_is_lead_ad?(0,w.jsx)(li.Z,{id:"LeadGenCloseupBodyContent",children:(0,w.jsx)(lK,{clientTrackingParams:W,pin:s,data:!!s,goBack:j,onUpdate:D,viewParameter:x,onSaveButtonClick:R,showRepinOnInitialRender:E,actionBarContainerRef:z,trafficSource:p,onClickThrough:P,isStoryPin:c,descriptionPaneWidth:H,metadataContainerRef:h,visualContentContainer:g,visualContentContainerHeight:ek,showLeadPinStdBeta:ey})}):(0,w.jsxs)(k.Fragment,{children:[(0,w.jsxs)(b.xu,{alignContent:"center",alignItems:"stretch",alignSelf:"center",dangerouslySetInlineStyle:{__style:eM?{overflowY:"auto",overflowX:"hidden"}:{}},direction:"column",display:"flex",justifyContent:"start",maxHeight:eB,width:"100%",children:[!eM&&X&&(0,w.jsx)(b.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!eS?ej.fF:{},borderTop:eS?void 0:ef.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",height:"64px",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:lp.$8,children:(0,w.jsx)(li.Z,{id:"CloseupActionBar",children:(0,w.jsx)(lT,{actionBarContainerRef:z,goBack:j,gridDescription:s.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!A,isEligibleForAggregatedComments:!!eu,isEligibleForPinReactions:u,isOnSecretBoard:!1,isStoryPin:c,onEditSubmit:D,onSaveButtonClick:R,outerPaddingSize:m,pin:s,routePush:M,scrollContainerRef:O?.current||h.current,showRepinOnInitialRender:E,viewParameter:x})})}),eF]}),(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{containerType:eM&&q?"size":void 0,overflow:Y&&eZ?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",flex:"grow",height:eM&&eZ?void 0:"100%",maxHeight:eM?ej.Id:ew,maxWidth:eI,minHeight:eM&&!eZ?ej.dm:void 0,paddingX:eM?4:void 0,width:U,children:s?(0,w.jsxs)(k.Fragment,{children:[(!y&&!X||eM)&&(0,w.jsx)(eK.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,w.jsx)(lT,{actionBarContainerRef:es,goBack:j,gridDescription:s.description??"",inCommentsImprovedDropdownExp:o,inCommentsPopoverExp:d,isDeletedStoryPin:!!A,isEligibleForAggregatedComments:!!eu,isEligibleForPinReactions:u,isOnSecretBoard:!1,isStoryPin:c,maxWidth:B,onEditSubmit:D,onSaveButtonClick:R,outerPaddingSize:m,pin:s,routePush:M,scrollContainerRef:O?.current||h.current,showRepinOnInitialRender:E,viewParameter:x})}),(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:X?void 0:Y?ef.Gd:ej.g9,paddingBottom:X?eD:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,w.jsxs)(b.xu,{ref:X?void 0:h,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:X||eM?void 0:"auto",children:[(0,w.jsx)(b.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:X?4*ej.O5:void 0}},direction:"column",display:"flex",height:Y||eM?"100%":void 0,justifyContent:"start",width:Y?"100%":void 0,children:v}),X&&!eM&&em&&eN]})}),eV]}):(0,w.jsx)(b.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,w.jsx)(b.xH,{accessibilityLabel:en.bt("Pin details loading", "Pin details loading", " - ", undefined, true),show:!0})})}),Y&&"lg"===G&&(0,w.jsx)(li.Z,{id:"PeekVariantShoppingModule",children:(0,w.jsx)(e3,{maxHeight:N?.current?.clientHeight,pin:s,showShoppingModule:ea,trafficSource:p,viewParameter:x})})]})}):(0,w.jsx)(b.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,w.jsx)(b.xH,{accessibilityLabel:en.bt("Pin loading", "Pin loading", " - ", undefined, true),show:!0})})})})})})]})}),Q.shouldOpenModal&&Q.newPin&&Q.originalPinId===s.id&&(0,w.jsx)(eK.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,w.jsx)(li.Z,{id:"ChangeBoardModal",children:(0,w.jsx)(lC,{experience:Q.experience,pinKey:{type:"Legacy",data:Q.newPin}})})})]})})}let lj=(0,k.memo)(lE),lD=(0,k.memo)(function({isStoryPin:e,isVideoPin:l,isWideVideo:a,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:s,onClickThrough:r,didShortClickThrough:o,goBack:d,isCloseupMaximized:u=!1,isInStream:c=!1,isDeletedStoryPin:p,onSaveButtonClick:g,onUpdate:m,outerBodyStyle:y,outerPaddingSize:h,routePush:_,showRepinOnInitialRender:f,viewType:S,onCommentSectionClick:P,onCloseupBodyUpdate:x,shouldShowStlCarouselForOwnPin:v,storyPinTaggedProducts:C,clientTrackingParams:T,viewportSize:K,shouldShowPartnerModule:I,trendsData:L,showTrendsOnPinCloseup:A,showPinStats:R}){let{checkExperiment:E}=(0,eY.Z)(),[j,D]=(0,k.useState)(!1),M=(0,k.useRef)(null),Z=(0,k.useRef)(null),B=(0,$.x4)(),{closeupWithinMasonryEnabled:N}=B,V=(0,lr.Z)(),z=N&&!!n.is_eligible_for_aggregated_comments&&"enabled_popover"===E("ce_dweb_new_closeup_comment_module").group,O=N&&!!n.is_eligible_for_aggregated_comments&&"enabled_dropdown"===E("ce_dweb_new_closeup_comment_module").group,U=!n.is_promoted&&!n.is_downstream_promotion&&!p,H=(0,lc.Z)(),G=(0,eE.lJ)(V,H),W=e9(),X=(0,k.useCallback)(()=>{r&&r({componentType:129}),W.setClickthroughComponentForSurvey("legoMaybeLink")},[r,W]),Y=e7(),{getViewParameter:q}=e_({type:"Legacy",data:n}),Q=q(s),{setClickthroughComponentForSurvey:J,imageContainerRef:ee}=W,{group:el}=E("webpack_react_profiler");if("enabled_slow_closeupbody"===el){let e=performance.now(),l=e;for(;l-e<30;)l=performance.now()}let ea=(0,k.useCallback)(()=>{r({wasImageClicked:!0})},[r]),en=(0,k.useMemo)(()=>n,[n]),ei=(0,k.useMemo)(()=>t,[t]),et=(0,k.useMemo)(()=>Q,[Q]),es=(0,k.useMemo)(()=>s,[s]),er=(0,w.jsx)(lR,{handleImageClickThrough:ea,imageContainerRef:ee,isDeletedStoryPin:p,isOnSecretBoard:!1,isStoryPin:e,isWideVideo:a,onSaveButtonClick:g,pin:en,setClickthroughComponentForSurvey:J,showRepinOnInitialRender:f,trafficSource:ei,viewParameter:et,viewParameterType:es,visualContentContainerRef:Y.visualContentContainerRef}),eo=(0,w.jsx)(li.Z,{id:"MetadataDetails",children:(0,w.jsx)(e0,{closeupContext:B,detailsScrollContainerRef:Z.current,inCommentsImprovedDropdownExp:O,inCommentsPopoverExp:z,isDeletedStoryPin:p,isLoadingNewlyCreatedComment:j,isStoryPin:e,isVideoPin:l,onCloseupBodyUpdate:x,onCommentSectionClick:P,orbacActingAs:H,orbacSubjectId:G,outerPaddingSize:h,pin:n,shouldShowStlCarouselForOwnPin:v,storyPinTaggedProducts:C,taggedProducts:i,viewer:V,viewParameter:Q})}),ed=(0,k.useMemo)(()=>({type:"Legacy",data:n}),[n]),eu=(0,w.jsx)(li.Z,{id:"DefaultMetadata",children:(0,w.jsx)(eU,{clientTrackingParams:T,details:eo,inCommentsPopoverExp:z,isDeletedStoryPin:p,isStoryPin:e,onClickThrough:r,onCloseupBodyUpdate:x,orbacActingAs:H,outerPaddingSize:h,pinKey:ed,shouldShowPartnerModule:I,showPinStats:R,showTrendsOnPinCloseup:A,trafficSource:t,trendsData:L,viewer:V,viewParameter:Q,viewportSize:K})}),ec=(0,w.jsx)(lj,{actionBarContainerRef:M,descriptionContentMaxHeight:Y.descriptionContentMaxHeight,didShortClickThrough:o,goBack:d,inCommentsImprovedDropdownExp:O,inCommentsPopoverExp:z,isCloseupMaximized:u,isEligibleForPinReactions:U,isInStream:c,isStoryPin:e,isWideVideo:a,metadata:eu,metadataContainerRef:Z,onClickThrough:X,onSaveButtonClick:g,onUpdate:m,orbacSubjectId:G,outerBodyStyle:y,outerPaddingSize:h,pin:n,routePush:_,setIsLoadingNewlyCreatedComment:D,showRepinOnInitialRender:f,trafficSource:t,viewer:V,viewParameter:Q,viewType:S,visualContentContainer:er,visualContentContainerRef:Y.visualContentContainerRef,webLinkSurveyState:W}),ep=(0,w.jsx)(li.Z,{id:"CloseupPostDownloadUpsellProvider",children:(0,w.jsx)(F.z8,{pin:n,children:ec})}),eg=(0,k.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return n?.ad_data?.exclude_from_grid_rep_tests&&E("web_exclude_from_grid_rep_tests").anyEnabled?(0,w.jsx)("div",{className:"excludeFromGridRepTests",children:(0,w.jsx)(b.II,{value:eg,children:ep})}):ep});function lM(e){return(0,k.useEffect)(()=>{(0,_.Z)("CloseupBody","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBody.tsx")},[]),(0,w.jsx)(lD,{...e})}var lZ=a(719301);let lB=[lZ.gO.ADMIN,lZ.gO.CAMPAIGN_MANAGER];var lN=a(240571),lV=a(940060),lz=a(49104),lO=a(155483),lU=a(289747);let lH=(0,eZ.Z)(()=>a.e("96615").then(a.bind(a,188604)),{ssr:!1},e=>188604,"CloseupPartnerModule",e=>["96615"]),lG=(0,eZ.Z)(()=>a.e("54347").then(a.bind(a,416843)),{ssr:!1},e=>416843,"SponsorshipApprovalModule",e=>["54347"]),lW=(0,k.memo)(function({permissions:e,pinId:l,sponsorshipStatus:a,creatorUsername:n}){return(0,w.jsx)(b.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,w.jsx)(lG,{business_role:e,creatorUsername:n??"",pinId:l,sponsorshipStatus:a})})})}),l$=(0,k.memo)(function({borderStyle:e,isStoryPin:l,closeupWidth:a,isWideVideo:n,viewportSize:i,pinKey:t,showPinStats:s,trendsData:r}){return(0,w.jsx)(b.xu,{"data-test-id":"PartnerModule",width:"lg"===i&&n?a:"100%",children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,w.jsx)(lH,{borderStyle:e,isStoryPin:l,pinKey:t,showPinStats:s,trendsData:r,viewportSize:i})})})}),lX=(0,k.memo)(function({clientTrackingParams:e,closeupWithinMasonryEnabled:l,didShortClickThrough:a,executeClickthrough:n,handleBackButtonClick:i,handleCarouselSwipe:t,handleCloseupBodyContainerRef:s,handleIdeaCloseupCommentIconClick:r,handleSaveClicked:o,isCloseupMaximized:d,isEligibleForStaticImageIdeaPin:u,isLimitedLogin:c,maxWidth:p,onToggleIdeaPinCloseupPanel:g,peekCloseupEnabled:m,pin:y,pinDerivedData:h,pinResource:_,routePush:f,shopping:S,showRepinOnInitialRender:P,storyPinTaggedProducts:v,trafficSource:F,trendsData:C,updateViewportSize:T,userBusinessRoleResource:K,viewportSize:I}){let L,A=(0,ew.B)(),R=(0,lr.Z)(),{checkExperiment:E}=(0,eY.Z)(),j=(0,lc.Z)(),{id:D,sponsorship:M,story_pin_data_id:Z,story_pin_data:B}=y,N=!!Z&&!u,V=!!B?.is_deleted,{creator:z,sponsor:U,status:H}=M||{},{username:G}=z||{},{username:W}=U||{},{refresh:$}=_,X=(0,eE.lJ)(R,j),{data:Y}=K||{},q=!y.is_repin&&!!W,Q=W===(R.isAuth?R.username:void 0)?[lZ.V3.OWNER]:Y?.permissions,J=(0,k.useMemo)(()=>W===(R.isAuth?R.username:void 0)?[lZ.V3.OWNER]:Y?.permissions,[Y?.permissions,W,R]),ee=W===(R.isAuth?R.username:void 0)||!!Q?.find(e=>lB.includes(e)),el=W===(R.isAuth?R.username:void 0)||!!Q?.find(e=>lB.includes(e)),{isWideVideo:ea}=(0,lz.Z)((0,O.Z)({pin:y}))||{},en=(0,lV.Z)({type:"Legacy",data:y},R,X),ei=(0,x.CA)(C?.data),et=q&&R.isAuth&&E("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(ee&&0===H||el&&1===H),es=y.link_domain?.official_user?.username||y.native_creator?.username,er=(0,eE.Ms)(R,j)===es&&(0,eE.nl)(R,j)&&A.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,eo=N&&(B?.pages?.length??0)>0,ed=(0,lN.WE)(R,I,en,ei,C,et);L=N?{boxShadow:void 0,borderRadius:void 0}:l?ef.ko:ef.te;let eu=et&&"number"==typeof H,ec=ed&&!N&&!l,ep=(0,k.useMemo)(()=>ei?C?.data?.results:null,[ei,C]),eg=(0,k.useMemo)(()=>({type:"Legacy",data:y}),[y]);return(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:N?{...ef.BI.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:m?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:4*!l,width:m?void 0:"100%",children:(0,w.jsxs)(k.Fragment,{children:[eo&&B&&(0,w.jsx)(lO.Z,{appConfig:{type:"authDesktop",onClickThrough:n,onNavigateBack:i},clientTrackingParams:e,onIdeaPinCloseupCommentClick:()=>{r(!0)},onTogglePanel:g,pin:y,storyPinData:B,variant:"closeup",viewParameterType:157,viewType:3}),(0,w.jsx)(lU.Z,{isStoryPin:N,isWideVideo:ea,children:(0,w.jsx)(eK.Z,{name:"CloseupBody",children:(0,w.jsxs)(b.xu,{ref:s,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,w.jsxs)(b.xu,{alignItems:ea?"center":void 0,direction:ea?"column":void 0,display:ea?"flex":void 0,children:[eu&&(0,w.jsx)(lW,{creatorUsername:G,permissions:J,pinId:D,sponsorshipStatus:H}),ec&&(0,w.jsx)(l$,{borderStyle:L,closeupWidth:p,isStoryPin:N,isWideVideo:ea,pinKey:eg,showPinStats:en,trendsData:ep,viewportSize:I})]}),(0,w.jsx)(b.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,w.jsx)(li.Z,{id:"CloseupBody",children:(0,w.jsx)(lM,{clientTrackingParams:e,didShortClickThrough:a,goBack:i,handleCarouselSwipe:t,isCloseupMaximized:d,isDeletedStoryPin:!!V,isStoryPin:N,isVideoPin:h.isVideoPin,isWideVideo:!!ea,onClickThrough:n,onCloseupBodyUpdate:T,onCommentSectionClick:r,onSaveButtonClick:o,onUpdate:$,outerBodyStyle:L,outerPaddingSize:ej.ER,pin:y,routePush:f,shopping:S,shouldShowPartnerModule:ed,shouldShowStlCarouselForOwnPin:er,showPinStats:en,showRepinOnInitialRender:!c&&P,showTrendsOnPinCloseup:ei,storyPinTaggedProducts:v,trafficSource:F,trendsData:C,viewParameterType:eo?157:void 0,viewportSize:I,viewType:3})})})]})})})]})})});function lY(e){return(0,k.useEffect)(()=>{(0,_.Z)("CloseupBodyContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupBodyContainer.tsx")},[]),(0,w.jsx)(lX,{...e})}var lq=a(631155),lQ=a(739405),lJ=a(285676);let l0=Math.round(303.75),l1=(void 0!==d||(d=a(523731)).hash&&"1fc34e57cb3ae8416df6b6191d3ae64f"!==d.hash&&console.error("The definition of 'BreadcrumbsUnifiedPinRepPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function l3({index:e,pinId:l}){(0,k.useEffect)(()=>{(0,_.Z)("BreadcrumbsUnifiedPinRep","/app/common/react/components/BreadCrumbs/BreadcrumbsUnifiedPinRep.tsx")},[]);let{isAuthenticated:a}=(0,ew.B)(),n=(0,lQ.ZP)(),i=(0,lq.Z)({strategy:"Legacy",query:l1,variables:{pinId:l,isCloseupRelatedModulesFeedQuery:!1,isAuth:a,isDesktop:"desktop"===n},useGetLegacyData:({pinId:e})=>(0,eu.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed"}}).data}),t=i?.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null;return t?(0,w.jsx)(b.xu,{overflow:"hidden",rounding:300,width:243,children:(0,w.jsx)(lJ.r,{hideContextMenu:!0,hideEditButton:!0,hideFavoriteButton:!0,hideSendButton:!0,pinId:l,pinImageCrop:{width:243,height:l0},pinKey:t,slotIndex:e,viewType:3})}):(0,w.jsx)(b.xu,{height:354,rounding:300,width:243,children:(0,w.jsx)(b.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,w.jsx)(b.xH,{show:!0,size:"sm"})})})}let l2={backgroundColor:"rgba(255, 255, 255)",transitionDuration:"0.3s",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1)",transitionProperty:"transform, opacity"};function l6({toggle:e,recentPins:l,l2Interest:a,isAnimatingOut:n,justifyContent:i}){var t;(0,k.useEffect)(()=>{(0,_.Z)("BreadCrumbsExpanded","/app/common/react/components/BreadCrumbs/BreadCrumbsExpanded.tsx")},[]);let s=(0,Z.Z)(),r=(0,k.useRef)(null),[o,d]=(0,k.useState)(!1),u=(0,k.useRef)(!1),{logContextEvent:c}=(0,eC.u)(),p=(0,k.useCallback)(()=>{u.current=!0,window.setTimeout(()=>{u.current=!1},0)},[]);(0,e2.Z)(()=>{d(!0)});let g=(0,k.useMemo)(()=>"start"===i?"bottom left":"end"===i?"bottom right":"bottom center",[i]),m=(0,k.useMemo)(()=>{let e=0,l=.9;return n?(e=0,l=.9):o&&(e=1,l=1),{...l2,opacity:e,transformOrigin:g,transform:`scale(${l})`}},[o,n,g]);t=e=>{if("key"in e&&"Escape"===e.key)return void y({reason:"escape_key"});y({reason:"outside_click"})},(0,k.useEffect)(()=>{let e=e=>{!(!r.current||r.current.contains(e.target))&&(u?.current||t(e))},l=e=>{"Escape"===e.key&&(u?.current||t(e))};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",l)}},[r,t,u]);let y=({reason:l})=>{c({event_type:101,component:15421,element:18071}),(0,lF.nP)("web.closeup.breadcrumbs.expanded.minimize",{tags:{reason:l}}),e()};return(0,w.jsx)("div",{ref:r,onMouseDownCapture:p,onTouchStartCapture:p,children:(0,w.jsxs)(b.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:m},"data-test-id":"breadcrumbs-expanded",direction:"column",display:"flex",elevation:"shadowFloating",justifyContent:"start",padding:5,rounding:500,children:[(0,w.jsxs)(b.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,w.jsx)(b.xe,{size:"400",weight:"bold",children:s.bt("Compare ideas", "Compare ideas", "breadcrumbs.expandedCompare ideas.compareIdeas", undefined, true)}),(0,w.jsx)(b.hU,{accessibilityLabel:s.bt("Close breadcrumbs", "Close breadcrumbs", "breadcrumbs.expanded.closeBreadcrumbs", undefined, true),icon:"close",iconColor:"default",onClick:()=>{y({reason:"button_click"})},size:"sm"})]}),(0,w.jsx)(b.xe,{color:"subtle",size:"300",children:(0,B.nk)(s.bt("Recently viewed {{ interestName }} ideas", "Recently viewed {{ interestName }} ideas", "breadcrumbs.expanded.recentlyViewedInterestIdeas", undefined, true),{interestName:a?.toLowerCase()}).join("")}),(0,w.jsx)(b.xu,{marginTop:2,children:(0,w.jsx)(b.kC,{gap:2,justifyContent:"between",maxWidth:"80vw",overflow:"auto",children:l.map((e,l)=>(0,w.jsx)(l3,{index:l,pinId:e.id},e.id))})})]})})}var l4=a(433069);let l5={backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.90)",animationDelay:"100ms",transitionDelay:"10ms",transitionDuration:".15s",transitionTimingFunction:"ease-out",transitionProperty:"transform, opacity, width",filter:"drop-shadow( 0px 0px 8px rgba(0,0,0,0.1))",shrink:0,transformOrigin:"left center",overflowX:"clip",overflowY:"visible"},l7={...l5,transform:"translateY(200px)",opacity:0},l9={...l5,transform:"translateY(0)",opacity:1,display:"flex",flexDirection:"row",alignItems:"center",gap:2,width:111,height:52},l8={...l9,width:260},ae={...l5,transform:"translateY(0)",opacity:1},al={border:"1px solid white",borderRadius:"16px",marginBottom:"-1px"};function aa({toggle:e,recentPins:l,shouldShow:a,showFirstTimeUI:n,isAnimatingOut:i,justifyContent:t="start"}){(0,k.useEffect)(()=>{(0,_.Z)("BreadCrumbsMinified","/app/common/react/components/BreadCrumbs/BreadCrumbsMinified.tsx")},[]);let[s,r]=(0,k.useState)(!0),{logContextEvent:o}=(0,eC.u)(),d=(0,k.useRef)(void 0),u=(0,k.useCallback)(()=>{r(!0),o({event_type:105,element:18069,component:15421})},[o]),c=(0,k.useCallback)(()=>{r(!1)},[]),p=(0,k.useMemo)(()=>l.slice(0,2),[l]),[g,m]=(0,k.useState)(!1),[y,h]=(0,k.useState)(void 0),f=(0,k.useRef)(null),S=(0,l4.b)(),P=(0,Z.Z)();(0,k.useLayoutEffect)(()=>{f.current&&h(f.current.scrollWidth+24)},[P]),(0,k.useEffect)(()=>{m(!0)},[S]);let x=(0,k.useCallback)(()=>{void 0!==d.current&&(window.clearTimeout(d.current),d.current=void 0)},[]),v=(0,k.useCallback)(()=>{x(),d.current=window.setTimeout(()=>{r(!0)},15e3)},[x]);(0,k.useEffect)(()=>{let e=()=>{v()},l=()=>{r(!1),v(),o({event_type:110,component:15421,element:18069})};return window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("touchstart",e,{passive:!0}),v(),()=>{window.removeEventListener("scroll",l),window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("touchstart",e),x()}},[v,x,o]),(0,k.useMemo)(()=>96,[]);let F=(0,k.useMemo)(()=>{if(i)return{...ae,opacity:1};if(!S)return s?l8:ae;let e=a?l9:l7;if(a&&s&&(e=l8),"end"===t){let l="translateX(0)";return e===l7?l=l7.transform:e!==l9&&e!==ae&&(l="translateY(0)"),{...e,transform:l,opacity:g&&a?1:0,display:"flex",justifyContent:"flex-end"}}return{...e,opacity:g&&a?1:0}},[a,S,g,i,s,t]),C=(0,k.useCallback)(()=>{o({event_type:101,component:15421,element:18069}),e()},[e,o]),T=(0,k.useCallback)(e=>{switch(e){case 0:return{...al,rotate:"-8deg",transform:"translateX(8px)"};case 1:return{...al,rotate:"8deg",transform:"translateX(-8px)"};default:return{...al}}},[]);return(0,w.jsx)(b.iP,{accessibilityLabel:P.bt("Recently viewed Pins", "Recently viewed Pins", "breadcrumbs.minified.recentlyViewedPins", undefined, true),onMouseEnter:u,onMouseLeave:c,onTap:C,rounding:500,tapStyle:"compress",children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:F},"data-test-id":"breadcrumbs-minified",direction:"column",display:"flex",elevation:"shadowFloating",height:52,justifyContent:"center",paddingX:3,paddingY:2,position:"relative",role:"button",rounding:400,width:s?y??232:111,children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{left:7}},left:!0,position:"absolute",children:(0,w.jsxs)(b.xu,{ref:f,alignItems:"center",display:"flex",children:[(0,w.jsx)(b.kC,{justifyContent:"between",children:p.map(({images:e,id:l},a)=>{let n=e["236x"],i=n?.url;return(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{...T(a),...i?{borderRadius:15,background:`url(${n?.url})`,backgroundSize:"cover",backgroundPosition:"center",boxShadow:"0 1.5px 6px 0 rgba(0, 0, 0, 0.20)"}:{}}},height:72,width:48,zIndex:new b.Ry(2-a)},l)})}),(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!s,transition:"opacity 0.3s ease-in"}},"data-test-id":"breadcrumbs-minified-label",marginStart:2,children:(0,w.jsx)(b.xe,{overflow:"noWrap",size:"300",weight:"bold",children:P.bt("Compare products", "Compare products", "breadcrumbs.expanded.compareProducts", undefined, true)})})]})})})})}function an({l2Interest:e,onOpenExpanded:l,onDismiss:a}){(0,k.useEffect)(()=>{(0,_.Z)("BreadCrumbsPopover","/app/common/react/components/BreadCrumbs/BreadCrumbsPopover.tsx")},[]);let n=(0,Z.Z)();return(0,w.jsx)(b.xu,{color:"default","data-test-id":"breadcrumbs-popover",elevation:"shadowFloating",height:"fit-content",padding:4,rounding:400,width:250,children:(0,w.jsxs)(b.kC,{alignItems:"end",direction:"column",gap:4,height:"100%",justifyContent:"between",children:[(0,w.jsxs)(b.kC,{alignItems:"start",direction:"row",gap:2,justifyContent:"between",children:[(0,w.jsx)(b.xe,{size:"300",children:(0,B.nk)(n.bt("Looking for the perfect {{ interestName }}?", "Looking for the perfect {{ interestName }}?", "breadcrumbs.popover.title", undefined, true),{interestName:e?.toLowerCase()}).join("")}),(0,w.jsx)(b.hU,{accessibilityLabel:n.bt("Dismiss", "Dismiss", "breadcrumbs.popover.dismissButton", undefined, true),icon:"close",onClick:a,size:"sm"})]}),(0,w.jsx)(b.zx,{color:"primary",onClick:l,size:"md",text:n.bt("Compare ideas", "Compare ideas", "breadcrumbs.popoverCompare ideas.compareIdeas", undefined, true)})]})})}var ai=a(4533),at=a(34550);function as(e){return!!e&&"object"==typeof e&&"string"==typeof e.l2Interest&&"number"==typeof e.encounteredAt&&(null===e.dismissedAt||"number"==typeof e.dismissedAt)}var ar=a(676879);function ao({l2Interest:e,pinId:l,enabled:a=!0}){let n=(0,k.useMemo)(()=>a&&e?{url:"/v3/users/me/recent/engaged/pin/stories/",params:{pin_preview_count:5,l2_interest:e,fields:"pin.description,pin.id,pin.images[236x]"},enabledRouteRefresh:!0,noCache:!0}:null,[a,e]),{data:i,refresh:t,isFetching:s,isLoaded:r}=(0,ar.Z)(n);return{recentPins:(0,k.useMemo)(()=>{if(!i||!Array.isArray(i))return[];let e=i?.find(e=>"user_recently_viewed_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))||[],a=i?.find(e=>"user_recently_saved_pins"===e.story_type)?.objects?.map(({id:e,images:l,description:a})=>({images:l,id:e,label:a,url:`/pin/${e}`}))?.filter(l=>!e.some(e=>e.id===l.id))||[];return[...e,...a].filter(e=>e.id!==l).slice(0,4)},[i,l]),refresh:t,isFetching:s,isLoaded:r}}var ad=a(890678),au=a(500602);function ac({l2Interest:e,pinId:l,justifyContent:a="start",minifiedVariant:n="default"}){(0,k.useEffect)(()=>{(0,_.Z)("BreadCrumbs","/app/common/react/components/BreadCrumbs/BreadCrumbs.tsx")},[]);let[i,t]=(0,k.useState)(!1),[s,r]=(0,k.useState)(!1),[o,d]=(0,k.useState)(!1),[u,c]=(0,k.useState)(!1),{popoverDismissed:p,setPopoverDismissed:g,handlePopoverDismiss:m}=function({l2Interest:e}){let[l,a]=(0,k.useState)(()=>{if(!e)return!0;let l=null;try{l=(0,at.M0)().getItem(ai.GT)||null}catch{(0,lF.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}return!!(l&&as(l))&&l.l2Interest===e&&null!==l.dismissedAt});(0,k.useEffect)(()=>{if(!e)return;let n=null;try{n=(0,at.M0)().getItem(ai.GT)||null}catch{(0,lF.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"getItem"}})}if(n&&as(n)&&n.l2Interest===e){let e=null!==n.dismissedAt;e!==l&&a(e);return}let i={l2Interest:e,encounteredAt:Date.now(),dismissedAt:null};try{(0,at.M0)().setItem(ai.GT,i)}catch{(0,lF.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}!1!==l&&(a(!1),(0,lF.nP)("web.closeup.breadcrumbs.popover.resurfaced",{tags:{l2_interest:e}}))},[e,l]);let n=(0,k.useCallback)(()=>{a(!0),(0,lF.nP)("web.closeup.breadcrumbs.popover.dismissed",{tags:{l2_interest:e}});try{let l=(0,at.M0)().getItem(ai.GT)||null,a=as(l)?{...l,dismissedAt:Date.now()}:{l2Interest:e||"",encounteredAt:Date.now(),dismissedAt:Date.now()};(0,at.M0)().setItem(ai.GT,a)}catch{(0,lF.nP)("web.closeup.breadcrumbs.localStorage_errors",{tags:{operation:"setItem"}})}},[e]);return{popoverDismissed:l,setPopoverDismissed:a,handlePopoverDismiss:n}}({l2Interest:e}),y=(0,k.useRef)(null),{logContextEvent:h}=(0,eC.u)(),{experience:f}=(0,ls.Ow)(12),{checkExperiment:S}=(0,eY.Z)(),P=S("closeup_dweb_breadcrumbs_by_vertical",{dangerouslySkipActivation:!0});(0,e2.Z)(()=>{let e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)}),(0,e2.Z)(()=>{h({event_type:120,component:15421}),f?.experience_id===507740&&c(!0)});let{recentPins:x,refresh:v,isFetching:F,isLoaded:C}=ao({l2Interest:e,pinId:l,enabled:P.anyEnabled});(0,k.useEffect)(()=>{v()},[l,v]),(0,k.useEffect)(()=>{(0,lF.nP)(`web.closeup.breadcrumbs.displayed_pins.${x.length}`,{sampleRate:.1})},[x.length]);let T=(0,k.useCallback)(()=>{c(!1),i?(d(!0),setTimeout(()=>{t(!1),d(!1),"popover"===n&&g(!1)},300)):t(!0)},[i,n,g]),K=(0,k.useMemo)(()=>({toggle:T,recentPins:x,shouldShow:s,l2Interest:e||"",isAnimatingOut:o,showFirstTimeUI:u,justifyContent:a}),[T,x,s,e,o,u,a]);if(!e)return(0,lF.nP)("web.closeup.breadcrumbs.render.null",{tags:{reason:"no_l2_interest",variant:P.group},sampleRate:.1}),null;if(!S("closeup_dweb_breadcrumbs_by_vertical").anyEnabled)return null;if(x.length<3)return(0,lF.nP)("web.closeup.breadcrumbs.render.null",{tags:{reason:"insufficient_pins",variant:P.group,l2_interest:e},sampleRate:.1}),null;if(F||!C)return null;function I({id:e}){return(0,ad.Z)(e?{name:"PinResource",options:{id:e,field_set_key:"detailed"}}:null),null}return(0,lF.nP)("web.closeup.breadcrumbs.render.non_null",{tags:{variant:P.group,l2_interest:e},sampleRate:.1}),(0,w.jsx)(eK.Z,{name:"BreadCrumbs",children:(0,w.jsxs)(eL.Z,{children:[(0,w.jsxs)(b.xu,{position:"relative",children:[(0,w.jsx)(I,{id:x[0]?.id}),(0,w.jsx)(I,{id:x[1]?.id}),(0,w.jsx)(I,{id:x[2]?.id}),(0,w.jsx)(I,{id:x[3]?.id}),(!i||o)&&("popover"===n?(0,w.jsx)(b.xu,{ref:y,bottom:!0,left:!0,position:"absolute",children:"end"===a?(0,w.jsx)(b.xu,{position:"relative",width:111,children:(0,w.jsx)(b.xu,{bottom:!0,position:"absolute",right:!0,children:!p&&(0,w.jsx)(an,{l2Interest:e,onDismiss:m,onOpenExpanded:T})})}):!p&&(0,w.jsx)(an,{l2Interest:e,onDismiss:m,onOpenExpanded:T})}):(0,w.jsx)(b.xu,{ref:y,bottom:!0,left:!0,position:"absolute",children:"end"===a?(0,w.jsx)(b.xu,{position:"relative",width:111,children:(0,w.jsx)(b.xu,{bottom:!0,position:"absolute",right:!0,children:(0,w.jsx)(aa,{...K})})}):(0,w.jsx)(aa,{...K})})),(i||o)&&(0,w.jsxs)(k.Fragment,{children:["start"===a&&(0,w.jsx)(b.xu,{bottom:!0,left:!0,position:"absolute",zIndex:new b.Ry(1),children:(0,w.jsx)(l6,{...K})}),"end"===a&&(0,w.jsx)(b.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transform:"translateX(111px)"}},position:"absolute",right:!0,children:(0,w.jsx)(l6,{...K})}),"center"===a&&(0,w.jsx)(b.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{left:"50%",transform:"translateX(calc(-50% + 116px))"}},position:"absolute",zIndex:new b.Ry(1),children:(0,w.jsx)(l6,{...K})})]})]}),(0,w.jsx)(b.mh,{zIndex:au.pS,children:(0,w.jsx)(ls.N,{anchors:{3022:y.current},idealDirection:"up",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})})]})})}var ap=a(806513),ag=a(564650),am=a(830031),ay=a(23641),ah=a(730448),a_=a(330572),ak=a(49254),af=a(59111),aS=a(225564),aP=a(606248);function ax({pin:e}){(0,k.useEffect)(()=>{(0,_.Z)("CompareEntrypoint","/app/www/pages/compare/components/CompareEntrypoint.tsx")},[]);let l=(0,S.s0)(),[a,n]=(0,k.useState)(!1),[i,t]=(0,k.useState)(!1);(0,k.useEffect)(()=>{t(!0)},[]);let s=e?.l2_dominant_interest?.label,{recentPins:r,refresh:o}=ao({l2Interest:s,pinId:e?.id});(0,k.useEffect)(()=>{o()},[e?.id,o]);let d=(0,k.useMemo)(()=>{if(!e)return[];let l=function(e){if(!e?.id)return null;let l=(0,aP.kD)(e,"236x");if(!l)return null;let a=e.images?.["236x"],n={"236x":{url:l,height:a?.height||0,width:a?.width||0}};return{id:e.id,url:`/pin/${e.id}`,label:e.description||e.title||"",images:n}}(e);return l?[l,...r]:[]},[e,r]);(0,e2.Z)(()=>{let e=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(e)}),(0,e2.Z)(()=>{(0,lF.nP)("closeup.dweb.comparison_page.entrypoint_rendered")});let u=(0,k.useCallback)(()=>{e?.id&&((0,lF.nP)("closeup.dweb.comparison_page.entrypoint_clicked",{tags:{pointer_type:"mouse"}}),l(`/comparison/select/${e.id}`,{replace:!0}))},[e?.id,l]);if(d.length<2||!s)return null;let c={transform:i&&a?"translateY(0)":"translateY(200px)",opacity:i&&a?1:0,transition:`transform 800ms ${aS.qR}, opacity 800ms ease-out`};return(0,w.jsxs)(k.Fragment,{children:[(0,w.jsx)(af.Z,{unsafeCSS:`
          .compare-entrypoint-wrapper {
            will-change: transform;
          }
        `}),(0,w.jsx)("div",{className:"compare-entrypoint-wrapper",style:c,children:(0,w.jsx)(aa,{justifyContent:"start",l2Interest:s||"",recentPins:d,shouldShow:a,toggle:u})})]})}var av=a(74195);function ab({pin:e,pinResource:l,topLevelTrafficSource:a,firstLoadComplete:n,relatedModulesContent:i,onWrapperClick:t,beforeBodyContent:s,afterBodyContent:r,isVideoPin:o,bodyContent:d,backButton:u}){(0,k.useEffect)(()=>{(0,_.Z)("CloseupContent","/app/common/react/components/auth-desktop-web-closeup/CloseupContent.tsx")},[]);let c=(0,am.A)(),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m}=(0,$.x4)(),{mainImage:y}=(0,j.G)(),{sideBySideRedesignFastFollowsEnabled:h}=(0,ex.Z)(),f=(0,ak.t)(),S=(0,av.Z)(),{isAuth:P}=(0,lr.Z)(),{checkExperiment:x}=(0,eY.Z)(),[v,F]=(0,k.useState)(!1),[T,K]=(0,k.useState)(!1),I=x("closeup_dweb_breadcrumbs_by_vertical",{dangerouslySkipActivation:!0}),L="start";"enabled_middle"===I.group?L="center":("enabled_right"===I.group||"enabled_popover"===I.group)&&(L="end");let A="enabled_popover"===I.group?"popover":"default",R=(0,C.Z)({showProductDetailPage:!!e.is_eligible_for_pdp}),{anyEnabled:E}=(({skipExpActivation:e=!1}={})=>{let{checkExperiment:l}=(0,eY.Z)(),a=(0,lQ.HG)(),{isAuthenticated:n}=(0,ew.B)();return n&&a?l("closeup_dweb_comparison_page",e?{dangerouslySkipActivation:!0}:{}):{anyEnabled:!1,group:""}})();(0,k.useEffect)(()=>{let e=setTimeout(()=>{F(!0)},1e3);return()=>clearTimeout(e)},[]),(0,k.useEffect)(()=>{if(E&&(0,ag.Z)(e)&&e?.id){let e=setTimeout(()=>{K(!0)},1e3);return()=>clearTimeout(e)}},[E,e]),(0,e2.Z)(()=>{e.l2_dominant_interest?(0,lF.nP)("web.closeup.breadcrumbs.has_vertical.yes"):(0,lF.nP)("web.closeup.breadcrumbs.has_vertical.no")});let{error:D}=l,{story_pin_data_id:M}=e||{},[Z,B]=(0,k.useState)(p||!o);(0,k.useEffect)(()=>{let e=Z?void 0:setTimeout(()=>B(!0),1e3*!p);return()=>clearTimeout(e)},[p,Z]);let{isEligibleForStaticImageIdeaPin:N}=(0,eX.Z)(e.story_pin_data_id),V=(0,k.useRef)(null),z=(0,k.useRef)(null),[O,U]=(0,k.useState)(void 0),H=ap.yF+ap.oX,G=Math.floor((O??1)/H),W=H*G-ap.oX,X=(0,k.useCallback)(()=>{V.current&&z.current&&U(window.innerWidth)},[]);(0,lb.Z)(()=>{window&&(0,lF.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:h,isStoryPin:!!M,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),g&&X()},V),(0,e2.Z)(()=>{window&&(0,lF.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:h,isStoryPin:!!M,isVideoPin:o,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,k.useEffect)(()=>{g&&X()},[X,g]);let[Y,q]=(0,k.useState)(!1);(0,k.useEffect)(()=>{let e=(0,ah.Z)(function(){y&&window&&(window.scrollY>y.height?q(!0):q(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[y]);let{maxWidth:Q}=(0,ef.Re)();if(0===Object.keys(e).length&&D)return(0,w.jsx)(a_.Z,{});let J=!!M&&!N,ee=Z&&i,el=(0,em.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),ea=(0,w.jsx)("div",{ref:z,className:"Closeup Module","data-test-id":n?"closeup-data-loaded":"",onClick:e=>{!P&&(J||t(e),(0,ay.sX)("closefakemodal"),c&&c?.abort("closefakemodal"))},role:"presentation",style:{cursor:P?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:Q,margin:g?"0 auto":void 0},children:(0,w.jsxs)(b.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[g?(0,w.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[u,s]}):(0,w.jsx)(k.Fragment,{children:s}),d,r]})},"closeup-content");return(0,w.jsxs)(b.xu,{ref:V,width:"100%",children:[(0,w.jsxs)(b.kC,{direction:p?"row":"column",justifyContent:"center",children:[!p&&ea,p&&!R&&(u||s)&&(0,w.jsx)(b.xu,{alignItems:"center","data-test-id":n?"closeup-data-loaded":"",direction:"column",display:"flex",marginStart:4,children:(0,w.jsxs)(b.Le,{top:f,children:[u,(0,w.jsx)(b.xu,{"aria-hidden":Y,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:100*!Y,children:s})]})}),(0,w.jsx)(b.kC.Item,{flex:"grow",children:(0,w.jsxs)(b.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:p&&!R?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:4*!p,width:"100%",children:[g&&W&&"lg"!==m&&(0,w.jsx)(b.kC.Item,{alignSelf:"center",children:(0,w.jsx)(li.Z,{id:"ShoppingModule",children:(0,w.jsx)(e1.Z,{moduleWidth:W,pinKey:{type:"Legacy",data:e},trafficSource:a,viewParameter:el})})}),R&&(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${S+24}px`,marginTop:`${f+8}px`}},left:!0,position:"fixed",top:!0,zIndex:new b.Ry(1),children:u}),ee]})})]}),v&&(0,w.jsx)(b.Le,{bottom:R?40:64,children:(0,w.jsx)(b.kC,{alignItems:"stretch",justifyContent:L,width:"100%",children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{transform:"start"===L?void 0:`translateX(-${"center"===L?116:111}px)`}},paddingX:8,children:(0,w.jsx)(li.Z,{id:"BreadCrumbs",children:(0,w.jsx)(ac,{justifyContent:L,l2Interest:e.l2_dominant_interest?.label,minifiedVariant:A,pinId:e.id})})})})}),E&&(0,w.jsx)(k.Activity,{mode:T?"visible":"hidden",children:(0,w.jsx)(b.Le,{bottom:0,children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{bottom:"24px",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}},position:"absolute",children:(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:(0,w.jsx)(ax,{pin:e})})})})})]})}var aF=a(300704),aC=a(272598),aT=a(81342),aK=a(664300);let aI=({abortNoActionPlacementTimeout:e,extraContext:l,placementId:a})=>{(0,k.useEffect)(()=>{(0,_.Z)("ExperiencesAfterNoAction","/app/packages/experiences/Framework/ExperiencesAfterNoAction.tsx")},[]);let n=(0,ls.cO)();return!function(e,l){let a=(0,k.useRef)(0),n=(0,k.useRef)(e);(0,k.useEffect)(()=>{n.current=e},[e]),(0,k.useEffect)(()=>{if("number"==typeof l)return a.current=window.setTimeout(()=>n.current(),l),()=>window.clearTimeout(a.current)},[l])}(()=>{n("NoAction",l)},e?null:4e3),(0,w.jsx)(aT.Z,{placementId:a})};var aw=a(112658);let aL=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,597151)),{ssr:!1},e=>597151,"ExperienceHeroCommon",e=>[]),aA=function({abortNoActionPlacementTimeout:e,classProps:l,classState:a,commerceData:n,showCloseupContentRight:i,showProductDetailPage:t,paneWidth:s,maxWidth:r,descriptionPaneWidth:o,handleCarouselSwipe:d,handleFocus:u,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:y,setIsMediaViewerOpen:h,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:f,handleBackButtonClick:S,closeupContent:P,isCommentAttachmentSelectorOpen:x,isCommentComposerFocused:v,isCommentPopoverInteractionActive:b,isCommentThreadExpanded:F,isCloseupMediaViewerOpen:C,isMediaViewerOpen:T,isProductDetailsExpanded:K,isShoppingModuleExpanded:I,closeupWithinMasonryEnabled:L,peekCloseupEnabled:A,setAbortNoActionPlacementTimeout:R,clientTrackingParams:E,calculatedImageHeight:D,setCalculatedImageHeight:M}){let{pin:Z,pinId:B}=l,{visualState:{carouselData:N,mainImage:V,previewImage:z},viewportSize:U}=a,H=!T&&!C&&!x&&!L,G=(0,k.useMemo)(()=>({showCloseupContentRight:i,showProductDetailPage:t,viewportSize:U,paneWidth:s,maxWidth:r,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:x,isCommentComposerFocused:v,isCommentPopoverInteractionActive:b,isCommentThreadExpanded:F,isCloseupMediaViewerOpen:C,isMediaViewerOpen:T,isProductDetailsExpanded:K,isShoppingModuleExpanded:I,setIsCommentAttachmentSelectorOpen:c,setIsCommentComposerFocused:p,setIsCommentPopoverInteractionActive:g,setIsCommentThreadExpanded:m,setIsCloseupMediaViewerOpen:y,setIsMediaViewerOpen:h,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:f,closeupWithinMasonryEnabled:L,peekCloseupEnabled:A,setAbortNoActionPlacementTimeout:R,clientTrackingParams:E,calculatedImageHeight:D,setCalculatedImageHeight:M}),[D,E,L,o,C,x,v,b,F,T,K,I,r,s,A,R,M,y,c,p,g,m,h,_,f,i,t,U]),W=(0,k.useMemo)(()=>({mainImage:V,previewImage:z,carouselInfo:N&&{carouselData:N,handleCarouselSwipe:d,viewType:C?675:3,componentType:Z.is_eligible_for_pdp?14186:85,viewParameter:(0,em.Z)({hasPin:!0,hasPinRichMetadata:!!Z.rich_metadata,hasPinRichMetadataProducts:!!Z.rich_metadata?.products,hasPinRichMetadataArticle:!!Z.rich_metadata?.article,hasPinRichMetadataRecipe:!!Z.rich_metadata?.recipe,hasPinStoryPinData:!!Z.story_pin_data})}}),[N,d,C,V,Z.is_eligible_for_pdp,Z.rich_metadata,Z.story_pin_data,z]);return(0,w.jsx)($.bq,{value:G,children:(0,w.jsxs)(j.A,{overrideValue:W,pinKey:{type:"Legacy",data:Z},children:[(0,w.jsx)(aT.Z,{placementId:1000141}),(0,w.jsx)(aT.Z,{placementId:1000499}),(0,w.jsx)(aK.Z,{placementId:1000140}),(0,w.jsx)(aI,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:B,is_promoted:Z.is_promoted},placementId:1000564}),(0,w.jsx)(ls.iH,{placementId:12}),(0,w.jsx)(ls.b9,{placementId:12}),(0,w.jsx)(ls.nj,{placementId:12}),(0,w.jsx)(ls._f,{placementId:12}),(0,w.jsx)(aC.Z,{placementId:12}),(0,w.jsx)(aw.Z,{auxData:n,clientTrackingParams:E,objectId:B,view:3,viewParameter:(0,O.Z)(l)?(0,em.Z)({hasPin:!!Z,hasPinRichMetadata:!!Z.rich_metadata,hasPinRichMetadataProducts:!!Z.rich_metadata?.products,hasPinRichMetadataArticle:!!Z.rich_metadata?.article,hasPinRichMetadataRecipe:!!Z.rich_metadata?.recipe,hasPinStoryPinData:!!Z.story_pin_data}):void 0,children:(0,w.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:u,children:[(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,w.jsx)(aL,{placementId:12})}),(0,w.jsx)(ls.O9,{placementId:12}),P,H&&(0,w.jsx)(aF.Z,{onClose:S}),(0,w.jsx)(ls.RK,{placementId:12})]})})]})})};var aR=a(861494);function aE(){(0,k.useEffect)(()=>{(0,_.Z)("CloseupEndOfFilteredFeed","/app/common/react/components/auth-desktop-web-closeup/CloseupEndOfFilteredFeed.tsx")},[]);let e=(0,Z.Z)();return(0,w.jsxs)(b.xu,{paddingY:16,children:[(0,w.jsxs)(b.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,w.jsx)(b.xe,{align:"center",size:"400",weight:"bold",children:e.bt("You've reached the end", "You've reached the end", "closeup.filteredFeed.enfOfFeed.title", undefined, true)}),(0,w.jsx)(b.xe,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.enfOfFeed.actionOne", undefined, true)})]}),(0,w.jsx)(aR.Z,{})]})}function aj(){(0,k.useEffect)(()=>{(0,_.Z)("CloseupFilteredFeedNoResultsFound","/app/common/react/components/auth-desktop-web-closeup/CloseupFilteredFeedNoResultsFound.tsx")},[]);let e=(0,Z.Z)();return(0,w.jsx)(b.xu,{paddingY:16,children:(0,w.jsxs)(b.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,w.jsx)(b.xe,{align:"center",size:"400",weight:"bold",children:e.bt("No results found", "No results found", "closeup.filteredFeed.noResultsFound.title", undefined, true)}),(0,w.jsx)(b.xe,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.noResultsFound.actionOne", undefined, true)}),(0,w.jsx)(aR.Z,{})]})})}var aD=a(881714);let aM={cursor:"auto"},aZ=e=>{e.stopPropagation()};function aB({className:e,children:l}){return(0,k.useEffect)(()=>{(0,_.Z)("FakeModalPageContent","/app/common/react/components/auth-desktop-web-closeup/FakeModalPageContent.tsx")},[]),(0,w.jsx)("div",{className:e,onClick:aZ,role:"presentation",style:aM,children:l})}let aN=["closeup_module","shopping_module","inclusive_filters_module"];function aV(e){return e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&aN.includes(e.type)).length}function az(e){if(!e)return"";let[l,a]=e.split(":");return l&&a?l.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[a]}}):l.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[a]}}):l.includes("body_type_range")?JSON.stringify({12:{tab_option_selections:[a]}}):"":""}var aO=a(879205),aU=a(156907),aH=a(2171),aG=a(405897);function aW({isFromBackButton:e,referringSource:l,relatedModulesRef:a}){!e&&a?.current&&l===aG.i.SHOPPING_FILTER&&setTimeout(()=>{a.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}var a$=a(645008),aX=a(319226),aY=a(748336),aq=a(523614);function aQ({coverImages:e,height:l,isHovered:a,onClick:n,onMouseEnter:i,onMouseLeave:t,textType:s,text:r,url:o,width:d,dataTestId:u}){(0,k.useEffect)(()=>{(0,_.Z)("ActionBubble","/app/www/discover/Bubbles/ActionBubble.tsx")},[]);let c=e&&(e["236x"]||e["280x280"]);return(0,w.jsx)(aq.Z,{backgroundColor:"gray",coverImage:c,height:l,isHovered:a,onClick:n,onMouseEnter:i,onMouseLeave:t,url:o,width:d,children:(0,w.jsx)(b.xu,{alignItems:"center","data-test-id":u,display:"flex",height:l,justifyContent:"center",padding:3,position:"absolute",top:!0,width:d||"100%",children:"text"===s?(0,w.jsx)(b.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,w.jsx)(b.qd,{align:"center",color:"light",size:"600",children:r})}):(0,w.jsx)(b.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,w.jsx)(b.xv,{align:"center",weight:"bold",children:r})})})})}function aJ({data:e}){(0,k.useEffect)(()=>{(0,_.Z)("ShoppingStoryTemplates","/app/common/react/components/shopping/templates/ShoppingStoryTemplates.tsx")},[]);let{action:l,container_type:a,objects:n,title:i}=e||{},{format:t}=i??{},{text:s,url:r,user:o={}}=l??{},{image_large_url:d,full_name:u,avatar_color_index:c}=o,{images:p}=n?.find(e=>"pin"===e.type)||{},g=null,m=(0,aY.Z)({url:r})?"nofollow":"none";return 81===a&&(g=(0,w.jsxs)(b.kC,{direction:"column",gap:{row:0,column:2},children:[(0,w.jsxs)(b.xu,{position:"relative",children:[(0,w.jsx)(aQ,{coverImages:p??void 0,height:ap.yF,text:t??"",textType:"text",url:r??""}),o.imageUrl&&(0,w.jsx)(b.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,w.jsx)(aX.qE,{color:c||void 0,name:u||"",outline:!0,size:"md",src:d??""})})]}),(0,w.jsx)(b.ZP,{fullWidth:!0,href:r??"",rel:m,size:"lg",text:s??""})]})),g}let a0=[81,"UPSELL_PACKAGE_SQUARE"];var a1=a(779057),a3=a(953994),a2=a(261954),a6=a(64627),a4=a(171556),a5=a(149238),a7=a(906127),a9=a(629972),a8=a(529211),ne=a(551474),nl=a(341687),na=a(548782),nn=a(261926),ni=a(645479),nt=a(496516);let ns=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,922931)),void 0,e=>922931,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule",e=>[]);function nr(e){return"columnSpan"in e?e.columnSpan:"story"===e.type?e.display_options?.content_display?.grid_layout?.cols??1:1}let no=(void 0!==u||(u=a(238047)).hash&&"e14ca1f7206af247fd92152e908713dc"!==u.hash&&console.error("The definition of 'AuthDesktopWebCloseupRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),nd=({closeupBody:e,surface:l="RelatedPinGrid",clientTrackingParams:a,isFilteredFeed:n,lfvExperiences:i,relatedPinsResource:t,setHasRelatedPins:s,i18n:r,closeupWithinMasonryEnabled:o,logContextEvent:d,relatedPinsInRow:u,pin:c,relatedPinsContainerRef:p,topLevelTrafficSource:g,viewParameter:m,relatedModulesStopwatch:y})=>{let h,{checkExperiment:_}=(0,eY.Z)(),f=(0,nt.Z)(_,"related_pins"),[P,x]=(0,k.useState)(t.auxData?.grid_layout?.w_h_ratio),[v,F]=(0,k.useState)(!0),C=(0,k.useRef)(null),T=(0,k.useRef)(null),K=(0,aH.Z)(),I=(0,k.useMemo)(()=>(t.data||[]).filter(e=>"pin"!==e.type&&[nn.Mq.SKIN,nn.Mq.HAIR,nn.Mq.BODY].includes(e.story_type??"")).find(e=>(0,a6.HM)(e.story_type??"")),[t]),{closeupMasonryModules:L,hasShoppingModule:A,inclusiveFilters:R}=(0,aO.ZP)({pinId:c.entityId,inclusiveModuleToCache:I,showProductDetailPage:!1}),E=R?(0,a6.oV)(R.story_type??""):"",{inInclusiveEfficientRefinements:j}=(0,aU.Z)(E),{search:D}=(0,S.TH)(),M=az(new URLSearchParams(D).get("filters")??""),Z=o&&j&&M,B=(0,eu.Z)(Z?{name:"ApiResource",options:{url:`/v3/pins/${c.entityId}/related/pins/filter/`,data:{fields:a$.Z,related_pins_tabs_selections:M}}}:null),N=Z?B:t,{isAtEnd:V,fetchMore:z,data:O,isFetching:U,nextBookmark:H}=N;(0,e2.Z)(()=>{d({event_type:13,view_parameter:m,view_type:3,component:86,clientTrackingParams:a})}),(0,k.useEffect)(()=>{!P&&N.auxData?.grid_layout?.w_h_ratio&&(x(N.auxData.grid_layout.w_h_ratio),C.current=window)},[o,P,N]);let G=`relatedPins:${c.entityId}`,W=(0,k.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),$=(O&&O?.findIndex(e=>"pin"===e.type))??0,X=(O||[]).slice($).filter(e=>"pin"===e.type||!W.includes(e?.story_type??"")),Y=(0,k.useMemo)(()=>[...o?L:[],...X||[]],[o,L,X]),q=(0,k.useMemo)(()=>(O||[]).slice($).filter(e=>"pin"===e.type||!W.includes(e?.story_type??"")),[O,$,W]),Q=(0,k.useMemo)(()=>{let e=[];return o&&e.push(...L),e.push(...q),e},[L,o,q]),J=K?Q:Y,ee=j&&A&&!!R,el=(0,k.useMemo)(()=>({pin_id:c.entityId}),[c.entityId]),ea=(0,k.useMemo)(()=>aV(J),[J]),en=({data:a,itemIdx:n})=>{let t,s=(0,em.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),r=n-ea;if(ee&&("shopping_module"===a.type||"inclusive_filters_module"===a.type))"shopping_module"===a.type&&(t=(0,w.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,w.jsx)(e1.Z,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:s}),R?.story_type&&E&&(0,w.jsx)(b.xu,{marginTop:2,children:(0,w.jsx)(aD.default,{filter:E,pinId:c.entityId,story:R,viewParameter:s})})]}));else switch(a.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,w.jsx)(e1.Z,{moduleWidth:"100%",pinKey:c,trafficSource:g,viewParameter:s});break;case"inclusive_filters_module":E&&(t=(0,w.jsx)(aD.default,{filter:E,pinId:c.entityId,story:R,viewParameter:s}));break;case"story":switch((0,lF.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:a.story_type||"unknown",surface:"closeup"}}),a.story_type){case"BUBBLE_ONE_COL":t=(0,w.jsx)(na.default,{bubbles:a.objects,id:a.id??"",referringSource:a.referring_source,slotIndex:r,storyType:a.story_type,title:a.title,viewParameter:s,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,w.jsx)(a1.default,{itemIdx:r,story:a,viewParameter:s,viewType:3});break;default:t=null}a.container_type&&(a0.includes(a.container_type)?t=(0,w.jsx)(aJ,{data:a}):(0,ne.Z)(a.container_type)&&(t=(0,w.jsx)(ns,{initialSlotIndex:r,story:a,storyKey:{type:"Legacy",data:a},styleOverrides:{showModuleBorder:(()=>{let e=nr(a);return"number"!=typeof e||e>1})()},view:3,viewParameter:s})));break;default:{let e=(0,a5.Z)(i),n=(0,w.jsx)(lJ.Z,{componentType:13007,duploQueryRef:null,imageOnlyOption:e?"image-only":"default",pinId:a.id,pinImageCrop:P?{height:a8.zX*P,width:a8.zX}:null,slotIndex:r,surface:l,trackingParams:a?.tracking_params,viewData:K?el:{pin_id:c.entityId},viewParameter:s,viewType:3});t=f?(0,w.jsx)(ni.Z,{children:n}):n}}return(0,w.jsx)(aB,{children:t})},ei=N.data?N.data.length:0;(0,k.useEffect)(()=>{s(0!==ei)},[ei,s]);let et=(0,k.useRef)(!0),es=(0,k.useRef)(0),er=()=>{es.current=performance.now()};(0,k.useEffect)(()=>{et.current&&(v||(y?.abort(),et.current=!1),0!==ei&&(V&&(y?.stop(),et.current=!1),es.current>0&&(y?.stop(es.current),et.current=!1)))},[v,V,y,y?.isTiming,ei]);let eo=(n||!!Z)&&H===a9.qx,ed=(0,a3.Z)({isHiddenPin:c?.isHidden,isUnsafePin:c?.isUnsafe}),ec=!!(o&&(1===J.length||A&&2===J.length)),ep=(0,k.useMemo)(()=>o?(0,aO.fz)(j):void 0,[o,j]);return K?h=ep:o&&(h=(0,aO.fz)(!!j)),(0,w.jsx)(a4.Z,{onVisibilityChange:e=>{F(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,w.jsx)(b.xu,{ref:e,children:(0,w.jsx)(b.xu,{ref:p,children:(0,w.jsx)(aw.Z,{clientTrackingParams:a,component:86,viewParameter:(0,em.Z)({hasPin:!!c,hasPinRichMetadata:!!c.richMetadata,hasPinRichMetadataProducts:!!c.richMetadata?.products,hasPinRichMetadataArticle:!!c.richMetadata?.article,hasPinRichMetadataRecipe:!!c.richMetadata?.recipe,hasPinStoryPinData:!!c.storyPinData}),children:(0,w.jsxs)(k.Fragment,{children:[(0,w.jsx)(a7.Z,{isAtEndOfFeed:V,isPlaceholderGrid:U&&(!J.length||ec),itemCount:J.length,stopwatchContext:y,stopwatchSetVisuallyCompleteResult:er,children:(0,w.jsx)(a2.default,{_getResponsiveModuleConfigForSecondItem:h,align:o?"center":void 0,cacheKey:G,getColumnSpanConfig:o?nr:void 0,isFetching:U,isGridCentered:u,isLoadedAccessibilityLabel:J.length>0?r.bt("Loaded more related product results", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):r.bt("Loaded related products result", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:J.length>0?r.bt("Loading more related products results", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):r.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.loading", undefined, true),isLoadingStateEnabled:ed,items:J,layout:"basic",loadItems:z,masonryRef:T,minCols:o?2:void 0,renderItem:en,scrollContainerRef:C,serverRender:!0,virtualize:aO.o1})}),eo&&ei>0&&(0,w.jsx)(aE,{}),eo&&0===ei&&(0,w.jsx)(aj,{})]})})})})})};function nu({pinKey:e,relatedModulesRef:l,...a}){(0,k.useEffect)(()=>{(0,_.Z)("AuthDesktopWebCloseupRelatedPins","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseupRelatedPins.tsx")},[]);let n=(0,Z.Z)(),i=(0,lt.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:s}=(0,$.x4)(),r=(0,S.TH)(),o=(0,S.ur)(),d=(0,T.Z)(no,e),u=(0,nl.Z)(r.search).rs,c="POP"===o;return(0,k.useEffect)(()=>{aW({isFromBackButton:c,referringSource:u,relatedModulesRef:l})},[c,r,u,l]),(0,w.jsx)(nd,{...a,clientTrackingParams:t,closeupWithinMasonryEnabled:s,i18n:n,logContextEvent:i,pin:d,relatedPinsInRow:s})}let nc=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,881714)),void 0,e=>881714,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters",e=>[]),np=(0,eZ.Z)(()=>a.e("59330").then(a.bind(a,422923)),void 0,e=>422923,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration",e=>["59330"]),ng=(0,eZ.Z)(()=>a.e("94502").then(a.bind(a,147493)),void 0,e=>147493,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader",e=>["94502"]),nm=(void 0!==c||(c=a(841592)).hash&&"971b4142368a9c9c2539396c3d46601d"!==c.hash&&console.error("The definition of 'CloseupRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),ny=(0,k.forwardRef)(({clientTrackingParams:e,pinKey:l,searchQuery:a,setRelatedPinsHeaderRef:n,slotIndex:i,story:t,trafficSource:s,viewParameter:r,viewportSize:o},d)=>{let u=(0,T.Z)(nm,l),{closeupWithinMasonryEnabled:c}=(0,$.x4)();if(!t)return null;let{story_type:p}=t,g=(0,a6.oV)(p);return"related_products_collage"===p?(0,w.jsx)(b.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,w.jsx)(np,{pinKey:u,searchQuery:a,slotIndex:i,storyKey:{type:"Legacy",data:t},trafficSource:s,viewParameter:r,viewportSize:o})}):(0,a6.HM)(p)&&g?!c&&(0,w.jsx)(b.xu,{alignSelf:"center",children:(0,w.jsx)(nc,{filter:g,pinId:u.entityId,story:t,viewParameter:r})}):"related_modules_header"===p?(0,w.jsx)(b.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,w.jsx)(ng,{ref:d,clientTrackingParams:e,slotIndex:i,storyId:t.id,storyType:p,title:t.title?.format,viewParameter:r})}):null});var nh=a(427052),n_=a(309266),nk=a(484807);let nf=new Set([...ef.aW,"related_domain_carousel","related_products_collage",nn.Mq.SKIN,nn.Mq.HAIR,nn.Mq.BODY]),nS=(void 0!==p||(p=a(581948)).hash&&"6e9df46eeb81bd3bc9e029d3803080bf"!==p.hash&&console.error("The definition of 'CloseupRelatedModulesContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function nP({clientTrackingParams:e,closeupBody:l,isVideoPin:a,isYoutubePin:n,pinKey:i,relatedResourceOptions:t,searchQuery:s,relatedPinsContainerRef:r,setRelatedPinsHeaderRef:o,topLevelTrafficSource:d,trafficSource:u,viewParameter:c,viewportSize:p,relatedModulesStopwatch:g}){let{closeupWithinMasonryEnabled:m}=(0,$.x4)(),[y,h]=(0,k.useState)(!a),{checkExperiment:_}=(0,eY.Z)(),{search:f}=(0,S.TH)(),P=new URLSearchParams(f).get("utm_source"),x=(0,eu.Z)(y&&"ads_manager"!==P?t:null),v=(0,n_.Z)(),F=(0,k.useRef)(null),C=(0,k.useCallback)(e=>{e&&(F.current=e)},[]),[K,I]=(0,k.useState)(!0);(0,k.useEffect)(()=>{let e=y?void 0:setTimeout(()=>h(!0),m&&(a||n&&"enabled_delay"===_("web_closeup_youtube_player").group)?1e3:0);return()=>clearTimeout(e)},[m,a,y,_,n]);let L=(0,T.Z)(nS,i);return(0,w.jsx)(nk.Z,{metricName:"RelatedModulesFeed",children:(0,w.jsxs)(b.xu,{ref:C,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[K&&(x.data||[]).filter(e=>"story_type"in e&&null!=e.story_type&&nf.has(e.story_type)).map((l,a)=>(0,w.jsx)(b.xu,{"data-test-id":`related-module-${l.id}`,direction:"column",display:"flex",children:(0,w.jsx)(ny,{ref:F,clientTrackingParams:e,pinKey:L,searchQuery:s,setRelatedPinsHeaderRef:o,slotIndex:a,story:l,trafficSource:u,viewParameter:c,viewportSize:p})},`related-module-${l.id}`)),(0,w.jsx)(nu,{closeupBody:l,lfvExperiences:v,pinKey:L,relatedModulesRef:F,relatedModulesStopwatch:g,relatedPinsContainerRef:r,relatedPinsResource:x,setHasRelatedPins:I,topLevelTrafficSource:d,viewParameter:c})]})})}function nx(e){(0,k.useEffect)(()=>{(0,_.Z)("CloseupRelatedModulesContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/CloseupRelatedModulesContainer.tsx")},[]);let l=(0,l4.b)(),a=(0,nh.B6)(l?"related_feed_pageload":"related_feed");return(0,e2.Z)(()=>{a?.start()}),(0,w.jsx)(nP,{...e,relatedModulesStopwatch:a})}let nv=["236x","474x","564x","736x"];function nb({carouselData:e,images:l,product:a,shouldUnifyImageSizes:n}){return e?.carousel_slots?.length?e:a?.additional_images?.length?function(e,l,a,n,i){let t=[...e?[{images:e}]:[],...(l??[]).map(({canonical_images:e,image_signature:l})=>({images:e||void 0,image_signature:l||void 0}))];return{carousel_slots:n?function(e){function l(e,{imageKey:l,height:a,width:n}){return e.images&&e.images[l]&&(e={...e,images:{...e.images,[l]:{...e.images[l],height:a,width:n}}}),e}let a=nv.map(function(l){let a=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[l]&&e.images[l].width||1/0));return{imageKey:l,height:a,width:n}});return e.map(e=>a.reduce(l,e))}(t):t,index:a||0,id:i}}(l,a.additional_images,e?.index,n,a.id):e||void 0}var nF=a(296339);let nC=e=>{let{url:l,width:a,height:n}=e||{};return l&&a&&n?{url:l,width:a,height:n}:void 0};function nT(e){let{pin:l,pinId:a,pinResource:n}=e,i=(0,k.useMemo)(()=>l,[l]),t=(0,k.useMemo)(()=>({pinKey:{type:"Legacy",data:i}}),[i]),{mainPinImage:s}=(0,nF.Z)(t);return(0,k.useMemo)(()=>(e=>{let l={...e.pin,...e.pinResource.data},a=nb({carouselData:l.carousel_data,images:l.images,product:(l.rich_metadata||l.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:l,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!l.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:a&&{...a,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:nC(l.images?.["236x"])},v1DeprecationModalDismissed:!1}})({pin:i,pinId:a,pinResource:n,mainImage:s}),[s,i,a,n])}let nK=(0,ls.RL)(12,(e,l)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:l.didLongClickThrough||!1,did_pin_clickthrough:l.didPinClickThrough||!1,did_repin:l.didRepin||!1,is_own_or_group_pin:l.is_own_or_group_pin||!1,login_page_type:l.loginPageType||"unknown",scroll_to_threshold:l.scrollToThreshold,pin_image_signature:l.pin_image_signature,is_creator_card_shown:!!function({hasOfficialUser:e,domain:l,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:n,hasNativeCreator:i,hasThirdPartyPinOwner:t,isPromoted:s,pinnerDomainUrl:r,pinnerDomainVerified:o}){return(n||a||t||e||o&&r===l)&&!s||!!i}({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}));var nI=a(81221),nw=a(201363),nL=a(200301),nA=a(64471),nR=a(47755),nE=a(176714),nj=a(856853),nD=a(651263),nM=a(643773),nZ=a(35169),nB=a(736328),nN=a(439048),nV=a(577356),nz=a(366863),nO=a(417525),nU=a(358198);let nH=(void 0!==g||(g=a(25337)).hash&&"efee9cd30f69b524ed9920746ed65ceb"!==g.hash&&console.error("The definition of 'useHandleBackButtonClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g);function nG({logCommerceAuxData:e,deepLinkBackGoesToBoard:l,element:a,goBack:n,pinKey:i,routePush:t,trafficSource:s,viewer:r,requestContext:o,viewType:d,viewParameterType:u,componentType:c},p){let g=(0,T.Z)(nH,i),m=(0,I.Z)(g),y=r.isAuth&&r.partner;return{onHandleBackButtonClick:(0,k.useCallback)(()=>{let i=g.promotedLeadForm?.leadId,r=e?m():null;g.promotedIsLeadAd?(p({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:g.entityId,aux_data:{...r,lead_form_id:i,is_lead_ad:1}}),p({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:g.entityId,aux_data:{lead_form_id:i,is_lead_ad:1}})):p({aux_data:r,event_type:101,view_type:d||3,view_parameter:u||(0,em.Z)({hasPin:!0,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData}),...c?{component:c}:void 0,element:a||34});let h="deep_linking"===s&&!l,{utm_source:_,news_hub_id:k}=function(e){let l=e.searchParams;return{utm_source:l.get("utm_source")??"",utm_medium:l.get("utm_medium")??"",utm_campaign:l.get("utm_campaign")??"",news_hub_id:l.get("news_hub_id")??""}}(new URL(o.fullPath,o.origin));return"31"==`${_}`&&k?t(`/news_hub/${k}`):h?t(y?"/homefeed/":"/"):n()},[c,l,a,m,n,e,p,g.entityId,g.promotedIsLeadAd,g.promotedLeadForm?.leadId,g.richMetadata,g.storyPinData,o.fullPath,o.origin,t,s,u,d,y])}}var nW=a(271875),n$=a(490515);function nX({conversation_id:e,senderId:l,pinId:a}){(0,nR.Z)({url:"/v3/conversations/{conversation}/message/mark_seen/",urlParams:{conversation:e},method:"POST",data:{sender:l,pin:a}})}function nY(e){(0,k.useEffect)(()=>{(0,_.Z)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let{clientTrackingParams:l,closeupWithinMasonryEnabled:a=!1,conversation_id:n,conversationOpen:i,didRepin:t,getStringifiedCommerceAuxData:s,isEligibleForStaticImageIdeaPin:r,isLandingPage:o,logContextEvent:d,onHandleBackButtonClick:u,openInbox:c,orbacActingAs:p,peekCloseupEnabled:g=!1,pin:m,pinDerivedData:y,pinId:h,pinResource:f,relatedPinsContainerRef:S,senderId:P,setAbortNoActionPlacementTimeout:x,setIsCommentThreadExpanded:v,setMostRecentPinId:b,setMostRecentPinImage:F,setPlacementExtraContext:C,shouldShowInbox:T,storyPinTaggedProductsResource:K,verticalNavWidth:I,viewer:L}=e,{pin:A,shopping:R,visualState:E,isCloseupMaximized:j=!1,isCommentSectionOpen:D=!1,didShortClickThrough:M=!1,didPinClickThrough:Z=!1,firstLoadComplete:B=!1,intervalId:N,viewportSize:V="lg",isOverRelatedPins:z=!1}=e.initialState||{},[U,H]=(0,k.useState)(A),[G,W]=(0,k.useState)(E),[$,X]=(0,k.useState)(j),[Y,q]=(0,k.useState)(D),[Q,J]=(0,k.useState)(M),[ee,el]=(0,k.useState)(Z),[ea,en]=(0,k.useState)(B),[ei,et]=(0,k.useState)(N),[es,er]=(0,k.useState)(V),[eo,ed]=(0,k.useState)(z),eu=(0,k.useRef)(!1),ec=(0,k.useRef)(!1),ep=(0,k.useRef)(0),ey=(0,k.useRef)(null),eh=(0,k.useRef)(null),e_=(0,nz.Z)(h),ek=(0,nz.Z)(t),eS=(0,nz.Z)(o),eP=(0,k.useCallback)(e=>{ey.current=e},[]),ex=(0,k.useCallback)(e=>{eh.current=e},[]),ev=(0,k.useCallback)(()=>{if(!ec.current)return;let{BREAKPOINT:e,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:n}=(0,ef.le)({verticalNavWidth:I}),i=a?l:n,t="lg";"undefined"!=typeof window&&window.innerWidth<e&&(t=window.innerWidth<i?"sm":"md"),er(t)},[a,I]),eb=(0,k.useMemo)(()=>(0,ah.Z)(ev,50),[ev]),eF=(0,k.useCallback)(()=>{clearInterval(ei),C&&C({didLongClickThrough:!0})},[ei,C]),{pinFormattedLink:eC,trafficSource:eT,isCloseupMediaViewerOpen:eK}=e,eI=(0,k.useCallback)(e=>{let a=!!m?.story_pin_data_id&&r,{wasImageClicked:n,auxData:i,componentType:t=a?228:4,elementType:o=n?35:a?11157:361,viewType:u=eK?675:3}=e||{},c=(0,em.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),p={...s?.(),...i||{},is_promoted:m?.is_promoted};L?.isAuth&&!ee&&C&&(C({didPinClickThrough:!0}),el(!0)),a&&d?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:m?.id,url:eC}}),d?.({event_type:101,object_id_str:h,component:t,element:o,clientTrackingParams:l,aux_data:{...s?.(),...i||{}}}),d?.({event_type:12,object_id_str:h,view_type:u,view_parameter:c,component:t,element:o,aux_data:{...p,...(0,nM.Z)(m.link_utm_applicable_and_replaced)},clientTrackingParams:l}),d?.({event_type:8948,view_type:u,view_parameter:c,component:t,element:o,object_id_str:h,clientTrackingParams:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:eT&&(0,eg.sV)(eT)?"deeplink":"click",...s?.(),...i||{}}}),n&&et(window.setInterval(eF,12e4)),ep.current=Date.now(),Q&&J(!1),x(!0)},[eC,L,eT,d,s,r,eK,m,ee,C,h,l,Q,x,eF]),ew=(0,k.useCallback)(()=>{clearInterval(ei),C&&C({didLongClickThrough:!1})},[ei,C]),eL=(0,k.useCallback)(()=>{ep.current>0&&(J(Date.now()-ep.current<5e3),ep.current=0)},[]),eA=(0,k.useCallback)(()=>{d?.({event_type:101,object_id_str:U?.id,component:4,element:0,clientTrackingParams:l,aux_data:{...s?.()}}),x(!0)},[d,U?.id,l,s,x]),eR=(0,k.useCallback)(()=>{u()},[u]),eD=(0,k.useCallback)(e=>{ea&&W(l=>({...l,carouselData:{...l.carouselData||{},index:e}}))},[ea]),eM=(0,k.useMemo)(()=>(0,ah.Z)(()=>{if(!eh.current)return;let e=e6.hu,l=(eh.current?.getBoundingClientRect().top??0)<=e;ed(e=>!!l||e&&l),!l&&eo&&ed(!1)},10),[eo]),eZ=(0,k.useCallback)(e=>{X(!e),ey&&(ey.ariaHidden=!e)},[X]),eB=(0,k.useCallback)(e=>{e.stopPropagation(),eR()},[eR]),eN=(0,k.useCallback)(e=>{q(!!e),v?.(!!e),e&&d?.({component:13464,element:11981,event_type:10554,view_type:3})},[d,v]),eV=(0,k.useCallback)(()=>{let l=m?.board||{},a=e.viewer,n=l.is_collaborative&&(0,nw.Z)(l?.collaborated_by_me,l?.owner?.id,a);return!!(a.isAuth&&m?.pinner?.id===a.id||n)},[m?.board,m?.pinner?.id,e.viewer]),ez=(0,k.useCallback)(()=>{let l,{mainImage:a}=e;if(!ea)return;let n=nb({carouselData:m?.carousel_data,images:m?.images,product:m?.rich_metadata?.products?.[0]||m?.rich_summary?.products?.[0]}),i=(n?.carousel_slots||[])[0]||{},t=(0,nL.Z)(i.images),s=G.carouselData,r=G.mainImage||{url:""},o=s?.index||0;l=n&&(n.carousel_slots?.length||0)>1?{mainImage:a,carouselData:{...n,index:o},previewImage:nC(m?.images?.["236x"])}:t?.url?{mainImage:{url:t.url,height:t.height||1,width:t.width||1}}:{mainImage:a,previewImage:nC(m?.images?.["236x"])};let d=l.carouselData?.id,u=s?.id,c=l.carouselData?.carousel_slots,p=s?.carousel_slots,g=l.mainImage?.url??"",y=r.url??"";(u!==d||JSON.stringify(p)!==JSON.stringify(c)||y!==g)&&W(l)},[m,e,ea,G]),{addCloseup:eO,getTrackedNearDupSigs:eU}=(0,nU.WW)()||{};(0,k.useEffect)(()=>{let{didRepin:l,isLandingPage:a,pinResource:{data:i},pwtSurfaceContext:t}=e;ez(),ea&&!eu.current&&(t?.removeConstraint?.("thumbnailsLoaded"),(0,ay.l7)("thumbnailsLoaded"),eu.current=!0),i&&!ea&&(i.carousel_data&&(i.carousel_data.index=G.carouselData?.index||0),H(i),en(!0)),n&&P&&h&&e_!==h&&nX({conversation_id:n,senderId:P,pinId:h});let s={};((0,at.M0)().getItem(ai.W3)||"").includes(`/pin/${h}`)&&a&&(s.loginPageType="pin"),l&&(s.didRepin=!0),m?.image_signature&&(s.pin_image_signature=m.image_signature),s.is_own_or_group_pin=eV();let r=ek!==l||e.isLandingPage!==eS||e_!==h;!(0,nj.Z)(s)&&r&&C&&C({...s})},[h,P,n,e,ea,eu,G.carouselData,C,e_,ez,m.image_signature,eV,ek,eS]),(0,k.useEffect)(()=>{m.near_dup_sig&&eO&&eO(m.near_dup_sig)},[eO,m.near_dup_sig]),(0,e2.Z)(()=>(ec.current=!0,n&&P&&h&&nX({conversation_id:n,senderId:P,pinId:h}),n&&(i?.(n),T&&c?.()),m?.image_signature&&F?.(m.image_signature),h&&b?.(h),C&&C({is_own_or_group_pin:eV()}),ev(),window.addEventListener("resize",eb),window.addEventListener("focus",eL),window?.location?.search?.includes("invite_code=")&&(0,nE.Z)(),()=>{window.removeEventListener("resize",eb),window.removeEventListener("focus",eL),ec.current=!1}));let eH=ej.u6,eG=e.isCommentThreadExpanded||!1,{recommendation_reason:eW}=m,{contextPinIds:e$,experimentsClient:{checkExperiment:eX},landingContext:eY,searchQuery:eq,topLevelTrafficSource:eQ,topLevelTrafficSourceDepth:eJ}=e,e0={name:"RelatedModulesResource",options:{additional_fields:(0,k.useCallback)(()=>{let e=[],l=eX("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&eX("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==l&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[eX])(),pin_id:m.id||h,context_pin_ids:e$,context_near_dup_image_sigs:eU?eU(m.id||h):[],homefeed_source_sig:eW&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(eW.reason||"")&&eW.reason_id,page_size:12,search_query:eq,source:eT,top_level_source:eQ,top_level_source_depth:eJ,is_pdp:!1,landing_context:eY}},e1=(0,eE.q6)(L,m.pinner?.id,p),e3=(!!m.id||!!h)&&!e1||a,{data:e4}=K||{},{isLimitedLogin:e5,routePush:e7,showRepinOnInitialRender:e9,trendsData:e8,userBusinessRoleResource:le}=e,ll=(0,w.jsx)(lY,{clientTrackingParams:l,closeupWithinMasonryEnabled:a,didShortClickThrough:Q,executeClickthrough:eI,handleBackButtonClick:eR,handleCarouselSwipe:eD,handleCloseupBodyContainerRef:eP,handleIdeaCloseupCommentIconClick:eN,handleSaveClicked:eA,isCloseupMaximized:$,isEligibleForStaticImageIdeaPin:r,isLimitedLogin:e5,maxWidth:eH,onToggleIdeaPinCloseupPanel:eZ,peekCloseupEnabled:g,pin:m,pinDerivedData:y,pinResource:f,routePush:e7,shopping:R,showRepinOnInitialRender:e9,storyPinTaggedProducts:e4,trafficSource:eT,trendsData:e8,updateViewportSize:ev,userBusinessRoleResource:le,viewportSize:es}),la=(0,w.jsx)(nN.Z,{handleScroll:eM,onClick:eR,showShadow:eo}),ln=(0,w.jsx)(ab,{backButton:la,bodyContent:ll,firstLoadComplete:ea,isVideoPin:y.isVideoPin,onWrapperClick:eB,pin:m,pinResource:f,relatedModulesContent:e3?(0,w.jsx)(nh._m,{children:(0,w.jsx)(nh.IQ,{children:(0,w.jsx)(nx,{clientTrackingParams:l,closeupBody:ll,isVideoPin:y.isVideoPin,isYoutubePin:y.isYoutubePin,pinKey:{type:"Legacy",data:m},relatedPinsContainerRef:S,relatedResourceOptions:e0,searchQuery:eq,setRelatedPinsHeaderRef:ex,topLevelTrafficSource:eQ,trafficSource:eT,viewParameter:(0,em.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data}),viewportSize:es})})}):(0,w.jsx)(k.Fragment,{})}),{abortNoActionPlacementTimeout:li,calculatedImageHeight:lt,isCommentAttachmentSelectorOpen:ls,isCommentComposerFocused:lr,isCommentPopoverInteractionActive:lo,isMediaViewerOpen:ld,isShoppingModuleExpanded:lu,setCalculatedImageHeight:lc,setIsCloseupMediaViewerOpen:lp,setIsCommentAttachmentSelectorOpen:lg,setIsCommentComposerFocused:lm,setIsCommentPopoverInteractionActive:ly,setIsMediaViewerOpen:lh,setIsShoppingModuleExpanded:l_}=e;return(0,w.jsx)(aA,{abortNoActionPlacementTimeout:li,calculatedImageHeight:lt,classProps:e,classState:{...e.initialState,pin:U,shopping:R,visualState:G,isCloseupMaximized:$,isCommentSectionOpen:Y,didShortClickThrough:Q,didPinClickThrough:ee,firstLoadComplete:ea,intervalId:ei,viewportSize:es,isOverRelatedPins:eo},clientTrackingParams:l,closeupContent:ln,closeupWithinMasonryEnabled:a,descriptionPaneWidth:eH-ej.Gg-4*!!a,handleBackButtonClick:eR,handleCarouselSwipe:eD,handleFocus:ew,isCloseupMediaViewerOpen:eK,isCommentAttachmentSelectorOpen:ls,isCommentComposerFocused:lr,isCommentPopoverInteractionActive:lo,isCommentThreadExpanded:eG,isMediaViewerOpen:ld,isShoppingModuleExpanded:lu,maxWidth:eH,paneWidth:ej.Gg,peekCloseupEnabled:g,setAbortNoActionPlacementTimeout:x,setCalculatedImageHeight:lc,setIsCloseupMediaViewerOpen:lp,setIsCommentAttachmentSelectorOpen:lg,setIsCommentComposerFocused:lm,setIsCommentPopoverInteractionActive:ly,setIsCommentThreadExpanded:v,setIsMediaViewerOpen:lh,setIsShoppingModuleExpanded:l_,showCloseupContentRight:!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:!!(0,lz.Z)((0,O.Z)({pin:m}))?.isWideVideo,viewportSize:es,peekCloseupEnabled:g}),showProductDetailPage:!1})}let nq=nK(function(e){var l;(0,k.useEffect)(()=>{(0,_.Z)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let{logContextEvent:a}=(0,eC.u)(),{pin:n,viewer:i,pinResource:t,pinId:s,goToCampaignCreation:r,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c}=e,p=(0,Z.Z)(),g=(0,eY.Z)(),m=(0,nB.Z)(),y=(0,ew.B)(),[h,f]=(0,k.useState)(!1),[P,b]=(0,k.useState)(!1),[F,C]=(0,k.useState)(!1),[T,K]=(0,k.useState)(!1),[L,A]=(0,k.useState)(!1),[R,E]=(0,k.useState)(!1),[j,D]=(0,k.useState)(!1),[M,B]=(0,k.useState)(0),[N,V]=(0,k.useState)(!1),z=(0,av.Z)(),O=(0,k.useRef)(null),{isRelatedPins10PercentVisible:U,setIsRelatedPins10PercentVisible:H}=(0,lk.K)();(0,k.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{H(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),l=O?.current;return O?.current&&e.observe(O?.current),()=>{l&&e.unobserve(l)}},[O,H]);let{setMostRecentPinId:G,setMostRecentPinImage:W}=(0,n$.R)(),$=(0,I.Z)({type:"Legacy",data:n}),X=(0,eg.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",{conversationOpen:Y}=(0,nW.Z)(),q=(0,lc.Z)(),Q=(0,nI.Z)(),J=(0,am.A)(),ee=(0,S.TH)(),el=(0,nV.dI)(),[ea,en]=(0,k.useState)(!1),{advertiser:ei}=y,et=(0,nO.F0)(ei,s),es=(0,nZ.Z)({type:"Legacy",data:n}),{landingContext:er}=(0,nD.Z)(),eo=(0,eE.lJ)(i,q),ed=(0,nA.Z)({pinKey:{type:"Legacy",data:n}}),{onHandleBackButtonClick:ec}=nG({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:o,goBack:d,routePush:u,trafficSource:c,viewer:i,requestContext:y,pinKey:{type:"Legacy",data:n}},a);(0,k.useEffect)(()=>{t.data&&!ea&&r&&en(!0)},[t.data,ea,r]);let ep=!!n,em=(0,k.useRef)(!1);ep&&J&&!em.current&&(J.addBinaryAnnotation("pinType",X,"STRING"),(0,ay.rt)("pinType",X,"STRING"),em.current=!0);let ey=n.sponsorship?.sponsor?.id,eh=!n.is_repin&&!!ey,e_=(0,eu.Z)(ey&&eh&&i.isAuth&&"storyPin"===X?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ey}/me/ad_accounts_permissions/`}}:null),ek=i.isAuth&&(l=i.country,!v.includes(l))&&(0,x.Gv)({orbacSubjectId:eo,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:i.id,viewerIsPartner:i.isPartner}),{data:ef,isLoaded:eS}=(0,eu.Z)(ek?{name:"ApiResource",options:{url:`/v3/trends/partner/${i.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eP}=(0,ex.Z)(),ev=(0,k.useMemo)(()=>({data:ef,isLoaded:!ek||eS}),[ef,eS,ek]),eb=!!n.story_pin_data_id,eF=nT({pin:n,pinId:s,pinResource:t}),{mainPinImage:eT}=(0,nF.Z)({pinKey:{type:"Legacy",data:n}});return ea?(window.location.assign(et),(0,w.jsx)(k.Fragment,{})):(0,w.jsx)(nY,{...e,abortNoActionPlacementTimeout:N,calculatedImageHeight:M,clientTrackingParams:ed,closeupWithinMasonryEnabled:eP,conversationOpen:Y,experimentsClient:g,getSterlingURL:Q,getStringifiedCommerceAuxData:$,i18n:p,initialState:eF,isCloseupMediaViewerOpen:L,isCommentAttachmentSelectorOpen:h,isCommentComposerFocused:P,isCommentPopoverInteractionActive:F,isCommentThreadExpanded:T,isEligibleForStaticImageIdeaPin:eb,isMediaViewerOpen:R,isRelatedPins10PercentVisible:U,isShoppingModuleExpanded:j,landingContext:er,location:ee,logContextEvent:a,mainImage:eT,onHandleBackButtonClick:ec,orbacActingAs:q,peekCloseupEnabled:!eP,pinFormattedLink:es,pwtSurfaceContext:J,relatedPinsContainerRef:O,requestContext:y,setAbortNoActionPlacementTimeout:V,setCalculatedImageHeight:B,setIsCloseupMediaViewerOpen:A,setIsCommentAttachmentSelectorOpen:f,setIsCommentComposerFocused:b,setIsCommentPopoverInteractionActive:C,setIsCommentThreadExpanded:K,setIsMediaViewerOpen:E,setIsShoppingModuleExpanded:D,setMostRecentPinId:G,setMostRecentPinImage:W,toastManager:el,trackInteraction:m,trendsData:ev,userBusinessRoleResource:e_,verticalNavWidth:z})});function nQ(e){(0,k.useEffect)(()=>{(0,_.Z)("AuthDesktopWebCloseup","/app/common/react/components/auth-desktop-web-closeup/AuthDesktopWebCloseup.tsx")},[]);let l=(0,eu.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,w.jsx)(nq,{...e,storyPinTaggedProductsResource:l})}var nJ=a(470880),n0=a(228612);function n1(e){let{previous:l}=(0,lo.ou)(),a=0===l.length,{children:n}=e,i=(0,S.TH)(),t=(0,lr.Z)(),s=(0,f.I0)(),{isBot:r}=(0,ew.B)(),{dropdownOpen:o}=(0,nW.Z)(),d=(0,n0.JC)(),u=!!d[e.pinId]&&(d[e.pinId].saved||!!d[e.pinId].savedInfo),c=d[e.pinId]||e.pinResource.data||{},p=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,g=c?.story_pin_data?.pages?.[0]?.blocks?.[0];p&&g&&!g?.video&&((c?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=p);let m="inbox"===(0,nl.Z)(i.search).tab;return n({isLandingPage:a,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:u,openInbox:o,pin:c,shouldShowInbox:m,updateExperienceForPlacement:e=>{s((0,nJ.pz)([e],r))}})}var n3=a(593748),n2=a(539422);let n6=`
      ::view-transition-group(image),
      ::view-transition-group(video) {
        animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
      }
      ::view-transition-old([view-transition-name="video"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="video"]) {
        animation: none;
      }
    `,n4=function({children:e}){return(0,w.jsxs)(k.Fragment,{children:[(0,w.jsx)(af.Z,{unsafeCSS:n6}),e]})};var n5=a(613465),n7=a(734473),n9=a(433100);let n8={display:"block",position:"relative",cursor:"auto"};var ie=a(148547),il=a(804748);function ia(e){(0,k.useEffect)(()=>{(0,_.Z)("ProductStickyContainer","/app/common/react/components/shopping/ProductDetailPage/ProductStickyContainer.tsx")},[]);let{disabled:l,height:a,top:n=0,zIndex:i}=e,t=(0,k.useRef)(null),s=(0,il.Z)();if(l)return e.children;let r=t.current?.getBoundingClientRect().top||0;return(0,w.jsx)(b.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,w.jsx)(b.Le,{height:a,top:s+n+r,zIndex:i,children:e.children})})}function ii({isStoryPin:e,isWideVideo:l,pin:a,trafficSource:n,viewParameterType:i,onClickThrough:t,showStructuredDescription:s,didShortClickThrough:r,goBack:o,isInStream:d=!1,isDeletedStoryPin:u,onSaveButtonClick:c,onUpdate:p,outerBodyStyle:g,routePush:m,showPartnerModule:y,showPinStats:h,showTrendsOnPinCloseup:f,showRepinOnInitialRender:S,trendsData:P,viewType:x}){(0,k.useEffect)(()=>{(0,_.Z)("ProductDetailPageBody","/app/common/react/components/ProductDetailPage/ProductDetailPageBody.tsx")},[]);let v=(0,k.useRef)(null),b=(0,k.useRef)(null),F=(0,k.useRef)(null),C=(0,lr.Z)(),{closeupWithinMasonryEnabled:T,clientTrackingParams:K}=(0,$.x4)(),{checkExperiment:I}=(0,eY.Z)(),L=(0,lc.Z)(),A=(0,eE.lJ)(C,L),R=e7(90),E=e9(),{isCloseupMediaViewerEnabled:j}=(0,la.Z)({isShufflePin:!!a?.shuffle}),D=(0,k.useCallback)(()=>{t&&t({componentType:129}),E.setClickthroughComponentForSurvey("legoMaybeLink")},[t,E]),[M,Z]=(0,k.useState)(!1),B=!!a.is_eligible_for_aggregated_comments,N=T&&B&&"enabled_dropdown"===I("ce_dweb_new_closeup_comment_module").group,V=T&&B&&"enabled_popover"===I("ce_dweb_new_closeup_comment_module").group,{setClickthroughComponentForSurvey:z,imageContainerRef:O}=E,{getViewParameter:U}=e_({type:"Legacy",data:a}),H=U(i),G=(0,k.useCallback)(()=>{t({wasImageClicked:!0})},[t]),W=ej.ER,X=(0,w.jsx)(li.Z,{id:"VisualContentContainer",children:(0,w.jsx)(ly,{handleImageClickThrough:G,imageContainerRef:O,isStoryPin:e,isWideVideo:l,onSaveButtonClick:c,pin:a,setClickthroughComponentForSurvey:z,trafficSource:n,viewParameter:H,viewParameterType:i,visualContentContainerRef:B?R.visualContentContainerRef:void 0})}),Y=(0,w.jsx)(li.Z,{id:"ProductStickyContainer-2",children:(0,w.jsx)(ia,{disabled:!1,top:-16,zIndex:lp.mS,children:X})}),q=s&&!j?Y:X,Q=(0,e$.Z)({pinKey:{type:"Legacy",data:a},orbacActingAs:L,viewer:C}),J=(0,w.jsx)(k.Fragment,{children:(0,w.jsx)(li.Z,{id:"ProductMetadata",children:(0,w.jsx)(ie.Z,{blendedUIScrollContainerRef:F,clientTrackingParams:K,detailsScrollContainerRef:v.current,inCommentsImprovedDropdownExp:N,inCommentsPopoverExp:V,isBoardOwnerOrCollaborator:Q,isLoadingNewlyCreatedComment:M,onClickThrough:t,outerPaddingSize:W,pinKey:{type:"Legacy",data:a},showPartnerModule:y,showPDPComments:B,showPinStats:h,showStructuredDescription:s,showTrendsOnPinCloseup:f,trendsData:P,viewParameter:H})})});return(0,w.jsx)(li.Z,{id:"CloseupBodyLayout",children:(0,w.jsx)(lE,{actionBarContainerRef:b,blendedUIScrollContainerRef:F,closeupActionBarMaxWidth:T?void 0:ej.CI,descriptionContentMaxHeight:B?R.descriptionContentMaxHeight:void 0,didShortClickThrough:r,disableLeadPin:!0,goBack:o,inCommentsImprovedDropdownExp:N,inCommentsPopoverExp:V,isCloseupMaximized:!1,isDeletedStoryPin:u,isEligibleForPinReactions:!a.is_promoted&&!a.is_downstream_promotion&&!u,isInStream:d,isStoryPin:e,isWideVideo:l,marginBottom:8*!T,metadata:J,metadataContainerRef:v,onClickThrough:D,onSaveButtonClick:c,onUpdate:p,orbacSubjectId:A,outerBodyStyle:g,outerPaddingSize:W,pin:a,routePush:m,setIsLoadingNewlyCreatedComment:Z,showPDPComments:B,showRepinOnInitialRender:S,trafficSource:n,viewer:C,viewParameter:H,viewType:x,visualContentContainer:q,visualContentContainerRef:B?R.visualContentContainerRef:void 0,webLinkSurveyState:E})})}let it=(0,eZ.Z)(()=>a.e("96615").then(a.bind(a,188604)),{ssr:!1},e=>188604,"CloseupPartnerModule",e=>["96615"]),is=(0,eZ.Z)(()=>a.e("54347").then(a.bind(a,416843)),{ssr:!1},e=>416843,"SponsorshipApprovalModule",e=>["54347"]),ir={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},io={boxShadow:void 0,borderRadius:16},id=({closeupWithinMasonryEnabled:e,didShortClickThrough:l,executeClickthrough:a,handleBackButtonClick:n,handleSaveButtonClick:i,isLimitedLogin:t,maxWidth:s,orbacActingAs:r,pin:o,pinResource:d,routePush:u,showRepinOnInitialRender:c,showStructuredDescription:p,trendsData:g,userBusinessRoleResource:m,trafficSource:y,viewer:h,viewportSize:f})=>{(0,k.useEffect)(()=>{(0,_.Z)("ProductDetailPageBodyContainer","/app/common/react/components/ProductDetailPage/ProductDetailPageBodyContainer.tsx")},[]);let{checkExperiment:S}=(0,eY.Z)(),{id:P,sponsorship:v,story_pin_data_id:F,story_pin_data:C}=o,T=!!F,K=!!C?.is_deleted,{creator:I,sponsor:L,status:A}=v||{},{username:R}=I||{},{username:E}=L||{},{refresh:j}=d,D=(0,eE.lJ)(h,r),{data:M}=m||{},Z=!o.is_repin&&!!E,B=E===h.username?[lZ.V3.OWNER]:M?.permissions,N=E===h.username||!!B?.find(e=>lB.includes(e)),V=E===h.username||!!B?.find(e=>lB.includes(e)),{isWideVideo:z}=(0,lz.Z)((0,O.Z)({pin:o}))||{},U=(0,lV.Z)({type:"Legacy",data:o},h,D),H=(0,x.CA)(g?.data),G=Z&&h.isAuth&&S("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(N&&0===A||V&&1===A),W=T&&(C?.pages?.length??0)>0,$=(0,lN.WE)(h,f,U,H,g,G),X=e?io:ir;return(0,w.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:T?{...n8,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,w.jsx)(k.Fragment,{children:(0,w.jsx)(li.Z,{id:"ResponsiveCloseupContainer",children:(0,w.jsx)(lU.Z,{isStoryPin:T,isWideVideo:z,children:(0,w.jsx)(eK.Z,{name:"CloseupBody",children:(0,w.jsxs)(b.xu,{children:[(0,w.jsxs)(b.xu,{alignItems:z?"center":void 0,direction:z?"column":void 0,display:z?"flex":void 0,children:[G&&"number"==typeof A&&(0,w.jsx)(b.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,w.jsx)(li.Z,{id:"SponsorshipApprovalModule",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(is,{business_role:B,creatorUsername:R??"",pinId:P,sponsorshipStatus:A})})})})}),$&&!e&&(0,w.jsx)(b.xu,{"data-test-id":"PartnerModule",width:"lg"===f&&z?s:"100%",children:(0,w.jsx)(eK.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,w.jsx)(li.Z,{id:"PartnerModule",children:(0,w.jsx)(eL.Z,{children:(0,w.jsx)(it,{borderStyle:X,isStoryPin:T,pinKey:{type:"Legacy",data:o},showPinStats:U,trendsData:H?g?.data?.results:null,viewportSize:f})})})})})]}),(0,w.jsx)(li.Z,{id:"ProductDetailPageBody",children:(0,w.jsx)(ii,{didShortClickThrough:l,goBack:n,isDeletedStoryPin:!!K,isStoryPin:T,isWideVideo:!!z,onClickThrough:a,onSaveButtonClick:i,onUpdate:j,outerBodyStyle:T?null:X,pin:o,routePush:u,showPartnerModule:$,showPinStats:U,showRepinOnInitialRender:!t&&c,showStructuredDescription:p,showTrendsOnPinCloseup:H,trafficSource:y,trendsData:g,viewParameterType:W?157:void 0,viewType:3})})]})})})})})})},iu=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,922931)),void 0,e=>922931,"StructuredFeedStoryModule",e=>[]),ic=(0,eZ.Z)(()=>a.e("44809").then(a.bind(a,697947)),void 0,e=>697947,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-DomainModule",e=>["44809"]),ip=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,881714)),void 0,e=>881714,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters",e=>[]),ig=(0,eZ.Z)(()=>a.e("94502").then(a.bind(a,147493)),void 0,e=>147493,"app-common-react-components-auth-desktop-web-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader",e=>["94502"]),im=(void 0!==m||(m=a(320226)).hash&&"fb9c133d2a86e090538a92171d6d3f63"!==m.hash&&console.error("The definition of 'ProductDetailPageRelatedModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),iy=(0,k.forwardRef)(({clientTrackingParams:e,pinKey:l,setRelatedPinsHeaderRef:a,slotIndex:n,story:i,topLevelTrafficSource:t,viewParameter:s,viewportSize:r},o)=>{let d=(0,T.Z)(im,l),{closeupWithinMasonryEnabled:u}=(0,$.x4)();if(!i)return null;let{container_type:c,story_type:p}=i,g=(0,a6.oV)(p);if((0,ne.Z)(c)){let e=88===c,l=90===c;return(0,w.jsx)(b.xu,{marginBottom:e||l?0:12,paddingX:12*!!l,children:(0,w.jsx)(iu,{componentFallback:13176,initialSlotIndex:n,story:i,storyKey:{type:"Legacy",data:i},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,a6.HM)(p)&&g?!u&&(0,w.jsx)(b.xu,{alignSelf:"center",children:(0,w.jsx)(ip,{filter:g,pinId:d.entityId,story:i,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(p)?(0,w.jsx)(b.xu,{ref:a,"data-test-id":"related-modules-header",children:(0,w.jsx)(ig,{ref:o,clientTrackingParams:e,slotIndex:n,storyId:i.id,storyType:p,title:i.title?.format,viewParameter:s})}):"related_domain_carousel"===p?(0,w.jsx)(b.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,w.jsx)(ic,{closeupImageSignature:d.imageSignature||"",data:i,slotIndex:n,storyId:i.id,storyType:p,topLevelTrafficSource:t,viewParameter:s,viewportSize:r})}):null});var ih=a(184865),i_=a(793747);let ik=(0,eZ.Z)(()=>Promise.resolve().then(a.bind(a,922931)),void 0,e=>922931,"app-packages-StructuredFeed-ModuleReps-utils-StructuredFeedStoryModule",e=>[]),iS=()=>(0,w.jsx)(k.Fragment,{children:Array(12).fill(void 0).map((e,l)=>(0,w.jsx)(b.xu,{marginEnd:4,width:ih.j},`empty-pin-${l}`))}),iP=(void 0!==y||(y=a(848258)).hash&&"86cb4963f4714e2184c01e13236c3616"!==y.hash&&console.error("The definition of 'ProductDetailPageRelatedPins_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y);function ix(e){return 154===e.container_type?2:e.columnSpan??e.display_options?.content_display?.grid_layout?.cols??1}function iv({surface:e="PdpRelatedPinGrid",closeupBody:l,closeupInclusiveFilters:a,isFetching:n=!1,pinKey:i,relatedPins:t,showResponsiveInclusiveFilters:s,topLevelTrafficSource:r}){(0,k.useEffect)(()=>{(0,_.Z)("ProductDetailPageRelatedPins","/app/common/react/components/ProductDetailPage/ProductDetailPageRelatedModules/ProductDetailPageRelatedPins.tsx")},[]);let o=(0,Z.Z)(),{closeupWithinMasonryEnabled:d}=(0,$.x4)(),u=(0,T.Z)(iP,i),c=(0,n_.Z)(),p=(0,k.useRef)(null),{checkExperiment:g}=(0,eY.Z)(),m=(0,nt.Z)(g,"related_pins"),y=(0,em.Z)({hasPin:!!u,hasPinRichMetadata:!!u.richMetadata,hasPinRichMetadataProducts:!!u.richMetadata?.products,hasPinRichMetadataArticle:!!u.richMetadata?.article,hasPinRichMetadataRecipe:!!u.richMetadata?.recipe,hasPinStoryPinData:!!u.storyPinData}),h=(0,k.useMemo)(()=>aV(t),[t]),f=({data:n,itemIdx:i})=>{let t=(0,a5.Z)(c),s=i-h,o=null;switch(n.type){case"closeup_module":o=l;break;case"shopping_module":o=(0,w.jsx)(e1.Z,{moduleWidth:"100%",pinKey:u,trafficSource:r,viewParameter:y});break;case"inclusive_filters_module":o=a;break;case"story":switch(154===n.container_type&&(o=(0,w.jsx)(i_.Z,{slotIndex:s,story:n,viewParameter:y,viewType:3})),n.story_type){case"BUBBLE_ONE_COL":o=(0,w.jsx)(na.default,{bubbles:n.objects,id:n.id,referringSource:n.referring_source,slotIndex:s,storyType:n.story_type,title:n.title,viewParameter:y,viewType:3});break;case"related_query_shop_upsell_closeup":o=(0,w.jsx)(a1.default,{itemIdx:s,story:n,viewParameter:y,viewType:3})}(0,ne.Z)(n.container_type)&&(o=(0,w.jsx)(ik,{initialSlotIndex:s,story:n,storyKey:{type:"Legacy",data:n},styleOverrides:{showModuleBorder:ix(n)>1},view:3,viewParameter:y}));break;default:let d=(0,w.jsx)(lJ.r,{componentType:13176,imageOnlyOption:t?"image-only":"default",pinId:n.id,pinKey:{type:"Legacy",data:n},slotIndex:s,surface:e,trackingParams:n.tracking_params,viewData:{pin_id:u.entityId},viewParameter:y,viewType:3});o=m?(0,w.jsx)(ni.Z,{children:d}):d}return(0,w.jsx)(aB,{children:o})},S={isLoadedAccessibilityLabel:t.length>0?o.bt("Loaded more related product results", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):o.bt("Loaded related products result", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:t.length>0?o.bt("Loading more related products results", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):o.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.loading", undefined, true)},P=d?(0,w.jsx)(a2.default,{_getResponsiveModuleConfigForSecondItem:(0,aO.fz)(!!s),align:"center",getColumnSpanConfig:ix,isFetching:n,isLoadingStateEnabled:!0,items:t,layout:"basic",masonryRef:p,minCols:2,renderItem:f,serverRender:!0,virtualize:aO.o1,...S}):(0,w.jsxs)(b.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,w.jsx)(a2.default,{getColumnSpanConfig:ix,isFetching:n,isLoadingStateEnabled:!0,items:t,renderItem:f,...S}),(0,w.jsx)(iS,{})]});return(0,w.jsx)(nk.Z,{metricName:"RelatedModulesFeed",children:(0,w.jsx)(aw.Z,{component:86,viewParameter:y,children:P})})}var ib=a(618003),iF=a(73910);let iC=(void 0!==h||(h=a(936888)).hash&&"85ae0703574c2bc161bc13206c3184f8"!==h.hash&&console.error("The definition of 'ProductDetailPageRelatedModules_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h),iT=(0,k.forwardRef)(({clientTrackingParams:e,closeupBody:l,excludeStories:a,initialSlotIndex:n=0,isFilteredFeed:i,pinKey:t,relatedModulesFeedResource:s,setRelatedPinsHeaderRef:r,topLevelTrafficSource:o,viewParameter:d,viewportSize:u},c)=>{let p=(0,T.Z)(iC,t),{search:g}=(0,S.TH)(),{closeupWithinMasonryEnabled:m}=(0,$.x4)(),y=az(new URLSearchParams(g).get("filters")??""),h=(0,k.useMemo)(()=>(s.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries","inclusive_onebar_pills_on_closeup"].includes(e?.story_type??"")).find(e=>(0,a6.HM)(e?.story_type??"")),[s]),{closeupMasonryModules:_,inclusiveFilters:f}=(0,aO.ZP)({pinId:p.entityId,inclusiveModuleToCache:h,showProductDetailPage:!0}),P=f?(0,a6.oV)(f.story_type??""):"",{inInclusiveEfficientRefinements:x}=(0,aU.Z)(P),v=m&&x&&y,F=(0,eu.Z)(v?{name:"ApiResource",options:{url:`/v3/pins/${p.entityId}/related/pins/filter/`,data:{fields:a$.Z,related_pins_tabs_selections:y}}}:null),{data:C,isAtEnd:K,isFetching:I,fetchMore:L,nextBookmark:A}=v?F:s,R=(0,k.useMemo)(()=>(C||[]).filter(e=>!(a&&"story"===e.type&&e.story_type&&a.includes(e.story_type))),[C,a]),E=i&&A===a9.qx,j=C?C.length:0,D=(0,k.useMemo)(()=>(0,iF.Z)(R),[R]),M=(0,k.useCallback)(e=>!!("pin"===e.type||"story"===e.type&&(ib.v8.has(e.story_type)||ib.AW.has(e.story_type)||154===e.container_type)),[]),Z=(0,S.ur)(),B=(0,k.useRef)(n),N=(0,nl.Z)(g).rs,V="POP"===Z;(0,k.useEffect)(()=>{aW({isFromBackButton:V,referringSource:N,relatedModulesRef:c})},[V,g,N,c]);let z=(0,k.useMemo)(()=>f&&P?(0,w.jsx)(aD.default,{filter:P,pinId:p.entityId,story:f,viewParameter:d}):null,[f,P,d,p.entityId]),{storyModules:O,allPins:U}=(0,k.useMemo)(()=>{let l=[],a=[..._],n=0;return D.length>0&&D.forEach((i,t)=>{0===t&&(B.current=0,n=0);let s=0;Array.isArray(i)?(s+=i.length,a.push(...i.filter(M))):"story"===i.type&&(s+="objects"in i&&Array.isArray(i.objects)?i.objects.length:1,l.push((0,w.jsx)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,w.jsx)(iy,{ref:c,clientTrackingParams:e,pinKey:p,setRelatedPinsHeaderRef:r,slotIndex:n,story:i,topLevelTrafficSource:o,viewParameter:d,viewportSize:u})},Array.isArray(i)?i[0]?.id:i.id))),B.current=n+=s}),{storyModules:l,allPins:a}},[_,D,M,e,p,r,o,d,u,c]);return(0,w.jsxs)(k.Fragment,{children:[O,(0,w.jsx)(li.Z,{id:"ProductDetailPageRelatedPins",children:(0,w.jsx)(iv,{closeupBody:l,closeupInclusiveFilters:z,initialSlotIndex:B.current,isFetching:I,pinKey:p,relatedPins:U,showResponsiveInclusiveFilters:x,surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:o})}),(0,w.jsx)(b.gr,{fetchMore:L,isAtEnd:K,isFetching:I}),E&&j>0&&(0,w.jsx)(aE,{}),E&&0===j&&(0,w.jsx)(aj,{})]})});function iK({relatedPinsContainerRef:e,relatedResourceOptions:l,viewParameter:a,...n}){(0,k.useEffect)(()=>{(0,_.Z)("ProductDetailPageRelatedModules","/app/common/react/components/ProductDetailPage/ProductDetailPageRelatedModules/ProductDetailPageRelatedModules.tsx")},[]);let{search:i}=(0,S.TH)(),t=new URLSearchParams(i).get("utm_source"),s=(0,eu.Z)("ads_manager"===t?null:l);return(0,w.jsx)(b.xu,{ref:e,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:(0,w.jsx)(li.Z,{id:"RelatedModulesFeed",children:(0,w.jsx)(iT,{...n,ref:e,excludeStories:[],initialSlotIndex:0,isFilteredFeed:!1,relatedModulesFeedResource:s,relatedResourceOptions:l,viewParameter:a})})})}var iI=a(671121),iw=a(319836),iL=a(220347),iA=a(410890),iR=a(241028);function iE({conversation_id:e,senderId:l,pinId:a}){(0,nR.Z)({url:"/v3/conversations/{conversation}/message/mark_seen/",urlParams:{conversation:e},method:"POST",data:{sender:l,pin:a}})}function ij(e){(0,k.useEffect)(()=>{(0,_.Z)("ProductDetailPage","/app/common/react/components/ProductDetailPage/ProductDetailPage.tsx")},[]);let{clientTrackingParams:l,closeupWithinMasonryEnabled:a,conversation_id:n,conversationOpen:i,didRepin:t,dispatch:s,goToCampaignCreation:r,i18n:o,initialState:d,isLandingPage:u,isLimitedLogin:c,logContextEvent:p,mainImage:g,onHandleBackButtonClick:m,openInbox:y,orbacActingAs:h,peekCloseupEnabled:f,pin:S,pinFormattedLink:P,pinId:x,pinResource:v,pwtSurfaceContext:F,requestContext:T,routePush:K,senderId:L,setAbortNoActionPlacementTimeout:A,setMostRecentPinId:R,setMostRecentPinImage:E,setPlacementExtraContext:j,shouldShowInbox:D,showRepinOnInitialRender:M,showStructuredDescription:Z,toastManager:B,trackInteraction:N,trafficSource:V,trendsData:z,userBusinessRoleResource:U,verticalNavWidth:H,viewer:G}=e,{visualState:W,didShortClickThrough:$=!1,isOverRelatedPins:X=!1,viewportSize:Y="lg",firstLoadComplete:q=!1,campaignCreationTriggered:Q=!1,intervalId:J}=d||{},ee=d?.didPinClickThrough||!1,[el,ea]=(0,k.useState)(W),[en,ei]=(0,k.useState)($),[et,es]=(0,k.useState)(Y),[er,eo]=(0,k.useState)(X),[ed,eu]=(0,k.useState)(q),[ec,ep]=(0,k.useState)(Q),[ey,eh]=(0,k.useState)(J),[e_,ek]=(0,k.useState)(ee),{addCloseup:ef,getTrackedNearDupSigs:eS}=(0,nU.WW)()||{},eP=(0,k.useCallback)(()=>{ea(e=>{let l=nb({carouselData:S.carousel_data,images:S.images,product:(S.rich_metadata||S.rich_summary)?.products?.[0]});return{...e,carouselData:l}})},[S]);(0,e2.Z)(()=>{let e=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:S.rich_summary});!el.carouselData&&(e?.has_multi_images||e?.videos?.length)&&eP()});let[ex,ev]=(0,k.useState)(!1),eb=(0,k.useRef)(!1),eF=(0,k.useRef)(null),eC=(0,k.useRef)(0),eT=(0,k.useMemo)(()=>{let e=(S||{}).board||{},l=e.is_collaborative&&(0,nw.Z)(e.collaborated_by_me,e.owner?.id,G);return!!(G.isAuth&&S.pinner?.id===G.id||l)},[S,G]),eK=(0,k.useCallback)(()=>{let{isWideVideo:e}=(0,lz.Z)((0,O.Z)({pin:S}))||{};eb.current&&es(function({isWideVideo:e,hasCarouselData:l,closeupWithinMasonryEnabled:a,verticalNavWidth:n}){let{BREAKPOINT:i,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:s,SM_BREAKPOINT:r,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=(({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}))({verticalNavWidth:n}),u=i,c=a?o:r;return(e&&(u=t),l&&(u=s,c=a?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!e,hasCarouselData:!!el?.carouselData,closeupWithinMasonryEnabled:a,verticalNavWidth:H}))},[a,S,H,el?.carouselData]),eI=(0,k.useCallback)(()=>{eC.current>0&&(ei(Date.now()-eC.current<5e3),eC.current=0)},[]);(0,e2.Z)(()=>{eb.current=!0,n&&L&&x&&iE({conversation_id:n,senderId:L,pinId:x}),n&&(i(n),D&&y()),S.image_signature&&E(S.image_signature),x&&R(x),j&&j({is_own_or_group_pin:eT});let e=(0,at.M0)().getItem(ai.M8)||"";return e&&e===x&&((0,at.M0)().removeItem(ai.M8),N({action:"trigger",item:"unauth-save-button-quicksave"}),(0,iI.Z)({description:S.description,entityId:S.id,link:S.link,promotedIsRemovable:S.promoted_is_removable,title:S.title},o).then(e=>{let{id:l,url:a,name:n}=e;s((0,iR.d)({boardId:l,url:a,title:n||"",pinId:x,nodeId:S.node_id})),B.showToast(({hideToast:l})=>(0,w.jsx)(iA.Z,{boardName:e.name,boardUrl:e.url,onHide:l,pinImageUrl:S.images?.["236x"]?.url??""}))})),eK(),window.addEventListener("resize",eK),window.addEventListener("focus",eI),window?.location?.search?.includes("invite_code=")&&(0,nE.Z)(),()=>{window.removeEventListener("resize",eK),window.removeEventListener("focus",eI),eb.current=!1}});let ew=(0,k.useCallback)(()=>{let{advertiser:e}=T,l=(0,nO.F0)(e,x);ep(!0),window.location.assign(l)},[x,T]),eL=(0,k.useCallback)((e,l)=>{let a={visualState:el,didShortClickThrough:en,didPinClickThrough:e_,isOverRelatedPins:er,firstLoadComplete:ed,campaignCreationTriggered:ec,intervalId:ey,viewportSize:et,backButtonLabelFitInScreen:!1,closeupBodyContainerHeight:0,closeupContainerHeight:0},n=function(e,l){switch(l.type){case"gallerySelect":return{shopping:l.select};case"pinLoaded":{let a=e.myTry?{}:{myTry:{isDoneByMe:l.pin.done_by_me}};return{pin:l.pin,...a,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:l.isDoneByMe}};default:throw"impossible"}}(a,e);n.visualState!==a.visualState&&n.visualState&&ea(n.visualState),n.didShortClickThrough!==a.didShortClickThrough&&n.didShortClickThrough&&ei(n.didShortClickThrough),n.didPinClickThrough!==a.didPinClickThrough&&n.didPinClickThrough&&ek(n.didPinClickThrough),n.isOverRelatedPins!==a.isOverRelatedPins&&n.isOverRelatedPins&&eo(n.isOverRelatedPins),n.firstLoadComplete!==a.firstLoadComplete&&n.firstLoadComplete&&eu(n.firstLoadComplete),n.campaignCreationTriggered!==a.campaignCreationTriggered&&n.campaignCreationTriggered&&ep(n.campaignCreationTriggered),n.intervalId!==a.intervalId&&eh(n.intervalId),n.viewportSize!==a.viewportSize&&n.viewportSize&&es(n.viewportSize),l&&l()},[el,en,e_,er,ed,ec,ey,et]),eA=(0,k.useCallback)(()=>{let e;if(!ed)return;let l=nb({carouselData:S.carousel_data,images:S.images,product:(S.rich_metadata||S.rich_summary)?.products?.[0]}),a=(l?.carousel_slots||[])[0]||{},n=(0,nL.Z)(a.images),i=el.carouselData,t=el.mainImage||{url:""},s=i?.index||0;e=l&&(l.carousel_slots?.length||0)>1?{mainImage:g,carouselData:{...l,index:s},previewImage:nC(S.images?.["236x"])}:n?.url?{mainImage:{url:n.url,height:n.height||1,width:n.width||1}}:{mainImage:g,previewImage:nC(S.images?.["236x"])},(i?.id!==e.carouselData?.id||JSON.stringify(i?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||t.url!==e.mainImage.url)&&(ea(e),eK())},[ed,S.carousel_data,S.images,S.rich_metadata,S.rich_summary,el.carouselData,el.mainImage,g,eK]),eR=(0,k.useCallback)(()=>{let{carouselData:e}=el;return function({viewportSize:e,hasCarouselData:l}){return l&&["lg","md"].includes(e)}({viewportSize:et,hasCarouselData:!!e})},[et,el]);(0,k.useEffect)(()=>{eA(),!ed||eR()||ex||(F?.removeConstraint("thumbnailsLoaded"),(0,ay.l7)("thumbnailsLoaded"),ev(!0));let{data:e}=v;e&&!ed&&(e.carousel_data&&(e.carousel_data.index=el.carouselData?.index||0),eL({type:"pinLoaded",pin:e})),n&&L&&x&&iE({conversation_id:n,senderId:L,pinId:x}),v.data&&!ec&&r&&ew();let l={};((0,at.M0)().getItem(ai.W3)||"").includes(`/pin/${x}`)&&u&&(l.loginPageType="pin"),t&&(l.didRepin=!0),S.image_signature&&(l.pin_image_signature=S.image_signature),l.is_own_or_group_pin=eT,!(0,nj.Z)(l)&&j&&j({...l})},[ed,ec,v.data,x,el.carouselData,S.image_signature,n,L,t,u,ex,r,eA,eR,v,eT,j,F,eL,ew]),(0,k.useEffect)(()=>{S.near_dup_sig&&ef&&ef(S.near_dup_sig)},[ef,S.near_dup_sig]);let eD=(0,k.useCallback)(e=>{eF.current=e||null},[]),eM=(0,k.useCallback)(()=>{clearInterval(ey),j&&j({didLongClickThrough:!0})},[ey,j]),eZ=(0,I.Z)({type:"Legacy",data:S}),eB=(0,k.useCallback)(e=>{let a=!!S.story_pin_data,{wasImageClicked:n,auxData:i,componentType:t=a?228:4,elementType:s=n?35:a?11157:361,viewType:r=3}=e||{},o=(0,em.Z)({hasPin:!0,hasPinRichMetadata:!!S.rich_metadata,hasPinRichMetadataProducts:!!S.rich_metadata?.products,hasPinRichMetadataArticle:!!S.rich_metadata?.article,hasPinRichMetadataRecipe:!!S.rich_metadata?.recipe,hasPinStoryPinData:!!S.story_pin_data}),d={...eZ(),...i||{}};G&&G.isAuth&&!e_&&j&&(j({didPinClickThrough:!0}),ek(!0)),a&&p({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:S.id,url:P}}),p({event_type:101,object_id_str:x,component:t,element:s,aux_data:d,clientTrackingParams:l}),p({event_type:12,object_id_str:x,view_type:r,view_parameter:o,component:t,element:s,aux_data:d,clientTrackingParams:l}),p({event_type:8948,view_type:r,view_parameter:o,component:t,element:s,object_id_str:x,aux_data:{click_type:"clickthrough",closeup_navigation_type:V&&(0,eg.sV)(V)?"deeplink":"click",...d}}),p({event_type:12,object_id_str:x,view_type:r,view_parameter:o,component:t,element:s,aux_data:{...d,...(0,nM.Z)(S.link_utm_applicable_and_replaced)},clientTrackingParams:l}),n&&eh(window.setInterval(eM,12e4)),eC.current=Date.now(),en&&ei(!1),A(!0)},[S.story_pin_data,S.rich_metadata,S.id,eZ,G,e_,j,p,x,l,V,en,A,P,eM,S.link_utm_applicable_and_replaced]),eN=(0,k.useCallback)(()=>{clearInterval(ey),j&&j({didLongClickThrough:!1})},[ey,j]),eV=(0,k.useCallback)(()=>{p({event_type:101,object_id_str:S.id,component:4,element:13306,clientTrackingParams:l,aux_data:{...eZ()}}),A(!0)},[S.id,p,l,eZ,A]),ez=(0,k.useCallback)(()=>{m()},[m]),eO=(0,k.useCallback)(e=>{ed&&ea(l=>({...l,carouselData:{...l.carouselData||{},index:e}}))},[ed]),eU=(0,k.useCallback)(()=>(0,ah.Z)(()=>{if(!eF.current)return;let e=e6.hu,l=eF.current.getBoundingClientRect().top<=e;er!==l&&eo(l)},10)(),[er]),eH=(0,k.useCallback)(e=>{e.stopPropagation(),ez()},[ez]),{abortNoActionPlacementTimeout:eG,contextPinIds:eW,getAdditionalFields:e$,pinDerivedData:eX,topLevelTrafficSource:eY,topLevelTrafficSourceDepth:eq,searchQuery:eQ,isCommentAttachmentSelectorOpen:eJ,isCommentComposerFocused:e0,isCommentPopoverInteractionActive:e1,isCommentThreadExpanded:e3,isProductDetailsExpanded:e4,setIsCommentAttachmentSelectorOpen:e5,setIsCommentComposerFocused:e7,setIsCommentPopoverInteractionActive:e9,setIsCommentThreadExpanded:e8,setIsProductDetailsExpanded:le,isCloseupMediaViewerOpen:ll,setIsCloseupMediaViewerOpen:la,landingContext:ln,relatedPinsContainerRef:lt}=e,ls=eZ(),{isWideVideo:lr}=(0,lz.Z)((0,O.Z)({pin:S}))||{},lo=(0,C.Z)({showProductDetailPage:!0}),ld=lo?"sm"!==et:!a&&(({isWideVideo:e,viewportSize:l,peekCloseupEnabled:a})=>!["md","sm"].includes(l)&&!e||a&&"sm"!==l)({isWideVideo:!!lr,viewportSize:et,peekCloseupEnabled:f}),{recommendation_reason:lu}=S,lc=(0,k.useMemo)(()=>({name:"RelatedModulesResource",options:{additional_fields:e$(),pin_id:S.id,context_pin_ids:eW,context_near_dup_image_sigs:eS?eS(S.id||x):[],homefeed_source_sig:lu&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(lu.reason??"")&&lu.reason_id,page_size:12,search_query:eQ,source:V,top_level_source:eY,top_level_source_depth:eq,is_pdp:S.is_eligible_for_pdp,landing_context:ln}}),[e$,S.id,eW,eS,x,lu,eQ,V,eY,eq,S.is_eligible_for_pdp,ln]),lp=(0,eE.q6)(G,S.pinner?.id,h),lg=!!S.id&&!lp||a,lm=a?ej.Gg:ej.CI,ly=eR()&&ld?ej.Ch:lm,lh=eR()?ej.Gb:ej.Kn,l_=a||"lg"!==et?ly:lh-ly,lk=ed&&(eR()||a),lf=lk&&(0,w.jsx)(li.Z,{id:"ProductStickyContainer",children:(0,w.jsx)(ia,{disabled:!Z||a,children:(0,w.jsx)(li.Z,{id:"ImageContainerPerf",children:(0,w.jsx)(iL.Z,{containerId:"InnerScrollContainer",children:(0,w.jsx)(li.Z,{id:"SecondaryCarousel",children:(0,w.jsx)(iw.Z,{accessibilityControls:`closeup-image-container-${S.id}`,commerceData:ls,pinId:S.id,size:"sm",surfaceType:"closeup",viewParameter:(0,em.Z)({hasPin:!!S,hasPinRichMetadata:!!S.rich_metadata,hasPinRichMetadataProducts:!!S.rich_metadata?.products,hasPinRichMetadataArticle:!!S.rich_metadata?.article,hasPinRichMetadataRecipe:!!S.rich_metadata?.recipe,hasPinStoryPinData:!!S.story_pin_data})})})})})})}),lS=lk&&(0,w.jsx)(b.xu,{width:80}),lP=(0,k.useMemo)(()=>(0,w.jsx)(li.Z,{id:"ProductDetailPageBodyContainer",children:(0,w.jsx)(id,{closeupWithinMasonryEnabled:a,didShortClickThrough:en,executeClickthrough:eB,handleBackButtonClick:ez,handleSaveButtonClick:eV,isLimitedLogin:c,maxWidth:lh,orbacActingAs:h,pin:S,pinResource:v,routePush:K,showRepinOnInitialRender:M,showStructuredDescription:Z,trafficSource:V,trendsData:z,userBusinessRoleResource:U,viewer:G,viewportSize:et})}),[a,en,eB,ez,eV,c,lh,h,S,v,K,M,Z,V,z,U,G,et]),lx=(0,w.jsx)(li.Z,{id:"CloseupContent",children:(0,w.jsx)(ab,{isVideoPin:eX.isVideoPin,pin:S,pinResource:v,topLevelTrafficSource:eY,didShortClickThrough:en,firstLoadComplete:ed,viewportSize:et,relatedModulesContent:lg?(0,w.jsx)(li.Z,{id:"ProductDetailPageRelatedModules",children:(0,w.jsx)(iK,{closeupBody:lP,pinKey:{type:"Legacy",data:S},relatedPinsContainerRef:lt,relatedResourceOptions:lc,setRelatedPinsHeaderRef:eD,topLevelTrafficSource:eY,viewParameter:(0,em.Z)({hasPin:!!S,hasPinRichMetadata:!!S.rich_metadata,hasPinRichMetadataProducts:!!S.rich_metadata?.products,hasPinRichMetadataArticle:!!S.rich_metadata?.article,hasPinRichMetadataRecipe:!!S.rich_metadata?.recipe,hasPinStoryPinData:!!S.story_pin_data}),viewportSize:et})}):(0,w.jsx)(k.Fragment,{}),afterBodyContent:lS,beforeBodyContent:lf,bodyContent:lP,onWrapperClick:eH,backButton:(0,w.jsx)(nN.Z,{onClick:ez,size:lo?"lg":"xl"}),isProductDetailsExpanded:e4,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e5,setIsCommentComposerFocused:e7,setIsCommentPopoverInteractionActive:e9,setIsCommentThreadExpanded:e8,setIsCloseupMediaViewerOpen:la,setIsProductDetailsExpanded:le,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:A})});return(0,w.jsx)(li.Z,{id:"CloseupLayout",children:(0,w.jsx)(aA,{abortNoActionPlacementTimeout:eG,beforeBodyContent:lf,classProps:{...e,location:{pathname:"",search:"",hash:""}},classState:{...e.initialState,pin:S,visualState:el,didShortClickThrough:en,didPinClickThrough:e_,firstLoadComplete:ed,intervalId:ey,viewportSize:et,isOverRelatedPins:er},clientTrackingParams:l,commerceData:ls,showCloseupContentRight:ld,showProductDetailPage:!0,paneWidth:ly,maxWidth:lh,descriptionPaneWidth:l_,handleCarouselSwipe:eO,handleFocus:eN,handleScroll:eU,handleBackButtonClick:ez,closeupContent:lx,isCloseupMediaViewerOpen:ll,isCommentAttachmentSelectorOpen:eJ,isCommentComposerFocused:e0,isCommentPopoverInteractionActive:e1,isCommentThreadExpanded:e3,isProductDetailsExpanded:e4,peekCloseupEnabled:f,setIsCommentAttachmentSelectorOpen:e5,setIsCommentComposerFocused:e7,setIsCommentPopoverInteractionActive:e9,setIsCommentThreadExpanded:e8,setIsCloseupMediaViewerOpen:la,setIsProductDetailsExpanded:le,closeupWithinMasonryEnabled:a,setAbortNoActionPlacementTimeout:A})})}let iD=nK(function(e){let{clientTrackingParams:l,pin:a,pinResource:n,pinId:i,viewer:t,deepLinkBackGoesToBoard:s,goBack:r,routePush:o,trafficSource:d}=e,{logContextEvent:u}=(0,eC.u)(),c=(0,nB.Z)(),p=(0,Z.Z)(),g=(0,ew.B)(),m=(0,eY.Z)(),{checkExperiment:y}=m,h=!!(a.is_eligible_for_pdp&&!a.story_pin_data&&a.formatted_description?.components),[_,S]=(0,k.useState)(!1),[P,v]=(0,k.useState)(!1),[b,F]=(0,k.useState)(!1),[C,T]=(0,k.useState)(!1),[K,L]=(0,k.useState)(!1),[A,R]=(0,k.useState)(!1),[E,j]=(0,k.useState)(!1),D=(0,k.useRef)(null),{setMostRecentPinId:M,setMostRecentPinImage:B}=(0,n$.R)(),N=(0,I.Z)({type:"Legacy",data:a}),V=(0,nZ.Z)({type:"Legacy",data:a}),z=(0,eg.sY)(a.embed?.type)&&"gif"||!!a.is_eligible_for_pdp&&"productPin"||a.rich_summary?.type_name==="recipe"&&"recipePin"||a.story_pin_data_id&&"storyPin"||!!a.videos?.video_list&&"video"||"image",{conversationOpen:O}=(0,nW.Z)(),U=(0,av.Z)(),{landingContext:H}=(0,nD.Z)(),G=(0,lc.Z)(),W=(0,eE.lJ)(t,G),$=a.sponsorship?.sponsor?.id,X=!a.is_repin&&!!$,Y=(0,eu.Z)($&&X&&t.isAuth&&"storyPin"===z?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${$}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:q}=nG({logCommerceAuxData:!0,deepLinkBackGoesToBoard:s,element:13310,goBack:r,routePush:o,trafficSource:d,viewer:t,requestContext:g,pinKey:{type:"Legacy",data:a}},u),Q=t.isAuth&&(0,x.Gv)({orbacSubjectId:W,pinIsRepin:a.is_repin,pinPinnerId:a.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:J,isLoaded:ee}=(0,eu.Z)(Q?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${a.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:el}=(0,ex.Z)(),ea=nT({pin:a,pinId:i,pinResource:n}),{mainPinImage:en}=(0,nF.Z)({pinKey:{type:"Legacy",data:a}}),ei=(0,k.useCallback)(()=>{let e=[],l=y("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&y("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==l&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[y]);return(0,w.jsx)(li.Z,{id:"ProductDetailPageInner",children:(0,w.jsx)(ij,{...e,abortNoActionPlacementTimeout:_,clientTrackingParams:l,closeupWithinMasonryEnabled:el,conversationOpen:O,dispatch:(0,f.I0)(),experimentsClient:m,getAdditionalFields:ei,getSterlingURL:(0,nI.Z)(),getStringifiedCommerceAuxData:N,i18n:p,initialState:ea,isCloseupMediaViewerOpen:E,isCommentAttachmentSelectorOpen:P,isCommentComposerFocused:b,isCommentPopoverInteractionActive:C,isCommentThreadExpanded:K,isProductDetailsExpanded:A,landingContext:H,logContextEvent:u,mainImage:en,onHandleBackButtonClick:q,orbacActingAs:G,peekCloseupEnabled:!el,pinFormattedLink:V,pwtSurfaceContext:(0,am.A)(),relatedPinsContainerRef:D,requestContext:g,setAbortNoActionPlacementTimeout:S,setIsCloseupMediaViewerOpen:j,setIsCommentAttachmentSelectorOpen:v,setIsCommentComposerFocused:F,setIsCommentPopoverInteractionActive:T,setIsCommentThreadExpanded:L,setIsProductDetailsExpanded:R,setMostRecentPinId:M,setMostRecentPinImage:B,showStructuredDescription:h,toastManager:(0,nV.dI)(),trackInteraction:c,trendsData:{data:J,isLoaded:!Q||ee},userBusinessRoleResource:Y,verticalNavWidth:U})})});var iM=a(683372),iZ=a(505633),iB=a(925201);function iN(e,l=!1){let a=e||window.location.href;(0,iZ.Z)(`/login?next=${l?(0,iB.Z)(a,{type:"signup"}):encodeURIComponent(a)}`)}var iV=a(331357),iz=a(148),iO=a(267092),iU=a(305375);let iH=(0,eZ.Z)(()=>a.e("8479").then(a.bind(a,856138)),void 0,e=>856138,"app-common-react-components-StatusPin-StatusPinCloseup",e=>["8479"]),iG=(0,P.Z)(e=>({isVideoPin:!!e&&(0,eg.iR)(e),isYoutubePin:!!e&&(0,eg.oU)({isVideo:e.is_video,link:e.link})}));function iW({checkExperiment:e,clientTrackingParams:l,currentHistoryStack:a,navigate:n,location:i,params:t,pinResource:s,requestContext:r,searchPinCloseupViewed:o,goToCampaignCreation:d,showRepin:u,closeupComponentToRender:c,...p}){(0,k.useEffect)(()=>{(0,_.Z)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let g=s.data,m=s.isLoaded,y=(0,k.useRef)(null),h=(0,lr.Z)(),f="id"in h?h.id:"",S=m&&g&&g.pinner&&h.isAuth&&h.username===g.pinner.username&&m&&g&&"extension"===g.method,{trafficSource:P,topLevelTrafficSource:x,topLevelTrafficSourceDepth:v,contextPinIds:b}=(0,n3.Z)(a,h.isAuth);v>1&&"pin"!==P&&(0,lF.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:P,topLevelTrafficSource:x,topLevelTrafficSourceDepth:v}});let F=(0,iM._)(a),C=(0,nl.Z)(i.search);(0,k.useEffect)(()=>{y.current!==g&&function({navigate:e,isBot:l,location:a,viewerId:n,viewerIsAuth:i}){!l&&n&&"undefined"!=typeof window&&(0,iV.U)(window.location,n,!1,i,l=>e(l,{state:a.state,replace:!0}))}({navigate:n,isBot:r.isBot,location:i,viewerId:f,viewerIsAuth:h.isAuth}),y.current=g},[n,i,y,g,r.isBot,h.isAuth,h,f]),(0,k.useEffect)(()=>()=>{F&&g?.id&&o(g.id,F)},[g?.id,F,o]);let T=(0,k.useMemo)(()=>({viewType:3,viewParameter:(0,em.Z)({hasPin:!!g,hasPinRichMetadata:!!g?.rich_metadata,hasPinRichMetadataProducts:!!g?.rich_metadata?.products,hasPinRichMetadataArticle:!!g?.rich_metadata?.article,hasPinRichMetadataRecipe:!!g?.rich_metadata?.recipe,hasPinStoryPinData:!!g?.story_pin_data})}),[g]),K=(0,k.useMemo)(()=>({featuredCommentId:t.comment_id||""}),[t.comment_id]),I=(0,k.useMemo)(()=>(function({boardUrl:e,currentHistoryStack:l,navigate:a,isFromExtension:n=!1,hasViewerPartner:i}){return()=>l.map(e=>{var l;return!!(l=e.location)&&((0,iM.C)(l)||(({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e))(l))}).find(e=>!0===e)||n?n&&1===l.length?void a(e??""):void a(-1):void(i?a("/homefeed/"):a("/"))})({boardUrl:g?.board?.url,currentHistoryStack:a,navigate:n,isFromExtension:!!S,hasViewerPartner:!!("partner"in h&&h.partner)}),[a,n,S,g?.board?.url,h]);return(0,w.jsx)(li.Z,{id:"FeaturedCommentProvider",children:(0,w.jsx)(n5.h,{children:(0,w.jsx)(n7.Q,{value:K,children:(0,w.jsx)(li.Z,{id:"SearchParamsContextProvider",children:(0,w.jsx)(iz.v,{value:T,children:(0,w.jsx)(li.Z,{id:"OneBarProductFiltersContextProvider",children:(0,w.jsx)(n9.f,{children:(0,w.jsx)(li.Z,{id:"ViewTransitionProvider",children:(0,w.jsx)(n4,{children:(0,w.jsx)(li.Z,{id:"ExperienceCloseupFeatures",children:(0,w.jsx)(ls.Ig,{children:(0,w.jsx)(li.Z,{id:"CloseupBodyContextProvider",children:(0,w.jsx)(lk.C,{children:(0,w.jsx)(li.Z,{id:"CloseupReduxWrapper",children:(0,w.jsx)(n1,{pinId:t.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:a,didRepin:i,openInbox:r,pin:o,shouldShowInbox:g,updateExperienceForPlacement:m})=>{let y={clientTrackingParams:l,contextPinIds:b,conversation_id:C.conversation_id,deepLinkBackGoesToBoard:S,emailId:C.e_t,forceSendFeedback:C.fsf,goBack:I,goToCampaignCreation:d,messageId:C.message,onLoginClick:iN,pinId:t.id??"",pinResource:s,routePush:n,searchQuery:F,senderId:C.sender,showRepinOnInitialRender:u,topLevelTrafficSource:x,topLevelTrafficSourceDepth:v,trafficSource:P,viewer:h,didRepin:i,isLandingPage:e,isLimitedLogin:a,openInbox:r,pin:o,pinDerivedData:iG(o),shouldShowInbox:g,updateExperienceForPlacement:m,...p};switch(c){case"ProductDetailPage":return(0,w.jsx)(li.Z,{id:"ProductDetailPage",children:(0,w.jsx)(iD,{...y})});case"CloseupWithStoryPinProducts":return(0,w.jsx)(li.Z,{id:"CloseupWithStoryPinProducts",children:(0,w.jsx)(nQ,{...y})});default:return(0,w.jsx)(li.Z,{id:"CloseupDefault",children:(0,w.jsx)(nq,{...y})})}}})})})})})})})})})})})})})})})}function i$(e){(0,k.useEffect)(()=>{(0,_.Z)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let{pinResource:l}=e,a=l.data,{is_hidden:n,is_unsafe:i}=a||{},t=a?.story_pin_data?.has_product_pins,s=(0,a3.Z)({isHiddenPin:n,isUnsafePin:i});return(0,w.jsx)(li.Z,{id:"CloseupContainerCommon",children:(0,w.jsx)(iW,{...e,closeupComponentToRender:s&&t?"CloseupWithStoryPinProducts":"CloseupDefault"})})}function iX(e){(0,k.useEffect)(()=>{(0,_.Z)("CloseupContainer","/app/common/react/components/auth-desktop-web-closeup/CloseupContainer.tsx")},[]);let l=(0,f.I0)(),a=(0,lr.Z)(),n=(0,iU.Z)(),i=(0,lo.aX)(),t={...e,navigate:(0,S.s0)(),location:(0,S.TH)(),params:n,requestContext:(0,ew.B)(),searchPinCloseupViewed:(e,a)=>l((0,iO.Y4)(e,a))},{checkExperiment:s}=(0,eY.Z)(),r=(0,k.useMemo)(()=>{let e=[],l=s("hfp_gen_ai_topics_opt_out_closeup",{dangerouslySkipActivation:!0}).group;return l&&(["control_pwt","enabled_pwt"].includes(l)&&s("hfp_gen_ai_topics_opt_out_closeup"),"control_pwt"===l||e.includes("pin.gen_ai_topics")||(e=[...e,"pin.gen_ai_topics"])),e},[s]);return(0,w.jsx)(n2.Z,{addFields:r,orbacSubjectId:(0,eE.lJ)(a,(0,lc.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let l=e&&e.data;return l&&(0,eg._J)(l.video_status)?(0,w.jsx)($.bq,{children:(0,w.jsx)(iH,{...t,onClickThrough:()=>{},pinKey:{type:"Legacy",data:l}})}):(0,w.jsx)(li.Z,{id:"CloseupContainerInner",children:(0,k.createElement)(i$,{...t,key:n.id,checkExperiment:s,currentHistoryStack:i,pinResource:e})})}})}},881714:function(e,l,a){a.r(l),a.d(l,{default:()=>c});var n=a(686659),i=a(667294),t=a(633251),s=a(502173),r=a(64627),o=a(113759),d=a(261926),u=a(785893);function c({filter:e,pinId:l,story:a,viewParameter:c}){(0,i.useEffect)(()=>{(0,n.Z)("CloseupRelatedModulesInclusiveFilters","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/CloseupRelatedModulesInclusiveFilters.tsx")},[]);let{closeupWithinMasonryEnabled:p}=(0,o.x4)(),{custom_properties:g,title:m,objects:y}=a,{format:h="",args:_=[]}=m||{},{query:k=""}=_[0]||{},{viewType:f,inInclusiveEfficientRefinements:S,inclusiveFilterParam:P,onClickApplyFilters:x}=(0,s.Z)({filter:e,searchQuery:k,viewParameter:c});if(!e)return null;let v=(()=>{switch(e){case d.ti.BODY:return y;case d.ti.SKIN:return g?.skin_tone_filter_list;case d.ti.HAIR:return(0,r.ZP)(e,g)||[];default:return[]}})();if(!v||v.length<1)return null;let b=p?d.CT.CLOSEUP_FEED:d.CT.CLOSEUP_STACKED,F=S?d.CT.CLOSEUP_RESPONSIVE:b,C=p&&!S;return(0,u.jsx)(t.Z,{currentlyAppliedFiltersParamTerm:C?void 0:S?P:void 0,filter:e,filterList:v,headerTitle:h??"",moduleType:C?d.CT.CLOSEUP_FEED:F,onClickApplyFilters:x,pinId:l,searchQuery:k,showAuthCloseupWithinMasonry:C,viewParameter:c,viewType:f})}},633251:function(e,l,a){a.d(l,{Z:()=>u});var n=a(686659),i=a(667294),t=a(399353),s=a(519371),r=a(89030),o=a(261926),d=a(785893);let u=({filter:e,filterList:l,headerTitle:a,pinId:u,searchQuery:c,viewParameter:p,showAuthCloseupWithinMasonry:g=!1,moduleType:m=o.CT.CLOSEUP_FEED,currentlyAppliedFiltersParamTerm:y,onClickApplyFilters:h,viewType:_})=>{(0,i.useEffect)(()=>{(0,n.Z)("UnifiedInclusiveFiltersModule","/app/common/react/components/auth-desktop-web-closeup/CloseupRelatedModules/UnifiedInclusiveFiltersModule.tsx")},[]);let k=e===o.ti.HAIR,f=(0,d.jsx)(r.Z,{currentlyAppliedFiltersParamTerm:y,filters:l,headerTitle:a,moduleType:m,onClickApplyFilters:h,pinId:u,query:k?c:void 0,showHairPatternEducationIcon:k,type:e,viewParameter:p,viewType:_});return g?(0,d.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:s.tc,gap:"12px"}},"data-test-id":"auth-inclusive-filter",direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:600,children:f}):f}},502173:function(e,l,a){a.d(l,{Z:()=>d});var n=a(312048),i=a(156907),t=a(230201),s=a(735403),r=a(405897),o=a(261926);let d=({filter:e,searchQuery:l,viewParameter:a,unauthCloseupRedesignEnabled:d=!1})=>{let{logContextEvent:u}=(0,t.u)(),c=(0,n.s0)(),{pathname:p,search:g}=(0,n.TH)(),m=new URLSearchParams(g).get("filters"),{inInclusiveEfficientRefinements:y}=(0,i.Z)(e),h=e===o.ti.SKIN?13863:13864,_=e===o.ti.SKIN?13803:14935,k=e===o.ti.SKIN?10418:13358;return{onClickApplyFilters:e=>{let n=d?r.i.RS:r.i.TYPED;if(l&&u({element:k,view_type:3,view_parameter:a,event_type:101,component:_,aux_data:{entered_query:l,filter_value:e,story_type:h}}),y){let l=e?`?filters=${e}`:"";m&&m===e?c(p):c(`${p}${l}`,{replace:!0})}else c((0,s.Z)({query:l||"",rs:n||"",scope:"pins",filters:e}))},viewComponentType:h,viewType:3,clickComponentType:_,elementType:k,inInclusiveEfficientRefinements:y,inclusiveFilterParam:m}}},743260:function(e,l,a){a.d(l,{Z:()=>y});var n=a(686659),i=a(667294),t=a(268522),s=a(399353),r=a(361004),o=a(24246),d=a(59111),u=a(113759),c=a(279394),p=a(380575),g=a(785893);function m({isDarkMode:e,onPress:l,testID:a,label:n,peekCloseupEnabled:i,withShadow:t}){return(0,g.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":a,display:"inlineBlock",position:"relative",children:[t&&(0,g.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,g.jsx)(s.iP,{fullWidth:!1,onTap:l,children:(0,g.jsxs)(s.xe,{size:i?"200":r.n,weight:"bold",children:["...",n]})})]})}function y({children:e,isDarkMode:l,descriptionDir:a}){(0,i.useEffect)(()=>{(0,n.Z)("TruncatedDescription","/app/common/react/components/auth-desktop-web-closeup/Description/TruncatedDescription.tsx")},[]);let y=(0,i.useRef)(null),[h,_]=(0,i.useState)(0),[k,f]=(0,i.useState)(0),[S,P]=(0,i.useState)(!0),[x,v]=(0,i.useState)(!1),[b,F]=(0,i.useState)(!1),[C,T]=(0,i.useState)(!1),K=(0,o.Z)(),{closeupWithinMasonryEnabled:I,peekCloseupEnabled:w}=(0,u.x4)(),L=I||w,A=L?1:3,R=600*!!L;(0,i.useEffect)(()=>{if(y.current&&S){let e,l=(0,c.xW)(y.current),a=(e=y.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;v(()=>!!a&&(y.current&&(y.current.style.webkitLineClamp="unset",f(y.current?.scrollHeight??0),y.current.style.webkitLineClamp=A.toString()),!0)),P(!1),T(l>=A&&a),_(y.current?.clientHeight)}},[S,P,A,h,k,x]);let E=`${h}px`,j=`${h+k}px`,D=`
    .TruncatedDescription-enter{
      max-height: ${E};
    }
    .TruncatedDescription-enter-active {
      max-height: ${j};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${j};
    }
    .TruncatedDescription-exit {
      max-height: ${j};
    }
    .TruncatedDescription-exit-active {
      max-height: ${E};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${E};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,M=e=>{let a=e?K.bt("more", "more", "storyPin.previewText.more", undefined, true):K.bt("less", "less", "storyPin.previewText.less", undefined, true);return(0,g.jsx)(m,{isDarkMode:l,label:a,onPress:()=>F(e),peekCloseupEnabled:w,testID:`${e?"more":"less"}-description-container`,withShadow:e&&L})},Z=(0,i.useRef)(null);return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(d.Z,{unsafeCSS:D}),(0,g.jsx)(t.Z,{classNames:"TruncatedDescription",in:b,nodeRef:Z,onEnter:()=>v(!1),onExited:()=>v(!0),timeout:R,children:(0,g.jsx)(s.xu,{ref:Z,"data-test-id":"truncated-description",flex:"grow",overflow:L?"hidden":"visible",position:"relative",width:I?"100%":void 0,children:(0,g.jsx)(p.Z,{dir:a,children:(0,g.jsxs)(s.xe,{ref:y,align:"ltr"===a?"forceLeft":void 0,lineClamp:S||x?A:0,size:w?"200":r.n,children:[e,C?(0,g.jsxs)(i.Fragment,{children:[b&&M(!1),(0,g.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:L?"opacity 200ms ease-in-out":void 0,visibility:x?"visible":"hidden"}},opacity:100*!!x,position:"absolute",right:!0,children:M(!0)})]}):null]})})})})]})}},39375:function(e,l,a){a.d(l,{Z:()=>n});function n(e){return"string"==typeof e&&("function"==typeof e.replaceAll?e.replaceAll(" ",""):e.replace(/ /g,"")).length>0}},539422:function(e,l,a){a.d(l,{Z:()=>m});var n=a(667294),i=a(990063),t=a(230201),s=a(891851),r=a(23641),o=a(661376),d=a(575647),u=a(935059),c=a(830031),p=a(739405),g=a(884541);function m(e){let{logContextEvent:l}=(0,t.u)(),a=(()=>{let e=(0,p.HG)(),{isAuth:l}=(0,u.Z)(),a=l&&e,n=(0,c.A)();return n?e=>{"DEFAULT"!==e&&n.setSegment(e),a&&(({segment:e})=>{let l=(({segment:e})=>g.GL.get(e)??new Set)({segment:e});return new Set([...g.hO].filter(e=>!l.has(e)))})({segment:e}).forEach(e=>{n.removeConstraint(e),(0,r.l7)(e)})}:null})(),m=(0,o.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),y=m.data,h=(0,d.Z)(null!=y?{type:"Legacy",data:y}:null);return(0,n.useEffect)(()=>{if(!y)return;let e=(0,s.Z)({hasPin:!!y,hasPinRichMetadata:!!y.rich_metadata,hasPinRichMetadataProducts:!!y.rich_metadata?.products,hasPinRichMetadataArticle:!!y.rich_metadata?.article,hasPinRichMetadataRecipe:!!y.rich_metadata?.recipe,hasPinStoryPinData:!!y.story_pin_data});l({event_type:7408,view_parameter:e,object_id_str:y.id,view_type:3,view_data:{pin_id:y.id,closeup_rich_types:y.shopping_flags||[]},aux_data:{...h()}}),y.aggregated_pin_data&&(y.aggregated_pin_data.is_shop_the_look||y.aggregated_pin_data.is_stela)&&l({event_type:7579,view_parameter:e,object_id_str:y.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:y.aggregated_pin_data.is_shop_the_look,pin_is_stela:y.aggregated_pin_data.is_stela})}}),(0,r.Nx)("resource");let n="DEFAULT";y.is_eligible_for_pdp?n=y.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":y.story_pin_data_id&&(n="story_pin"),"DEFAULT"!==n&&(0,r.Yl)(n),a&&a(n)},[y,h]),e.children({pinResource:m})}},633735:function(e,l,a){a.d(l,{F:()=>Z,Z:()=>N});var n,i,t,s,r=a(686659),o=a(667294);a(167912);var d=a(399353),u=a(519371),c=a(573217),p=a(581722),g=a(935059),m=a(271930),y=a(183e3),h=a(631155),_=a(24246),k=a(79271),f=a(216975),S=a(501010),P=a(661376),x=a(199031),v=a(349937),b=a(739405),F=a(986523),C=a(619784),T=a(669787),K=a(15392),I=a(113759),w=a(194801),L=a(228612),A=a(9065),R=a(785893);let E=(0,A.Z)(()=>Promise.resolve().then(a.bind(a,941859)),void 0,e=>941859,"app-packages-StructuredFeed-ModuleReps-CarouselModule-DeprecatedCarouselModule",e=>[]),j=(void 0!==n||(n=a(948473)).hash&&"d26e3ac796a31f48dbe9ccd4f7da5852"!==n.hash&&console.error("The definition of 'ShoppingModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),D=(void 0!==i||(i=a(415786)).hash&&"fa557ac735f6f302b9043df97457e701"!==i.hash&&console.error("The definition of 'ShoppingModule_v3GetStelaShoppingCarousel' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),M=(void 0!==t||(t=a(667619)).hash&&"4bfa11c5e4686f2db2c0dcfe5802bd45"!==t.hash&&console.error("The definition of 'ShoppingModuleQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function Z(e){let l=(0,g.Z)(),a=l&&l.isAuth,n=(0,b.HG)(),i=(0,T.Z)(),t=function({pinId:e}){return(0,p.v9)(({pinbuilder:l})=>{if(!e)return null;let{pinItems:a,pinTags:n}=l,i=a?.[e];if(!i)return null;let t=i.pinTagIds??[];if(0===t.length)return null;let s=t.map(e=>n?.[e]).filter(Boolean);return s.length>0?s:null})}({pinId:e}),s=(0,L.S6)(),r=(0,P.Z)(i?null:{name:"ApiResource",noCache:!!t,options:{url:a?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`,data:{fields:(0,w.Z)()}}}),o=(0,h.Z)({strategy:i?"GraphQL":"Legacy",query:M,variables:{pinId:e,isDesktop:n,isAuth:a},options:{fetchPolicy:t?"store-and-network":"network-only"},useGetLegacyData:({pinId:e})=>{let l=r.data?.map(e=>({...e,objects:e?.objects?.map(e=>{if(e?.type==="pin"&&e?.id){let l=s(e?.id||"");if(l)return l}return e})}));return r?{...r,data:l}:null}}),d=o?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?o.v3GetStelaShoppingCarouselQuery:null,u=(0,y.Z)(D,d),c=u?u.data:null;if(i){let e=void 0!==o;return{data:c,isLoading:!e,isLoaded:e}}return{data:c,isLoading:r.isFetching,isLoaded:r.isLoaded}}let B=({children:e,id:l,storyRef:n,viewParameter:i,pinId:t,hasAutoTags:r})=>{let o=(void 0!==s||(s=a(781043)).hash&&"967fc795bbfb9844686a21d73abf35e0"!==s.hash&&console.error("The definition of 'ShoppingModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),{contentIds:u,displayOptions:c,slot:p,storyId:g,storyType:m,trackingParams:h}=(0,y.Z)(o,n),_=c?.contentDisplay?.componentType,f=(0,k.ZP)({clientTrackingParams:h,componentType:_,contextLogData:{story_id:g,story_type:m,content_ids:u,has_auto_tags:r,root_pin_id:t},impressionType:"Story",loggingId:g,slotIndex:p||0,viewParameter:i,viewType:3});return(0,R.jsx)(d.xu,{ref:f,children:e},l)};function N({moduleWidth:e,pinKey:l,trafficSource:a,unauthCloseupRedesignEnabled:n,viewParameter:i}){(0,o.useEffect)(()=>{(0,r.Z)("ShoppingModule","/app/common/react/components/auth-desktop-web-closeup/VisualSearch/ShoppingModule.tsx")},[]);let t=(0,_.Z)(),s=`carousel-${(0,o.useId)()}`,{checkExperiment:p}=(0,S.Z)(),{isAuth:h}=(0,g.Z)(),k=(0,T.Z)(),P=h&&p("web_stl_css_carousel").anyEnabled,{closeupWithinMasonryEnabled:b,peekCloseupEnabled:w,viewportSize:L}=(0,I.x4)(),A=b||n,D=(0,y.Z)(j,l),M=(0,o.useRef)(null),[N,V]=(0,o.useState)(void 0),{data:z,isLoading:O,isLoaded:U}=Z(D.entityId),H=z?.[0],G=(0,F.Z)()?o.useEffect:o.useLayoutEffect,W=c.Z;G(()=>{if(!P&&M.current&&A){let e=Math.floor((M.current.offsetWidth+8)/W);V(l=>l===e?l:e)}},[U,A,W,P]);let $=(0,o.useMemo)(()=>k?null:function(e){let l=e?(0,m.G5)(e):null;return l&&"LegacyData"===l.kind?l.singularLegacyData:null}(H),[k,H]),X=(0,C.Z)({cropSource:5,entrypoint:"feed_module",isProductPage:!0,pinId:D.entityId,requestParams:H?.action?.requestParams??"",trafficSource:a}),Y=w&&"lg"===L,q=(0,o.useMemo)(()=>({buttonSizeOverride:"lg",carouselContainerMarginBottom:A?0:void 0,flexDirection:Y?"column":"row",gutterWidth:u.Gd,justifyContent:"start",navigationFabSize:32,showPagination:A}),[A,Y]),Q=(0,o.useMemo)(()=>A?{type:"inline"}:{type:"classic"},[A]),J=(0,o.useMemo)(()=>{if(!A&&!(w&&"lg"===L))return{};let e={paddingLeft:P?void 0:`${u.Gd}px`};return A?{...e,border:P?void 0:u.tc}:e},[A,w,L,P]);if(O)return(0,R.jsx)(d.xu,{height:1,width:e});if(U&&(!z||0===z.length))return null;let ee="number"==typeof H?.displayOptions?.contentDisplay?.componentType?H.displayOptions?.contentDisplay?.componentType:void 0,el=(D?.collectionPin?.itemData||[]).some(e=>e?.source===x.x0),ea=e=>{let l=D?.collectionPin?.itemData?.find(l=>e.entityId===l.pinId),a=l?.source;return{has_auto_tags:a===x.x0,root_pin_id:D?.entityId,...a?{source:a}:{}}};return(0,R.jsx)(o.Fragment,{children:(0,R.jsx)(d.kC,{alignItems:"center",dataTestId:"shopping-module",direction:"column",justifyContent:"center",width:e,children:(0,R.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:J},maxWidth:n?e:void 0,rounding:A&&!P?400:0,width:e,children:z?.filter(Boolean).map(e=>{if(null==e)return null;let{action:l,containerType:a,storyId:n}=e;if(139!==a)return null;{let a=e.title?.format||"",r=h&&l?.url?l.url:X;return(0,R.jsx)(B,{hasAutoTags:el,id:n,pinId:D.entityId,storyRef:e,viewParameter:i,children:(0,R.jsxs)(d.xu,{ref:M,children:[(0,R.jsx)(d.xu,{display:"none",id:s,children:(0,f.Wc)(t.bt("{{heading}} carousel", "{{heading}} carousel", "closeup.shoppingModule.carousel.ariaLabel", undefined, true),{heading:a})}),P?(0,R.jsx)(v.Z,{accessibilityLabelledBy:s,component:ee,getProductTagAuxData:ea,heading:a,itemWidth:c.Z,itemWidthHeightRatio:1,parentPinKey:D,saveButtonOptions:Q,showBorder:A,showMarkers:A,showNavigationButtons:!0,storyKey:e,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:i}):(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)(d.xu,{marginBottom:4,marginStart:2,marginTop:4,children:(0,R.jsx)(d.qd,{accessibilityLevel:2,align:"start",id:"shop-the-look-heading",size:"400",children:a})}),(0,R.jsx)(E,{accessibilityLabelledBy:s,addContentRight:(0,R.jsx)(d.xu,{width:K.g9}),allowHover:!0,contentVisibleItemCountOverride:N,dangerouslySetActionUrl:r,disableHeader:!0,itemWidth:A?W:void 0,itemWidthHeightRatio:1,parentPinKey:D,productTagParentPinId:D.entityId,saveButtonOptions:Q,story:$,storyKey:e,styleOverrides:q,surface:"ShoppingGridSmallCarousel",view:3,viewParameter:i})]})]})},n)}})})})})}},573217:function(e,l,a){a.d(l,{Z:()=>n});let n=175},593748:function(e,l,a){a.d(l,{Z:()=>s});var n=a(341687);let i=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function s(e,l){let a=["pin"],s=[],r=1,o="unknown",d="unknown",u=!0;for(let l=e.length-1;l>0;l-=1){let i=function(e,l){if(l<=0)return"unknown";let a=e[l-1],i=a?.match?.path||"",s=["stela","stl"].includes((0,n.Z)(a?.location?.search).surfaceType??"");if(i&&"/pin/:id/visual-search"===i&&s)return"shop_feed";let r=i in t?t[i]:"unknown";return i?r:"feed_home"}(e,l);a.splice(0,0,i),u&&("pin"===(o=i)?r+=1:u=!1)}for(let l=e.length-2;l>=0;l-=1){let a=(e[l]?.location?.pathname||"").match(i);if(a&&2===a.length)s.splice(0,0,a[1].split("/")[0]);else break}return 1===a.length?(d="deep_linking",o="deep_linking"):(d=a[a.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||l||(d="seo_unauth"),"seo_auth"!==o||l||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=r+1&&"/search/buyable_pins/"===(e[e.length-r-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:r,contextPinIds:s}}},990063:function(e,l,a){a.d(l,{Z:()=>n});let n=(e,l,a,n)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:a?a.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...l?{orbac_subject_id:l}:Object.freeze({}),get_page_metadata:!!n})},879205:function(e,l,a){a.d(l,{ZP:()=>m,fz:()=>c,mg:()=>g,o1:()=>u});var n=a(667294),i=a(519371),t=a(166988),s=a(633735),r=a(113759);function o(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}function d(e){return"object"==typeof e&&null!==e&&"type"in e&&"inclusive_filters_module"===e.type}let u=e=>"object"!=typeof e||null===e||!("virtualize"in e)||(e.virtualize??!0),c=(e,l)=>a=>{if(!e&&o(a)||e&&(o(a)||d(a))||l&&(o(a)||d(a)))return{min:2,max:9}},p=({inBlendedUIExp:e,isAuth:l=!0})=>{let a=l?i.ne:i.tm;return e?{...a,columnSpan:{...a.columnSpan,...i.DO}}:a};function g(e,l,a){let t=p({inBlendedUIExp:!1,isAuth:!1}),s=(0,n.useMemo)(()=>({...i.tV}),[]),r=(0,n.useMemo)(()=>({...i.MB}),[]);return{closeupMasonryModules:(0,n.useMemo)(()=>{if(!l)return[];let e=[t];return a&&e.push(r),e.push(s),e},[l,t,a,r,s])}}function m({pinId:e,inclusiveModuleToCache:l,showProductDetailPage:a}){let o=(0,s.F)(e),{closeupWithinMasonryEnabled:d}=(0,r.x4)(),u=(0,t.Z)({showProductDetailPage:a}),[c,g]=(0,n.useState)(l);!c&&l&&g(l);let m=(0,n.useMemo)(()=>p({inBlendedUIExp:u}),[u]),y=(0,n.useMemo)(()=>({...i.tV}),[]),h=(0,n.useMemo)(()=>({...i.MB}),[]),_=o?.data&&o.data.length>0,k=(0,n.useMemo)(()=>{let e=[m];return _&&e.push(y),c&&e.push(h),e},[m,_,c,y,h]);return d?{closeupMasonryModules:k,hasShoppingModule:_,inclusiveFilters:c}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},156907:function(e,l,a){a.d(l,{Z:()=>s});var n=a(654805),i=a(501010),t=a(261926);function s(e){let{checkExperiment:l}=(0,i.Z)(),{sideBySideRedesignFastFollowsEnabled:a}=(0,n.Z)(),s=a&&e===t.ti.SKIN&&l("web_closeup_inclusive_refinement",{dangerouslySkipActivation:!0}).anyEnabled,r=a&&e===t.ti.HAIR&&l("web_closeup_hair_refinement",{dangerouslySkipActivation:!0}).anyEnabled,o=a&&e===t.ti.BODY&&l("web_btr_closeup",{dangerouslySkipActivation:!0}).anyEnabled;return{inInclusiveEfficientRefinements:!!(s||r||o)}}},361004:function(e,l,a){a.d(l,{n:()=>n});let n="300"},483306:function(e,l,a){a.d(l,{Z:()=>c}),a(167912);var n,i=a(64471),t=a(230201),s=a(183e3),r=a(643773),o=a(566431),d=a(575647);let u=(void 0!==n||(n=a(435764)).hash&&"d38a7b9f18791089cd1df852e3863570"!==n.hash&&console.error("The definition of 'useHandleTitleClick_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),c=function({pinKey:e,pinId:l,viewParameter:a,trafficSource:n}){let{logContextEvent:c}=(0,t.u)(),p=(0,s.Z)(u,e),g=(0,i.Z)({pinKey:p}),m=(0,d.Z)(p);return()=>{let e=m();c({event_type:12,object_id_str:l,view_type:3,component:85,view_parameter:a,clientTrackingParams:g,aux_data:{...e,...(0,r.Z)(p?.linkUtmApplicableAndReplaced)}}),c({event_type:8948,clientTrackingParams:g,view_type:3,view_parameter:a,component:85,object_id_str:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:n&&(0,o.sV)(n)?"deeplink":"click",...e}})}}},671121:function(e,l,a){a.d(l,{Z:()=>i});var n=a(27399);async function i(e,l){let a=async()=>{let e={name:l.bt("Quick saves", "Quick Saves", "quickSave.defaultBoardName", undefined, true),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:i}}=await a(),t=async l=>n.Z.create("RepinResource",{board_id:l,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(i.id),i}},184865:function(e,l,a){a.d(l,{i:()=>n,j:()=>i});let n=2,i=236},551474:function(e,l,a){a.d(l,{Z:()=>i});let n=new Set([90,88,89,91,101,92,131]);function i(e){return n.has(e)}},73910:function(e,l,a){a.d(l,{Z:()=>s});var n=a(618003);let i=new Set([92]),t=new Set([154]);function s(e){let l=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||t.has(e.container_type)||n.v8.has(e.story_type)||n.AW.has(e.story_type):1){let a=l[l.length-1];Array.isArray(a)?a.push(e):l.push([e])}else l.push(e)}),l}},81221:function(e,l,a){a.d(l,{Z:()=>t});var n=a(255624),i=a(774838);function t(){let{advertiser:e}=(0,i.B)();return(l,a,i)=>(0,n.Z)(l,i??e?.id,a)}},568736:function(e,l,a){function n(e){return[0,24,21,26].includes(e)}function i({articleType:e,id:l,title:a}){let n=a.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${l}/`:`/discover/article/${n}/${l}/`}a.d(l,{x:()=>i,y:()=>n})},719301:function(e,l,a){a.d(l,{EF:()=>p,GM:()=>o,Hg:()=>K,Hl:()=>f,IR:()=>_,Je:()=>u,K3:()=>A,O1:()=>D,Q6:()=>m,QE:()=>n,V3:()=>T,Z4:()=>h,c7:()=>k,cU:()=>s,cZ:()=>F,cg:()=>i,dZ:()=>t,gO:()=>S,hd:()=>v,j$:()=>x,j9:()=>R,kX:()=>P,k_:()=>b,oQ:()=>N,p:()=>B,pg:()=>M,pk:()=>C,pt:()=>L,qq:()=>j,sy:()=>c,tP:()=>I,uE:()=>y,vk:()=>E,w2:()=>d,ww:()=>w,xX:()=>r,xw:()=>Z,yR:()=>g});let n=3e3,i=280,t=500,s=1e4,r=250,o=250,d=251,u=50,c=50,p=20,g=20,m={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",CATALOGS_DETAIL:"CATALOGS_DETAIL",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",SYSTEM_USERS:"SYSTEM_USERS",APPS:"APPS",CONVERSION_DATA:"CONVERSION_DATA",MEDIA_NETWORK_DASHBOARD:"MEDIA_NETWORK_DASHBOARD"},y={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},h={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},_={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},k={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",CATALOG:"CATALOG"},f={PERSON:"PERSON",PARTNER:"PARTNER",SYSTEM_USER:"SYSTEM_USER",PROFILE:"PROFILE"},S={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW"},P={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},x=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],v=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],b=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],F=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],C=["CATALOGS_MANAGER","CATALOGS_VIEWER"],T={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},K=["PROFILE_PUBLISHER"],I={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},w={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},L={ACTIVE:0,PENDING:1},A={ACTIVE:"active",PENDING:"pending"},R="filter_type",E={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},j={WARNING:"WARNING",DEFAULT:"DEFAULT"},D={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},M={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},Z=new Date("2024-10-31T12:00"),B="Httpool by Aleph",N="pinterest-leads@alephholding.com"},654380:function(e,l,a){a.d(l,{HI:()=>s,f8:()=>o,hm:()=>r,sH:()=>t});var n=a(399353),i=a(785893);let t=({children:e})=>(0,i.jsx)(n.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),s=({children:e})=>(0,i.jsx)(n.xu,{padding:2,children:e}),r=({children:e})=>(0,i.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),o=({children:e})=>(0,i.jsx)(n.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},90325:function(e,l,a){a.d(l,{Ec:()=>d,IA:()=>h,LX:()=>u,Mf:()=>y,SF:()=>r,_e:()=>o,h_:()=>x,l0:()=>s,ml:()=>t,pQ:()=>P,q4:()=>i,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),i=2/3,t=2/3,s=1/3,r="36px",o="28px",d=.4,u=.65,c={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},g={1:"italics",0:"normal"},m={1:"bold",0:"normal"},y=({color:e,font_style:l,font_weight:a,horizontal_alignment:n,size:i},t)=>({color:e,fontStyle:g[l??0],fontWeight:m[a??1],horizontalAlignment:c[n??0],fontSize:p[t][i??0]+"px"}),h=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?u:d,_={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"default"},k=_[8],f={1:"primary",2:"secondary",3:"transparent",4:"primary",5:"light",6:"dark"},S=f[2],P=e=>{if(e){if(e.button_style&&e.button_style in f)return f[e.button_style]||S;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return f[1]||S;else if("#0074e8"===e.button_background_color.toLowerCase())return f[4]||S}}return S},x=(e,l)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in _)return _[e.title_text_customization?.text_color]||k;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return _[7]||k;else if("#ffffff"===e.title_text_customization.color)return _[8]||k}}if(l)if("white"===l)return _[8]||k;else return _[7]||k;return k}},217703:function(e,l,a){a.d(l,{Z:()=>p});var n=a(667294),i=a(230201),t=a(935059),s=a(629724),r=a(573375),o=a(785893);function d(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:n+"")in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let u=(0,s.Z)()&&(0,s.Z)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class l extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:l,contextLogData:a,impressionAuxFields:n,impressionType:i,loggingId:t,slotIndex:s,viewParameter:r,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(s+" started timer");else{let e=c[i],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:s,time:this.startTime,renderDuration:g-this.startTime,...n};u({event_type:e.eventType,component:l,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:r,view_data:d,aux_data:{...a}}),this.debugPinImpressions&&console.log(s+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(r.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:a}=(0,i.u)(),n=(0,t.Z)();return(0,o.jsx)(l,{...e,logContextEvent:a,viewer:n})}}},64627:function(e,l,a){a.d(l,{HM:()=>i,ZP:()=>s,oV:()=>t});var n=a(261926);let i=e=>[n.Mq.SKIN,n.Mq.HAIR,n.Mq.BODY].includes(e),t=e=>{switch(e){case n.Mq.SKIN:return n.ti.SKIN;case n.Mq.HAIR:return n.ti.HAIR;case n.Mq.BODY:return n.ti.BODY;default:return""}};function s(e,l){return e===n.ti.SKIN?l.skin_tone_filter_list.options:l.hair_pattern_filter_list}},651263:function(e,l,a){a.d(l,{T:()=>n,Z:()=>t});let{Provider:n,get:i}=(0,a(213491).Z)("NotificationContext"),t=i},240571:function(e,l,a){a.d(l,{G7:()=>s,Nl:()=>o,WE:()=>t,l6:()=>r});var n=a(400850),i=a(696749);function t(e,l,a,n,i,t){return e.isAuth&&!!l&&(a||n)&&!!i?.isLoaded&&!t}function s(e,l){return(0,i.Z)(l.nbt(["The last day", "Last {{ count }} days"], e, "Previous {{ count }} days from current date", true),{count:e})}function r(e,l){return(0,i.Z)(l.nbt(["Last {{ count }} hour", "Last {{ count }} hours"], e, "analytics.utils", true),{count:e})}function o({i18n:e,isRealtime:l,humanizedTimeSinceLastUpdate:a,displayLifetime:t,numDays:s,selectedDateRange:r,locale:o}){let d=[];if(s){let l=t?(0,i.Z)(e.nbt(["Percentage changes are compared with {{n}} day before {{startDate}}  {{endDate}}.", "Percentage changes are compared with {{n}} days before {{startDate}}  {{endDate}}."], s, "pinstats.toplineMetrics.description", true),{n:s,startDate:(0,n.ZP)(o,r.startDate,n.kH.NUMERIC),endDate:(0,n.ZP)(o,r.endDate,n.kH.NUMERIC)}):(0,i.Z)(e.nbt(["Percentage changes are compared with {{n}} day before the selected date range.", "Percentage changes are compared with {{n}} days before the selected date range."], s, "pinstats.toplineMetrics.description", true),{n:s});d.push(l)}return l?d.push(e.bt("Metrics are updated in real time.", "Metrics are updated in real-time.", "pinstats.PinnerToplineMetrics.description", undefined, true)):a&&d.push((0,i.Z)(e.bt("Metrics updated {{ timeSince }}.", "Metrics updated {{ timeSince }}.", "analytics.header.disclaimer.metricsUpdated", undefined, true),{timeSince:a})),d.join(" ")}},940060:function(e,l,a){a.d(l,{Z:()=>s}),a(422578);var n,i=a(249459),t=a(183e3);function s(e,l,s){let r=(0,t.Z)((void 0!==n||(n=a(598293)).hash&&"977a37f1bef6ecfbe279db65075e1520"!==n.hash&&console.error("The definition of 'usePinAnalyticsStatus_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),e);if(!l.isAuth||!l.isPartner||null==r)return!1;let{creatorAnalytics:o}=r,d=!!r.storyPinDataId,u=!!r.videos?.videoList,c=!(d||u)&&0!==Object.keys(r.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,p=r.board?.privacy===i.Z.BoardPrivacy.PUBLIC,g=(r.board?.privacy===i.Z.BoardPrivacy.PROTECTED||p)&&!r.isRepin&&[l.id,s].includes(r.pinner?.entityId??"");return c||0!==Object.keys(o?._30dRealtime||{}).length||l.isPartner&&g||d&&g}},589771:function(e,l,a){a.d(l,{f:()=>n,Z:()=>i});let n=e=>{let{h:l,m:a}=e||{},n={hours:l||0,minutes:a||0};return void 0!==l||void 0!==a?{h:l,m:a,time:n,isoDuration:function({hours:e,minutes:l}){return`PT${e}H${l}`}(n)}:null},i=e=>{if(!e)return null;let{richMetadata:l}=e,{recipe:a}=l;return a&&a.name?{...e,recipe:{name:a.name,categorizedIngredients:a.categorized_ingredients,diets:a.diets,fromAggregatedData:a.from_aggregated_data,prepTime:n(a.cook_times?.prep),cookTime:n(a.cook_times?.cook),totalTime:n(a.cook_times?.total),servingSummary:a.servings_summary?.summary,serves:a.servings_summary?.serves,instructions:a.instructions}}:null}},564650:function(e,l,a){function n(e){return!!e?.trim()}function i(e){if(!e)return!1;let{rich_metadata:l,rich_summary:a,closeup_unified_title:i,grid_title:t,closeup_unified_description:s,link:r,domain:o}=e,d=l||a,u=n(i)||n(t)||n(d?.products?.[0]?.name),c=n(s)||n(e.description),p=n(e.tracked_link)||n(r),g=n(e.link_user_website?.official_user?.first_name)||n(e.closeup_attribution?.first_name)||n(e.link_domain?.official_user?.first_name)||n(o),m=d?.products?.[0],y=m?.offer_summary,h=!!(y?.price||y?.min_price||y?.max_price||y?.standard_price),_=y?.in_stock!=null||null!=e.is_oos_product;return u&&c&&p&&g&&h&&_}a.d(l,{Z:()=>i})},569377:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:l}=e.pin;return l?{...e,richMetadata:l}:null}},49104:function(e,l,a){a.d(l,{Z:()=>t});var n=a(232065),i=a(438303);let t=e=>{if(!e)return null;let{video:l}=(e=>{if(!e)return null;let{videos:l}=e.pin,{id:a,video_list:i={}}=l||{},{V_720P:t,V_HLSV4:s,V_HLSV3_MOBILE:r}=i,o=(0,n.V3)(s),d=(0,n.V3)(r),u=(0,n.V3)(t),c=u||o||d;return a&&c?{...e,video:{id:a,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null})((0,i.Z)(e))||{},{embed:a}=(e=>{if(!e)return null;let{embed:l}=e.pin,{type:a,src:n,subtype:i}=l||{};return n?{...e,embed:{type:a,src:n,subtype:i}}:null})((0,i.Z)(e))||{},t=!!(l&&(e=>{let{hlsv3:l,hls:a}=e,n=l||a;return!!(n&&(n.width??0)>(n.height??0))})(l))||!!(a&&a.src&&"pinstory"!==a.subtype&&"gif"!==a.type);return{...e,isWideVideo:t}}},35169:function(e,l,a){a.d(l,{Z:()=>o}),a(167912);var n,i=a(183e3),t=a(566431),s=a(903519);let r=(void 0!==n||(n=a(574257)).hash&&"b694b913cbcf66451260d78ec78bcccd"!==n.hash&&console.error("The definition of 'usePinFormattedLink_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),o=e=>{let l=(0,i.Z)(r,e),a=(0,s.Z)(l);if(!l?.entityId)return null;let{trackedLink:n,link:o,method:d,utmLink:u}=l,c=(0,t.Zt)({trackedLink:n,link:o,utmLink:u});return c&&("catalog_bulk_create"===d||a)?decodeURIComponent(c):c}},903519:function(e,l,a){a.d(l,{Z:()=>s}),a(167912);var n,i=a(183e3);let t=(void 0!==n||(n=a(626858)).hash&&"e1f413e0ba2f9031ea605d85baa14a4b"!==n.hash&&console.error("The definition of 'usePinHasProducts_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),s=e=>{let l=(0,i.Z)(t,e);if(!l?.richMetadata)return!1;let{products:a}=l.richMetadata??{};return!!Array.isArray(a)&&a.some(e=>!!e&&e.name)}},438303:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>e?.pin?.id?e:null},427052:function(e,l,a){a.d(l,{B6:()=>c,IQ:()=>u,_m:()=>r});var n=a(790985),i=a(439947);let{Provider:t,get:s}=(0,i.Z)({name:"related_feed",sampleRate:1}),r=t,{Provider:o,get:d}=(0,i.Z)({name:"related_feed_pageload",sampleRate:1}),u=o,c=e=>{let l=s(),a=d();if("related_feed"===e)return l;if("related_feed_pageload"===e)return a;throw(0,n.Z)(e,"Unexpected type")}},64151:function(e,l,a){a.d(l,{Z:()=>y});var n=a(686659),i=a(667294),t=a(399353),s=a(24246),r=a(501010),o=a(696749),d=a(785893);function u({category:e,ingredients:l,textSize:a="300"}){return(0,i.useEffect)(()=>{(0,n.Z)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,d.jsxs)(t.xu,{children:[e&&(0,d.jsx)(t.xu,{children:(0,d.jsx)(t.xe,{size:a,weight:"bold",children:e})}),(0,d.jsx)("ul",{children:l.map((e,l)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(t.xu,{marginTop:1,children:(0,d.jsxs)(t.xe,{size:a,children:[" ",e.amt||null," ",e.name]})})},l))})]})}function c({instructions:e}){return((0,i.useEffect)(()=>{(0,n.Z)("Instructions","/app/packages/recipePin/Instructions.tsx")},[]),e)?e.map((e,l)=>{let a=`Step ${l+1}`;return(0,d.jsxs)(t.xu,{children:[(0,d.jsx)(t.xe,{size:"200",weight:"bold",children:a}),(0,d.jsx)(t.xe,{size:"100",children:e})]},a)}):null}var p=a(55475),g=a(234278),m=a(113759);function y({recipeProps:e,marginOverrides:l}){var a;(0,i.useEffect)(()=>{(0,n.Z)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let y=(0,s.Z)(),{checkExperiment:h}=(0,r.Z)(),{image:_,name:k,categorizedIngredients:f,instructions:S}=e.recipe,{peekCloseupEnabled:P}=(0,m.x4)(),x=S&&h("web_food_indicator").anyEnabled,v=0;if(f&&f.length){let e=[];f.forEach(l=>(v+=l.ingredients.length,e.push(l.ingredients)))}let b=P?(a=v,(0,o.Z)(y.nbt(["{{ count }} ingredient", "{{ count }} ingredients"], a, "closeup.recipePin.heading.ingredientCount", true),{count:a.toString()})):y.bt("Ingredients", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);return(0,d.jsx)(t.xu,{marginBottom:2,marginTop:2,children:(0,d.jsxs)(p.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,d.jsx)("meta",{content:k,itemProp:"name"}),(0,d.jsx)("meta",{content:_,itemProp:"image"}),x&&(0,d.jsx)(g.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,d.jsx)(t.xu,{children:(0,d.jsx)(c,{instructions:S})})}),(0,d.jsx)(g.Z,{heading:b,children:(0,d.jsx)(t.xu,{children:f.map(({category:e,ingredients:a},n)=>{let s=`ingredient-${n}`;return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(t.xu,{marginBottom:l?.ingredientMarginBottom||4,children:(0,d.jsx)(u,{category:e,ingredients:a,textSize:"200"})})},s)})})})]})})}},481923:function(e,l,a){a.d(l,{Z:()=>i});var n=a(216975);function i({m:e,h:l,rm:a,rh:t},s,r=!1){return e&&(!l||t<=0)?r?(0,n.nk)(s.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:a.toString()}):(0,n.nk)(s.nbt(["{{mins}} minute", "{{mins}} minutes"], a, "number showing the minutes to complete a recipe", true),{mins:a.toString()}):l?r?(0,n.nk)(s.bt("{{hrs}}hr {{mins}}min", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:l.toString(),mins:e.toString()}):(0,n.nk)(s.nbt(["{{hrs}} hour", "{{hrs}} hours"], t, "number showing the hours to complete a recipe", true),{hrs:t.toString()}):null}},692763:function(e,l,a){a.d(l,{Z:()=>s});var n=a(507006),i=a(216975),t=a(785893);function s({m:e,h:l,rm:a,rh:s},r){return e&&(!l||s<=0)?(0,i.nk)(r.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeText.minutesLabel", undefined, true),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:a},"recipe-minutes")}):l?(0,i.nk)(r.bt("{{hrs}} hr", "{{hrs}}hr", "closeup.makeRecipeText.hoursLabel", undefined, true),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:s},"recipe-hours")}):null}},233377:function(e,l,a){a.d(l,{Z:()=>i});var n=a(216975);function i(e,l){return e<60?(0,n.nk)(l.bt("{{mins}} min", "{{mins}}min", "recipe.minutes", undefined, true),{mins:e}):(0,n.nk)(l.bt("{{hrs}} hr {{mins}} min", "{{hrs}}h {{mins}} min", "recipe.time", undefined, true),{mins:e%60,hrs:Math.floor(e/60)})}},55475:function(e,l,a){a.d(l,{Z:()=>s});var n=a(686659),i=a(667294),t=a(785893);let s=e=>{(0,i.useEffect)(()=>{(0,n.Z)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let l=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{"data-test-id":"rich-pin-information",...l,children:e.children||null})}},735403:function(e,l,a){a.d(l,{Z:()=>i});var n=a(900946);function i(e){let{enteredQuery:l,filters:a,guideAdded:i,query:t,requestParams:s,rs:r,scope:o,selectedOneBarModules:d,user:u,inlineSuggestion:c}=e;if(!t)return"/";let p={q:t,rs:r,...s};if(a&&(p.filters=a),u&&(p.user=u),d&&(p.selected_one_bar_modules=d),i&&i.term&&(p.add_refine=`${i.term}|guide|word|${i.index}`),l&&(p.entered_query=l),c&&(p.inline_suggestion=c),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(p)}`;let g=o;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(g??"")||(g="pins"),g?`/search/${g}/?${(0,n.Z)(p)}`:`${window.location.pathname}?${(0,n.Z)(p)}`}},100723:function(e,l,a){a.d(l,{Z:()=>t});var n=a(460575);let i=/\{\s*(\w+)\s*\}/g;function t({args:e,format:l}){let a,t=(e||[]).reduce((e,l,a)=>({...e,[a]:l.text}),{});return a=l||"",(0,n.Z)(i,a,t)}},574991:function(e,l,a){a.d(l,{J:()=>n,Z:()=>i});let n=-1;function i(e){switch(e){case n:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},439048:function(e,l,a){a.d(l,{Z:()=>c});var n=a(686659),i=a(667294),t=a(399353),s=a(24246),r=a(774838),o=a(113759),d=a(785893);let u=({onClick:e,showShadow:l,size:a="lg",onMouseEnter:n})=>{let r=(0,s.Z)();return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{animation:l?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:n,rounding:"circle",children:(0,d.jsx)(t.hU,{accessibilityLabel:r.bt("Back", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"default",dataTestId:"back-icon-button",icon:"arrow-left",iconColor:"default",onClick:e,size:a})},"back-button-icon")})};function c({handleScroll:e,left:l=-12,marginTop:a,onClick:s,showShadow:c,onMouseEnter:p,size:g="xl"}){(0,i.useEffect)(()=>{(0,n.Z)("BackButton","/app/packages/ui/BackButton.tsx")},[]);let{closeupWithinMasonryEnabled:m}=(0,o.x4)(),{isRTL:y}=(0,r.B)();return(0,i.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...y?{right:0}:{left:m?0:l}}},"data-test-id":"back-button",display:"flex",position:"relative",children:(0,d.jsx)(u,{marginTop:a,onClick:s,onMouseEnter:p,showShadow:c,size:g})})}},698808:function(e,l,a){a.d(l,{Z:()=>c});var n=a(686659),i=a(667294),t=a(399353),s=a(230201),r=a(24246),o=a(216975),d=a(605203),u=a(785893);function c({nativeCreatorCloseupLinkEligible:e,peekCloseupEnabled:l,uriComponent:a}){(0,i.useEffect)(()=>{(0,n.Z)("InstagramPostLink","/app/packages/ui/InstagramPostLink.tsx")},[]);let c=(0,r.Z)(),{logContextEvent:p}=(0,s.u)();return e&&a?(0,u.jsx)(t.xe,{align:"start",size:l?"200":"300",children:(0,o.nk)(c.bt("See original post on {{ instagramLink }}", "See original post on {{ instagramLink }}", "closeup.defaultMetadata.instagramLink", undefined, true),{instagramLink:(0,u.jsx)(t.xe,{color:"link",inline:!0,children:(0,u.jsx)(t.rU,{display:"inline",externalLinkIcon:"default",href:(0,d.Z)(a)??a,onClick:()=>{p({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:e}})},underline:"none",children:c.bt("Instagram", "Instagram", "closeup.defaultMetadata.instagramLink-linkText", undefined, true)})})})}):null}},954928:function(e,l,a){a.d(l,{Z:()=>n});let n=(e,l)=>{let a=new URL(e,"https://pinterest.com");return a.search=new URLSearchParams(l).toString(),a.toString().substring(a.origin.length)}},366863:function(e,l,a){a.d(l,{Z:()=>i});var n=a(667294);let i=e=>{let l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{l.current=e},[e]),l.current}},804748:function(e,l,a){a.d(l,{Z:()=>s});var n=a(667294),i=a(562400),t=a(730448);let s=(e="throttle")=>{let[l,a]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let l="throttle"===e?(0,t.Z)(()=>a(window.scrollY),10):(0,i.Z)(()=>a(window.scrollY),10);return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[e]),l}},619784:function(e,l,a){a.d(l,{Z:()=>i});var n=a(371266);function i({cropArea:e,cropSource:l,entrypoint:a,isProductPage:i,pinId:t,requestParams:s,searchQuery:r,surfaceType:o,title:d,trafficSource:u}){let c=(0,n.Z)({cropArea:e,cropSource:l,entrypoint:a,requestParams:s,searchQuery:r,surfaceType:o,title:d,trafficSource:u}),p="";return i&&(p="products/"),`/pin/${t}/visual-search/${p}${c}`}},669787:function(e,l,a){a.d(l,{Z:()=>t});var n=a(501010),i=a(739405);function t(){let{checkExperiment:e}=(0,n.Z)();return"desktop"===(0,i.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},330572:function(e,l,a){a.d(l,{Z:()=>r});var n=a(399353),i=a(276559),t=a(24246),s=a(785893);let r=function(){let e=(0,t.Z)();return(0,s.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,s.jsx)(i.Z,{containerSize:320,description:e.bt("It looks as though something went wrong. Thats OK. Try refreshing this page.", "It looks like something went wrong. Thats okaytry refreshing this page.", "error404.page.gumball.illustrations.description", undefined, true),illustrationSize:186,message:e.bt("Somethings a little off", "Somethings a little off", "error404.page.gumball.illustrations.message", undefined, true),name:"gumball",primaryAction:(0,s.jsx)(n.ZP,{color:"primary",href:"",onClick:()=>{window.location.reload()},text:e.bt("Refresh page", "Refresh page", "error404.page.pinjar.illustration", undefined, true)})})})}},68876:function(e,l,a){a.d(l,{Z:()=>d});var n=a(686659),i=a(667294),t=a(495839),s=a(774838),r=a(884541),o=a(785893);function d({children:e,type:l}){(0,i.useEffect)(()=>{(0,n.Z)("CloseupPwtSurface","/app/www/closeup/CloseupPwtSurface.tsx")},[]);let a=(0,s.B)();return(0,o.jsx)(t.Z,{annotateExperiments:[...a.isAuthenticated?["authDesktop"===l?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],a.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===l?["closeup_dweb_side_by_side_redesign_fast_follow"]:[]],constraints:"authDesktop"===l?[...r.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},427488:function(e,l,a){a.d(l,{Z:()=>R});var n,i=a(686659),t=a(667294);a(167912);var s=a(399353),r=a(935059),o=a(183e3),d=a(59111),u=a(680391),c=a(566431),p=a(35169),g=a(903519),m=a(55475),y=a(145626),h=a(239757),_=a(15392),k=a(113759),f=a(785893);let S=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,P=(void 0!==n||(n=a(956273)).hash&&"fe307a97c2a80c6c804419d06a27cd79"!==n.hash&&console.error("The definition of 'TitleDesktop_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=e=>{let{clientTrackingParams:l,children:a,isLink:n=!0,onClick:i,pin:t,carouselInfo:o}=e,d=(0,p.Z)(t),g=(0,r.Z)(),{closeupWithinMasonryEnabled:m,peekCloseupEnabled:y}=(0,k.x4)(),_=(0,h.Z)({clickthroughType:"middleClick",location:"closeup.title"}),S=t.images_orig?.url&&t.images_orig.width&&t.images_orig.height?t.images_orig:null,P=a;if(o){let{carouselData:e}=o||{},{carousel_slots:l=[],index:a}=e||{};l&&null!=a&&l[a]&&(d=l[a].link||d,P=l[a].title||P)}let x=t?.originPinner&&g.isAuth&&g.id===t.originPinner.entityId||!t.isGoLinkless,v=(0,u.Z)({href:{pathname:d??S?.url??"",state:{trackingParams:l}},clientTrackingParams:l,target:"blank",externalData:{pin:t&&{advertiserId:t.advertiserId,attributionSourceId:t.attributionSourceId,board:t.board&&{url:t.board.url},campaignId:t.campaignId,entityId:t.entityId,isDownstreamPromotion:t.isDownstreamPromotion,isPromoted:t.isPromoted,pinner:t.pinner&&{username:t.pinner.username},pinPromotionId:t.pinPromotionId,promoter:t.promoter&&{entityId:t.promoter.entityId},storyPinDataId:t.storyPinDataId,trackingParams:t.trackingParams}}});if(!e.pin.entityId)return null;let b=P&&(0,f.jsx)(s.qd,{accessibilityLevel:1,lineClamp:y?2:void 0,size:m?"400":"600",children:P});return(0,f.jsx)("div",{itemProp:"name",children:(n||d)&&x?(0,f.jsx)(s.rU,{_onAuxClick:({event:e})=>{(0,c.UE)(e)&&(_(),e.preventDefault(),e.stopPropagation(),i&&i(),v({event:e}))},href:d??S?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:l})=>{l(),i&&i(),v({event:e})},rel:"nofollow",target:"blank",underline:"none",children:b}):b})},v=e=>{if(!e.pin.entityId)return null;let{entityId:l}=e.pin,a=e.pin.images_736x?.url&&e.pin.images_736x.width&&e.pin.images_736x.height?e.pin.images_736x:null;return(0,f.jsxs)(s.xu,{children:[(0,f.jsx)("meta",{content:`https://${y.Vi}/pin/${l}/`,"data-test-id":"meta-url",itemProp:"url"}),a&&(0,f.jsx)("meta",{content:a.url,"data-test-id":"meta-image",itemProp:"image"})]})},b=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{gridTitle:a,title:n}=l||{},i=a||n;return(0,f.jsx)(t.Fragment,{children:i&&(0,f.jsx)(m.Z,{children:(0,f.jsx)(x,{...e,children:i})})})},F=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{richMetadata:a,gridTitle:n}=l||{},{title:i}=a||{};return(0,f.jsx)(t.Fragment,{children:(n||i)&&(0,f.jsx)(m.Z,{itemType:_.iB.PRODUCT,children:(0,f.jsxs)(x,{...e,children:[n||i,(0,f.jsx)(v,{...e})]})})})},C=e=>{if(!e.pin.entityId)return null;let{pin:l}=e||{},{richMetadata:a,gridTitle:n}=l||{},{title:i}=a||{};return(0,f.jsx)(m.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(x,{...e,children:n||i})})},T=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:l}=e.pin.richMetadata.recipe;return(0,f.jsx)(m.Z,{itemType:_.iB.RECIPE,children:(0,f.jsx)(x,{...e,children:l})})},K=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,f.jsx)(m.Z,{children:(0,f.jsx)(x,{...e,children:(0,f.jsx)(s.xu,{children:e.pin.richMetadata.tutorial.name})})}),I=e=>{let l=e.pin.richSummary?.displayName;return l?(0,f.jsx)(m.Z,{children:(0,f.jsx)(x,{...e,children:(0,f.jsx)(s.xu,{children:l})})}):null},w=e=>{if(!e.pin.entityId)return null;let{gridTitle:l}=e.pin||{};return(0,f.jsx)(m.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(x,{...e,children:l})})};function L(e){let{carouselInfo:l}=e,{carouselData:a}=l||{},{carousel_slots:n}=a||{};return((n||[])[0]||{}).title}let A=e=>{let{pin:l,...a}=e;if(!e.pin.entityId)return null;let n=L(a);return(0,f.jsx)(m.Z,{itemType:_.iB.ARTICLE,children:(0,f.jsx)(x,{...e,children:n})})},R=({pinKey:e,...l})=>{(0,t.useEffect)(()=>{(0,i.Z)("Title","/app/www/closeup/desktop/Title.tsx")},[]);let a=(0,o.Z)(P,e),{carouselInfo:n,onTitleCheck:r}=l,u=!!a.entityId&&!!a.gridTitle,c=!!a.richMetadata?.tutorial?.name,p=!!a.richMetadata?.recipe?.name,m=!!a.richMetadata?.article?.name,y=!!a.richSummary?.displayName,h=(0,g.Z)(a),{clientTrackingParams:_}=(0,k.x4)(),x=w,v=!1;return n&&a.entityId&&L(l)?x=A:h?x=F:(e=>{let{carouselData:l,title:a}=e??{};if(a)return!0;if(l){let{carouselSlots:e,index:a}=l;if(null!=a&&e?.[a]&&e[a].title)return!0}return!1})(a)?x=b:c?x=K:p?x=T:m?x=C:y?x=I:u||(v=!0),(0,t.useEffect)(()=>{r?.(v)},[v,r]),(0,f.jsxs)(t.Fragment,{children:[(0,f.jsx)(d.Z,{unsafeCSS:S}),(0,f.jsx)("div",{className:"CloseupTitleCard",children:(0,f.jsx)(s.xu,{children:(0,f.jsx)(x,{...l,clientTrackingParams:_,pin:a})})})]})}},289747:function(e,l,a){a.d(l,{Z:()=>p});var n=a(686659),i=a(667294),t=a(399353),s=a(519371),r=a(774838),o=a(15392),d=a(113759),u=a(785893);let c=(0,i.memo)(function({children:e,isStoryPin:l=!1,isWideVideo:a=!1}){let n,{showCloseupContentRight:i,showProductDetailPage:c,closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m,maxWidth:y}=(0,d.x4)(),{fiftyPercentWidth:h}=(0,s.Re)(),_=a?o.KP:y,k=p?o.Gg:o.CI,f=a?o.Gg:c?k:1050,{isRTL:S}=(0,r.B)();return l?(0,u.jsx)(t.xu,{bottom:!0,display:"flex",left:S,position:"absolute",right:!S,top:!0,width:g?h:o.Gg,children:e}):(p||g||(n=(i||a)&&"lg"===m?_:f),(0,u.jsx)(t.xu,{maxWidth:n,width:a||p?"100%":void 0,children:e}))});function p(e){return(0,i.useEffect)(()=>{(0,n.Z)("ResponsiveCloseupContainer","/app/www/closeup/desktop/responsiveContainers/ResponsiveCloseupContainer.tsx")},[]),(0,u.jsx)(c,{...e})}},855574:function(e,l,a){a.d(l,{Z:()=>d});var n=a(686659),i=a(667294),t=a(399353),s=a(113759),r=a(785893);let o=(0,i.memo)(function({children:e}){let{showCloseupContentRight:l}=(0,s.x4)();return(0,r.jsx)(t.kC,{direction:l?"row":"column",flex:"grow",children:e})});function d(e){return(0,i.useEffect)(()=>{(0,n.Z)("ResponsivePaddingContainer","/app/www/closeup/desktop/responsiveContainers/ResponsivePaddingContainer.tsx")},[]),(0,r.jsx)(o,{...e})}},60707:function(e,l,a){a.d(l,{Z:()=>t});var n=a(566431),i=a(127051);let t=(e,l,a,t)=>{let s=e||void 0,r=(0,i.Z)({url:l});return"PUSH"===s?"click":("POP"!==s||a)&&"news_hub"!==r.entrySource?t&&(0,n.sV)(t)?"deeplink":"click":"deeplink"}},194801:function(e,l,a){a.d(l,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},410890:function(e,l,a){a.d(l,{Z:()=>c});var n=a(686659),i=a(667294),t=a(399353),s=a(230201),r=a(924591),o=a(24246),d=a(216975),u=a(785893);function c({boardName:e,boardUrl:l,isBoardlessPin:a,isFromPinBuilder:c,hasNewPin:p,onChangeButtonClick:g,onVisitButtonClick:m=()=>{},onHide:y,onUndo:h,pinImageUrl:_}){let k;(0,i.useEffect)(()=>{(0,n.Z)("PostSavedPinToast","/app/www/common/PinBetterSave/PostSavedPinToast.tsx")},[]);let f=(0,o.Z)(),{logContextEvent:S}=(0,s.u)();c?k={accessibilityLabel:f.bt("Visit Pin", "Visit Pin", "PostSavedPinToast.a11yVisitButton", undefined, true),label:f.bt("Visit", "Visit", "PostSavedPinToast.VisitButton", undefined, true),size:"lg",onClick:m}:(g||h)&&(k={accessibilityLabel:p&&a&&g?f.bt("Change Pin destination", "Change Pin destination", "PostSavedPinToast.a11yChangeButton", undefined, true):f.bt("Undo saved Pin", "Undo Saved Pin", "PostSavedPinToast.a11yUndoButton", undefined, true),label:p&&a&&g?f.bt("Change", "Change", "PostSavedPinToast.ChangeButton", undefined, true):f.bt("Undo", "Undo", "PostSavedPinToast.UndoButton", undefined, true),size:"lg",onClick:p&&a&&g?()=>g():h});let P=()=>{p&&a&&g&&S({event_type:101,component:14409})};return(0,u.jsx)(r.Z,{duration:a?6e3:3e3,imageUrl:_,onHide:y,primaryAction:k,text:(0,u.jsx)(t.xe,{overflow:"normal",size:"200",children:(0,d.XB)({text:f.bt("Saved to <a id=\"1\">{{ boardName }}</a>", "Saved to <a id=\"1\">{{ boardName }}</a>", "PostSavedPinToast.SavedToBoardToast.Message", undefined, true),markers:{boardName:e??""},jsxReplacements:{1:({innerHtmlStrings:e})=>(0,u.jsx)(t.rU,{display:"block",href:a?"/me/":l??"",onClick:P,children:(0,u.jsx)(t.xe,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})}})}),thumbnail:a?{icon:(0,u.jsx)(t.JO,{accessibilityLabel:f.bt("Saved to profile thumbnail", "Saved to profile thumbnail", "PostSavedPinToast.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"clock-history",size:24})}:void 0})}},548782:function(e,l,a){a.r(l),a.d(l,{default:()=>_});var n=a(686659),i=a(667294),t=a(399353),s=a(230201),r=a(806513),o=a(889433),d=a(79271),u=a(501010),c=a(100723),p=a(574991),g=a(113759),m=a(991449),y=a(785893);let h=r.yF;function _({contextLogData:e,bubbles:l,id:a,referringSource:r,slotIndex:_,storyType:k,title:f,titleIcon:S,viewType:P,viewParameter:x}){(0,i.useEffect)(()=>{(0,n.Z)("BubblesGridRep","/app/www/discover/Bubbles/BubblesGridRep.tsx")},[]);let{logContextEvent:v}=(0,s.u)(),{closeupWithinMasonryEnabled:b}=(0,g.x4)(),{checkExperiment:F}=(0,u.Z)(),C=l?.map(({type:e,id:l})=>e+":"+l).join("|"),T=(0,i.useMemo)(()=>({story_type:k,story_id:a,...e,content_ids:C}),[k,a,e,C]),K=F("web_module_logging_user_sequence_aux_data").anyEnabled,I=!!S&&(0,p.Z)(S);return(0,y.jsx)(d.Fw,{componentType:200,contextLogData:T,impressionType:"Story",loggingId:a,objectIdStr:a,slotIndex:_,viewParameter:x,viewType:P,children:({impressionTrackerRef:e})=>(0,y.jsxs)(t.xu,{ref:e,children:[f&&(0,y.jsxs)(t.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[I&&(0,y.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,y.jsx)(t.JO,{accessibilityLabel:"",color:"default",icon:I,size:14})}),(0,y.jsx)(t.qd,{accessibilityLevel:2,size:"300",children:(0,y.jsx)(t.xv,{inline:!0,weight:"bold",children:(0,c.Z)(f)})})]}),(0,y.jsx)(t.xu,{role:"list",children:l?.map((e,l)=>(0,y.jsx)(t.xu,{flex:"none",paddingY:1,role:"listitem",children:(0,y.jsx)(m.Z,{bubble:e,contextLogData:T,height:103,onClick:l=>{v({event_type:101,object_id_str:l,view_type:P,view_parameter:x,component:200,aux_data:K?{...T,module_image_signature:function(e){if(!e)return;let l=e.cover_images?.[0]?.originals?.url;return l?(0,o.Z)(l):void 0}(e)||null}:T})},referringSource:r??void 0,slotIndex:l,storyId:a,viewParameter:x,viewType:P,width:b?"100%":h})},`bubble-${e.id}`))})]})})}},261926:function(e,l,a){a.d(l,{CT:()=>n,HE:()=>i,Mq:()=>t,ti:()=>s});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},i={CLOSEUP:"closeup"},t={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},s={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},171424:function(e,l,a){a.d(l,{N:()=>n,p:()=>i});let n=4,i={background:"rgba(0, 0, 0, 0.4)",transition:"opacity 200ms ease-in-out"}},225564:function(e,l,a){a.d(l,{$W:()=>g,AL:()=>s,AT:()=>c,BT:()=>o,F9:()=>d,HB:()=>m,L5:()=>t,RL:()=>r,cp:()=>n,gl:()=>i,kS:()=>u,qR:()=>p});let n=32,i=80,t="3 / 4",s=2,r=1.5,o=.02,d=.8,u=300,c=50,p="cubic-bezier(0.68, -0.55, 0.265, 1.55)",g="cubic-bezier(0.55, 0, 0, 1)",m="0 2px 8px rgba(0, 0, 0, 0.15)"},606248:function(e,l,a){a.d(l,{CH:()=>r,EH:()=>i,ID:()=>t,W3:()=>p,Zg:()=>o,gW:()=>s,gn:()=>d,kD:()=>c,pz:()=>u});var n=a(171424);function i(e){let l=new Map;return e.forEach(e=>{e?.id&&l.set(e.id,e)}),l}function t(e,l){return e.map(e=>l.get(e))}function s(...e){let l=new Map;for(let a of e)a.forEach((e,a)=>{l.set(a,e)});return l}function r(e,l){let{max:a=n.N,sort:i=!1,trim:t=!1}=l??{},s=e;t&&(s=s.map(e=>e.trim()));let r=Array.from(new Set(s.filter(Boolean))).slice(0,a);return i?[...r].sort():r}function o(e){return r(e,{max:1/0})}function d(e){return e.split(",").map(e=>e.trim()).filter(Boolean)}function u(e){return e.filter(Boolean).join(",")}function c(e,l="236x"){return e?.images?e.images[l]?.url||e.images["236x"===l?"474x":"236x"]?.url||null:null}function p(e,l="236x"){if(!e?.images)return{width:1,height:1};let a=e.images[l];if(a?.width&&a?.height)return{width:a.width,height:a.height};let n=e.images["236x"===l?"474x":"236x"];return{width:n?.width||1,height:n?.height||1}}},241028:function(e,l,a){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}a.d(l,{X:()=>i,d:()=>n})},1769:function(e,l,a){a.d(l,{Z:()=>s});var n=a(147950),i=a(481923),t=a(233377);function s(e,l,a,s){switch(e){case 0:return function({isShortened:e,minutes:l,i18n:a}){if(!l)return"";if(e)return(0,t.Z)(l,a).join("");let s=(0,i.Z)((0,n.X)({m:l}),a);if(!s)return"";let r=s.join(""),o=a.bt("Cooking time", "Cook Time", "ideapin.basics.cookTime", undefined, true);return`${o}: ${r}`}({minutes:parseInt(l??"0",10),i18n:a,isShortened:s});case 1:return function({servingSize:e,i18n:l}){return e?1===e?`${e} ${l.bt("serving", "serving", "ideapin.basics.servings", undefined, true)}`:`${e} ${l.bt("servings", "servings", "ideapin.basics.servings", undefined, true)}`:""}({servingSize:parseInt(l??"0",10),i18n:a});case 2:return function({difficulty:e,i18n:l}){let a={1:l.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:l.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:l.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=l.bt("Difficulty", "Difficulty", "ideapin.basics.difficulty", undefined, true);return`${n}: ${a[e??"1"]}`}({difficulty:l,i18n:a});default:return""}}},977854:function(e,l,a){a.d(l,{Z:()=>n});let n=e=>e.join(` \u2022 `)},380575:function(e,l,a){a.d(l,{Z:()=>s});var n=a(686659),i=a(667294),t=a(785893);function s({children:e,dir:l="auto"}){return(0,i.useEffect)(()=>{(0,n.Z)("SafeTextDirection","/app/www/storyPins/utility/SafeTextDirection.tsx")},[]),(0,t.jsx)("div",{"data-test-id":"safeTextDirection",dir:l,children:e})}},292917:function(e,l,a){a.d(l,{j:()=>i});let n=RegExp("^[^A-Za-z--A-Za-z----]*[---]");function i(e){return n.test(e||"")?"rtl":"ltr"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/67879.en_GB-371471677389f873.mjs.map