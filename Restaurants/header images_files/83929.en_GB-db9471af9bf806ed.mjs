(self.modernJsonp=self.modernJsonp||[]).push([["83929"],{446291:function(e,t,a){var r={"./he_IL/LocaleDataLoader":["175496","94661"],"./zh_TW/LocaleDataLoader":["758893","8846"],"./en_AU/LocaleDataLoader":["685005","98982"],"./en_GB/LocaleDataLoader":["450875","63925"],"./en_IN/LocaleDataLoader":["108941","21232"],"./cs_CZ/LocaleDataLoader":["5362","78080"],"./hi_IN/LocaleDataLoader":["609030","37452"],"./ko_KR/LocaleDataLoader":["885361","53361"],"./nl/LocaleDataLoader":["593752","85528"],"./vi_VN/LocaleDataLoader":["754122","99083"],"./es_ES/LocaleDataLoader":["27246","92758"],"./sv_SE/LocaleDataLoader":["249853","60127"],"./ru_RU/LocaleDataLoader":["306087","86610"],"./uk_UA/LocaleDataLoader":["150487","43064"],"./en_US/LocaleDataLoader":["351760","95303"],"./ms_MY/LocaleDataLoader":["529824","23200"],"./bn_IN/LocaleDataLoader":["785293","41651"],"./nb_NO/LocaleDataLoader":["489209","15242"],"./it/LocaleDataLoader":["969582","7613"],"./te_IN/LocaleDataLoader":["462394","33744"],"./es_419/LocaleDataLoader":["896844","44068"],"./es_AR/LocaleDataLoader":["971273","14394"],"./tr/LocaleDataLoader":["626438","27644"],"./af_ZA/LocaleDataLoader":["978080","6065"],"./es_MX/LocaleDataLoader":["951796","99147"],"./pt_BR/LocaleDataLoader":["852931","60566"],"./fi_FI/LocaleDataLoader":["369347","80158"],"./da_DK/LocaleDataLoader":["11114","88844"],"./fr/LocaleDataLoader":["273629","12168"],"./pt_PT/LocaleDataLoader":["147951","87457"],"./ar_SA/LocaleDataLoader":["66130","29585"],"./sk_SK/LocaleDataLoader":["215225","5539"],"./hu_HU/LocaleDataLoader":["827390","55719"],"./hr_HR/LocaleDataLoader":["169293","60605"],"./tl_PH/LocaleDataLoader":["649698","9849"],"./el_GR/LocaleDataLoader":["161910","2304"],"./ja/LocaleDataLoader":["388227","34040"],"./ro_RO/LocaleDataLoader":["337630","88369"],"./es_US/LocaleDataLoader":["515562","52458"],"./zh_CN/LocaleDataLoader":["181594","90170"],"./pl_PL/LocaleDataLoader":["105585","82294"],"./bg_BG/LocaleDataLoader":["454662","36738"],"./id_ID/LocaleDataLoader":["244515","51603"],"./th_TH/LocaleDataLoader":["669649","61242"],"./de/LocaleDataLoader":["576124","17889"]};function n(e){if(!a.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],n=t[0];return a.e(t[1]).then(function(){return a(n)})}n.keys=()=>Object.keys(r),n.id=446291,e.exports=n},978991:function(e,t,a){var r={"./af_ZA/LocaleDataLoader":"978080","./ar_SA/LocaleDataLoader":"66130","./bg_BG/LocaleDataLoader":"454662","./bn_IN/LocaleDataLoader":"785293","./cs_CZ/LocaleDataLoader":"5362","./da_DK/LocaleDataLoader":"11114","./de/LocaleDataLoader":"576124","./el_GR/LocaleDataLoader":"161910","./en_AU/LocaleDataLoader":"685005","./en_GB/LocaleDataLoader":"450875","./en_IN/LocaleDataLoader":"108941","./en_US/LocaleDataLoader":"351760","./es_419/LocaleDataLoader":"896844","./es_AR/LocaleDataLoader":"971273","./es_ES/LocaleDataLoader":"27246","./es_MX/LocaleDataLoader":"951796","./es_US/LocaleDataLoader":"515562","./fi_FI/LocaleDataLoader":"369347","./fr/LocaleDataLoader":"273629","./he_IL/LocaleDataLoader":"175496","./hi_IN/LocaleDataLoader":"609030","./hr_HR/LocaleDataLoader":"169293","./hu_HU/LocaleDataLoader":"827390","./id_ID/LocaleDataLoader":"244515","./it/LocaleDataLoader":"969582","./ja/LocaleDataLoader":"388227","./ko_KR/LocaleDataLoader":"885361","./ms_MY/LocaleDataLoader":"529824","./nb_NO/LocaleDataLoader":"489209","./nl/LocaleDataLoader":"593752","./pl_PL/LocaleDataLoader":"105585","./pt_BR/LocaleDataLoader":"852931","./pt_PT/LocaleDataLoader":"147951","./ro_RO/LocaleDataLoader":"337630","./ru_RU/LocaleDataLoader":"306087","./sk_SK/LocaleDataLoader":"215225","./sv_SE/LocaleDataLoader":"249853","./te_IN/LocaleDataLoader":"462394","./th_TH/LocaleDataLoader":"669649","./tl_PH/LocaleDataLoader":"649698","./tr/LocaleDataLoader":"626438","./uk_UA/LocaleDataLoader":"150487","./vi_VN/LocaleDataLoader":"754122","./zh_CN/LocaleDataLoader":"181594","./zh_TW/LocaleDataLoader":"758893"};function n(e){var t=s(e);if(!a.m[t]){var r=Error("Module '"+e+"' ('"+t+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return a(t)}function s(e){if(!a.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=()=>Object.keys(r),n.resolve=s,n.id=978991,e.exports=n},983946:function(e,t,a){function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}a.d(t,{Z:()=>r})},777349:function(e,t,a){a.d(t,{Z:()=>o});var r=a(983946),n=a(619013),s=a(13882);function o(e,t){(0,s.Z)(2,arguments);var a=(0,n.Z)(e),o=(0,r.Z)(t);return isNaN(o)?new Date(NaN):(o&&a.setDate(a.getDate()+o),a)}},707069:function(e,t,a){a.d(t,{Z:()=>o});var r=a(983946),n=a(777349),s=a(13882);function o(e,t){(0,s.Z)(2,arguments);var a=(0,r.Z)(t);return(0,n.Z)(e,-a)}},782677:function(e,t,a){function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){return!!(e&&"function"==typeof e.hasOwnProperty&&(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,a){return Object.keys(e).reduce(function(t,r){var n=""+r;return t.has(n)?t.set(n,a(t.get(n),e[n])):t},t)}a.d(t,{Fv:()=>R,fK:()=>m});var d=function(){function e(e,t,a){if(void 0===t&&(t={}),void 0===a&&(a={}),!e||"string"!=typeof e)throw Error("Expected a string key for Entity, but found "+e+".");var r=a,n=r.idAttribute,o=void 0===n?"id":n,l=r.mergeStrategy,d=void 0===l?function(e,t){return s({},e,t)}:l,c=r.processStrategy,u=void 0===c?function(e){return s({},e)}:c,_=r.fallbackStrategy;this._key=e,this._getId="function"==typeof o?o:function(e){return i(e)?e.get(o):e[o]},this._idAttribute=o,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=void 0===_?function(e,t){}:_,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,a){var r,n=e[a];return s({},t,((r={})[a]=n,r))},this.schema||{})},t.getId=function(e,t,a){return this._getId(e,t,a)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,a,r,n,s){var o=this,i=this.getId(e,t,a),l=this.key;if(l in s||(s[l]={}),i in s[l]||(s[l][i]=[]),s[l][i].some(function(t){return t===e}))return i;s[l][i].push(e);var d=this._processStrategy(e,t,a);return Object.keys(this.schema).forEach(function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var a=o.schema[t],i="function"==typeof a?a(e):a;d[t]=r(d[t],d,t,i,n,s)}}),n(this,d,e,t,a),i},t.denormalize=function(e,t){var a=this;return i(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach(function(r){if(e.hasOwnProperty(r)){var n=a.schema[r];e[r]=t(e[r],n)}}),e)},n(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,a){return!this.isSingleSchema&&this._schemaAttribute(e,t,a)},t.inferSchema=function(e,t,a){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(e,t,a);return this.schema[r]},t.normalizeValue=function(e,t,a,r,n,s){var o=this.inferSchema(e,t,a);if(!o)return e;var i=r(e,t,a,o,n,s);return this.isSingleSchema||null==i?i:{id:i,schema:this.getSchemaAttribute(e,t,a)}},t.denormalizeValue=function(e,t){var a=i(e)?e.get("schema"):e.schema;return this.isSingleSchema||a?t((this.isSingleSchema?void 0:i(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[a]):e},n(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,a){if(!a)throw Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,a)||this}o(t,e);var a=t.prototype;return a.normalize=function(e,t,a,r,n,s){return this.normalizeValue(e,t,a,r,n,s)},a.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),_=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var a=t.prototype;return a.normalize=function(e,t,a,r,n,o){var i=this;return Object.keys(e).reduce(function(t,a,l){var d,c=e[a];return null!=c?s({},t,((d={})[a]=i.normalizeValue(c,e,a,r,n,o),d)):t},{})},a.denormalize=function(e,t){var a=this;return Object.keys(e).reduce(function(r,n){var o,i=e[n];return s({},r,((o={})[n]=a.denormalizeValue(i,t),o))},{})},t}(c),p=function(e){if(Array.isArray(e)&&e.length>1)throw Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},E=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},S=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var a=t.prototype;return a.normalize=function(e,t,a,r,n,s){var o=this;return E(e).map(function(e,i){return o.normalizeValue(e,t,a,r,n,s)}).filter(function(e){return null!=e})},a.denormalize=function(e,t){var a=this;return e&&e.map?e.map(function(e){return a.denormalizeValue(e,t)}):e},t}(c),y=function(e,t,a,r,n,o,i){var l=s({},t);return Object.keys(e).forEach(function(a){var r=e[a],s="function"==typeof r?r(t):r,d=n(t[a],t,a,s,o,i);null==d?delete l[a]:l[a]=d}),l},T=function(e,t,a){if(i(t))return l(e,t,a);var r=s({},t);return Object.keys(e).forEach(function(t){null!=r[t]&&(r[t]=a(r[t],e[t]))}),r},m={Array:S,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,a){var r,n=e[a];return s({},t,((r={})[a]=n,r))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return y.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return T.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:_},R=function(e,t){if(!e||"object"!=typeof e)throw Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var a={};return{entities:a,result:function e(t,a,r,n,s,o){return"object"==typeof t&&t?"object"!=typeof n||n.normalize&&"function"==typeof n.normalize?n.normalize(t,a,r,e,s,o):(Array.isArray(n)?function(e,t,a,r,n,s,o){return e=p(e),E(t).map(function(t,i){return n(t,a,r,e,s,o)})}:y)(n,t,a,r,e,s,o):t}(e,e,null,t,function(e,t,r,n,s){var o=e.key,i=e.getId(r,n,s);o in a||(a[o]={});var l=a[o][i];l?a[o][i]=e.merge(l,t):a[o][i]=t},{})}}},525169:function(e,t,a){var r=a(973935),n={stream:!0},s=Object.prototype.hasOwnProperty,o=new Map;function i(e){var t=a(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function l(){}function d(e){for(var t=e[1],r=[],n=0;n<t.length;){var s=t[n++],d=t[n++],c=o.get(s);void 0===c?(u.set(s,d),d=a.e(s),r.push(d),c=o.set.bind(o,s,null),d.then(c,l),o.set(s,d)):null!==c&&r.push(c)}return 4===e.length?0===r.length?i(e[0]):Promise.all(r).then(function(){return i(e[0])}):0<r.length?Promise.all(r):null}function c(e){var t=a(e[0]);if(4===e.length&&"function"==typeof t.then)if("fulfilled"===t.status)t=t.value;else throw t.reason;return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:s.call(t,e[2])?t[e[2]]:void 0}var u=new Map,_=a.u;a.u=function(e){var t=u.get(e);return void 0!==t?t:_(e)};var p=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=Symbol.for("react.transitional.element"),S=Symbol.for("react.lazy"),y=Symbol.iterator,T=Symbol.asyncIterator,m=Array.isArray,R=Object.getPrototypeOf,f=Object.prototype,A=new WeakMap;function g(e,t,a){A.has(e)||A.set(e,{id:t,originalBind:e.bind,bound:a})}function I(e,t,a){this.status=e,this.value=t,this.reason=a}function h(e){switch(e.status){case"resolved_model":G(e);break;case"resolved_module":M(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"halted":throw e;default:throw e.reason}}function C(e,t){for(var a=0;a<e.length;a++){var r=e[a];"function"==typeof r?r(t):x(r,t)}}function P(e,t){for(var a=0;a<e.length;a++){var r=e[a];"function"==typeof r?r(t):V(r,t)}}function v(e,t){var a=t.handler.chunk;if(null===a)return null;if(a===e)return t.handler;if(null!==(t=a.value))for(a=0;a<t.length;a++){var r=t[a];if("function"!=typeof r&&null!==(r=v(e,r)))return r}return null}function O(e,t,a){switch(e.status){case"fulfilled":C(t,e.value);break;case"blocked":for(var r=0;r<t.length;r++){var n=t[r];if("function"!=typeof n){var s=v(e,n);null!==s&&(x(n,s.value),t.splice(r,1),r--,null!==a&&-1!==(n=a.indexOf(n))&&a.splice(n,1))}}case"pending":if(e.value)for(r=0;r<t.length;r++)e.value.push(t[r]);else e.value=t;if(e.reason){if(a)for(t=0;t<a.length;t++)e.reason.push(a[t])}else e.reason=a;break;case"rejected":a&&P(a,e.reason)}}function N(e,t,a){"pending"!==t.status&&"blocked"!==t.status?t.reason.error(a):(e=t.reason,t.status="rejected",t.reason=a,null!==e&&P(e,a))}function D(e,t,a){return new I("resolved_model",(a?'{"done":true,"value":':'{"done":false,"value":')+t+"}",e)}function L(e,t,a,r){w(e,t,(r?'{"done":true,"value":':'{"done":false,"value":')+a+"}")}function w(e,t,a){if("pending"!==t.status)t.reason.enqueueModel(a);else{var r=t.value,n=t.reason;t.status="resolved_model",t.value=a,t.reason=e,null!==r&&(G(t),O(t,r,n))}}function b(e,t,a){if("pending"===t.status||"blocked"===t.status){e=t.value;var r=t.reason;t.status="resolved_module",t.value=a,null!==e&&(M(t),O(t,e,r))}}I.prototype=Object.create(Promise.prototype),I.prototype.then=function(e,t){switch(this.status){case"resolved_model":G(this);break;case"resolved_module":M(this)}switch(this.status){case"fulfilled":"function"==typeof e&&e(this.value);break;case"pending":case"blocked":"function"==typeof e&&(null===this.value&&(this.value=[]),this.value.push(e)),"function"==typeof t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;case"halted":break;default:"function"==typeof t&&t(this.reason)}};var U=null;function G(e){var t=U;U=null;var a=e.value,r=e.reason;e.status="blocked",e.value=null,e.reason=null;try{var n=JSON.parse(a,r._fromJSON),s=e.value;if(null!==s)for(e.value=null,e.reason=null,a=0;a<s.length;a++){var o=s[a];"function"==typeof o?o(n):x(o,n,e)}if(null!==U){if(U.errored)throw U.reason;if(0<U.deps){U.value=n,U.chunk=e;return}}e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}finally{U=t}}function M(e){try{var t=c(e.value);e.status="fulfilled",e.value=t}catch(t){e.status="rejected",e.reason=t}}function k(e,t){e._closed=!0,e._closedReason=t,e._chunks.forEach(function(a){"pending"===a.status&&N(e,a,t)})}function B(e){return{$$typeof:S,_payload:e,_init:h}}function F(e,t){var a=e._chunks,r=a.get(t);return r||(r=e._closed?new I("rejected",null,e._closedReason):new I("pending",null,null),a.set(t,r)),r}function x(e,t){for(var a=e.response,r=e.handler,n=e.parentObject,s=e.key,o=e.map,i=e.path,l=1;l<i.length;l++){for(;"object"==typeof t&&null!==t&&t.$$typeof===S;)if((t=t._payload)===r.chunk)t=r.value;else{switch(t.status){case"resolved_model":G(t);break;case"resolved_module":M(t)}switch(t.status){case"fulfilled":t=t.value;continue;case"blocked":var d=v(t,e);if(null!==d){t=d.value;continue}case"pending":i.splice(0,l-1),null===t.value?t.value=[e]:t.value.push(e),null===t.reason?t.reason=[e]:t.reason.push(e);return;case"halted":return;default:V(e,t.reason);return}}t=t[i[l]]}for(;"object"==typeof t&&null!==t&&t.$$typeof===S;)if((e=t._payload)===r.chunk)t=r.value;else{switch(e.status){case"resolved_model":G(e);break;case"resolved_module":M(e)}if("fulfilled"===e.status){t=e.value;continue}break}a=o(a,t,n,s),n[s]=a,""===s&&null===r.value&&(r.value=a),n[0]===E&&"object"==typeof r.value&&null!==r.value&&r.value.$$typeof===E&&(n=r.value,"3"===s)&&(n.props=a),r.deps--,0===r.deps&&null!==(s=r.chunk)&&"blocked"===s.status&&(n=s.value,s.status="fulfilled",s.value=r.value,s.reason=r.reason,null!==n&&C(n,r.value))}function V(e,t){var a=e.handler;e=e.response,a.errored||(a.errored=!0,a.value=null,a.reason=t,null!==(a=a.chunk)&&"blocked"===a.status&&N(e,a,t))}function H(e,t,a,r,n,s){if(U){var o=U;o.deps++}else o=U={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1};return t={response:r,handler:o,parentObject:t,key:a,map:n,path:s},null===e.value?e.value=[t]:e.value.push(t),null===e.reason?e.reason=[t]:e.reason.push(t),null}function Y(e,t,a,r){if(!e._serverReferenceConfig)return function(e,t){function a(){var e=Array.prototype.slice.call(arguments);return n?"fulfilled"===n.status?t(r,n.value.concat(e)):Promise.resolve(n).then(function(a){return t(r,a.concat(e))}):t(r,e)}var r=e.id,n=e.bound;return g(a,r,n),a}(t,e._callServer);var n=function(e,t){var a="",r=e[t];if(r)a=r.name;else{var n=t.lastIndexOf("#");if(-1!==n&&(a=t.slice(n+1),r=e[t.slice(0,n)]),!r)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return r.async?[r.id,r.chunks,a,1]:[r.id,r.chunks,a]}(e._serverReferenceConfig,t.id),s=d(n);if(s)t.bound&&(s=Promise.all([s,t.bound]));else{if(!t.bound)return g(s=c(n),t.id,t.bound),s;s=Promise.resolve(t.bound)}if(U){var o=U;o.deps++}else o=U={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1};return s.then(function(){var e=c(n);if(t.bound){var s=t.bound.value.slice(0);s.unshift(null),e=e.bind.apply(e,s)}g(e,t.id,t.bound),a[r]=e,""===r&&null===o.value&&(o.value=e),a[0]===E&&"object"==typeof o.value&&null!==o.value&&o.value.$$typeof===E&&(s=o.value,"3"===r)&&(s.props=e),o.deps--,0===o.deps&&null!==(e=o.chunk)&&"blocked"===e.status&&(s=e.value,e.status="fulfilled",e.value=o.value,null!==s&&C(s,o.value))},function(t){if(!o.errored){o.errored=!0,o.value=null,o.reason=t;var a=o.chunk;null!==a&&"blocked"===a.status&&N(e,a,t)}}),null}function j(e,t,a,r,n){var s=parseInt((t=t.split(":"))[0],16);switch((s=F(e,s)).status){case"resolved_model":G(s);break;case"resolved_module":M(s)}switch(s.status){case"fulfilled":s=s.value;for(var o=1;o<t.length;o++){for(;"object"==typeof s&&null!==s&&s.$$typeof===S;){switch((s=s._payload).status){case"resolved_model":G(s);break;case"resolved_module":M(s)}switch(s.status){case"fulfilled":s=s.value;break;case"blocked":case"pending":return H(s,a,r,e,n,t.slice(o-1));case"halted":return U?(e=U,e.deps++):U={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1},null;default:return U?(U.errored=!0,U.value=null,U.reason=s.reason):U={parent:null,chunk:null,value:null,reason:s.reason,deps:0,errored:!0},null}}s=s[t[o]]}for(;"object"==typeof s&&null!==s&&s.$$typeof===S;){switch((t=s._payload).status){case"resolved_model":G(t);break;case"resolved_module":M(t)}if("fulfilled"===t.status){s=t.value;continue}break}return n(e,s,a,r);case"pending":case"blocked":return H(s,a,r,e,n,t);case"halted":return U?(e=U,e.deps++):U={parent:null,chunk:null,value:null,reason:null,deps:1,errored:!1},null;default:return U?(U.errored=!0,U.value=null,U.reason=s.reason):U={parent:null,chunk:null,value:null,reason:s.reason,deps:0,errored:!0},null}}function W(e,t){return new Map(t)}function Z(e,t){return new Set(t)}function $(e,t){return new Blob(t.slice(1),{type:t[0]})}function z(e,t){e=new FormData;for(var a=0;a<t.length;a++)e.append(t[a][0],t[a][1]);return e}function q(e,t){return t[Symbol.iterator]()}function K(e,t){return t}function Q(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function X(e,t,a,r,n,s,o){var i,l=new Map;this._bundlerConfig=e,this._serverReferenceConfig=t,this._moduleLoading=a,this._callServer=void 0!==r?r:Q,this._encodeFormAction=n,this._nonce=s,this._chunks=l,this._stringDecoder=new TextDecoder,this._fromJSON=null,this._closed=!1,this._closedReason=null,this._tempRefs=o,this._fromJSON=(i=this,function(e,t){if("string"==typeof t){var a=i,r=this,n=e,s=t;if("$"===s[0]){if("$"===s)return null!==U&&"0"===n&&(U={parent:U,chunk:null,value:null,reason:null,deps:0,errored:!1}),E;switch(s[1]){case"$":return s.slice(1);case"L":return B(a=F(a,r=parseInt(s.slice(2),16)));case"@":return F(a,r=parseInt(s.slice(2),16));case"S":return Symbol.for(s.slice(2));case"F":return j(a,s=s.slice(2),r,n,Y);case"T":if(r="$"+s.slice(2),null==(a=a._tempRefs))throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return a.get(r);case"Q":return j(a,s=s.slice(2),r,n,W);case"W":return j(a,s=s.slice(2),r,n,Z);case"B":return j(a,s=s.slice(2),r,n,$);case"K":return j(a,s=s.slice(2),r,n,z);case"Z":return en();case"i":return j(a,s=s.slice(2),r,n,q);case"I":return 1/0;case"-":return"$-0"===s?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(s.slice(2)));case"n":return BigInt(s.slice(2));default:return j(a,s=s.slice(1),r,n,K)}}return s}if("object"==typeof t&&null!==t){if(t[0]===E){if(e={$$typeof:E,type:t[1],key:t[2],ref:null,props:t[3]},null!==U){if(U=(t=U).parent,t.errored)e=B(e=new I("rejected",null,t.reason));else if(0<t.deps){var o=new I("blocked",null,null);t.value=e,t.chunk=o,e=B(o)}}}else e=t;return e}return t})}function J(e,t,a){var r=(e=e._chunks).get(t);r&&"pending"!==r.status?r.reason.enqueueValue(a):(a=new I("fulfilled",a,null),e.set(t,a))}function ee(e,t,a,r){var n=(e=e._chunks).get(t);n?"pending"===n.status&&(t=n.value,n.status="fulfilled",n.value=a,n.reason=r,null!==t&&C(t,n.value)):(a=new I("fulfilled",a,r),e.set(t,a))}function et(e,t,a){var r=null;a=new ReadableStream({type:a,start:function(e){r=e}});var n=null;ee(e,t,a,{enqueueValue:function(e){null===n?r.enqueue(e):n.then(function(){r.enqueue(e)})},enqueueModel:function(t){if(null===n){var a=new I("resolved_model",t,e);G(a),"fulfilled"===a.status?r.enqueue(a.value):(a.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),n=a)}else{a=n;var s=new I("pending",null,null);s.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),n=s,a.then(function(){n===s&&(n=null),w(e,s,t)})}},close:function(){if(null===n)r.close();else{var e=n;n=null,e.then(function(){return r.close()})}},error:function(e){if(null===n)r.error(e);else{var t=n;n=null,t.then(function(){return r.error(e)})}}})}function ea(){return this}function er(e,t,a){var r=[],n=!1,s=0,o={};o[T]=function(){var e,t=0;return(e={next:e=function(e){if(void 0!==e)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(t===r.length){if(n)return new I("fulfilled",{done:!0,value:void 0},null);r[t]=new I("pending",null,null)}return r[t++]}})[T]=ea,e},ee(e,t,a?o[T]():o,{enqueueValue:function(e){if(s===r.length)r[s]=new I("fulfilled",{done:!1,value:e},null);else{var t=r[s],a=t.value,n=t.reason;t.status="fulfilled",t.value={done:!1,value:e},null!==a&&O(t,a,n)}s++},enqueueModel:function(t){s===r.length?r[s]=D(e,t,!1):L(e,r[s],t,!1),s++},close:function(t){for(n=!0,s===r.length?r[s]=D(e,t,!0):L(e,r[s],t,!0),s++;s<r.length;)L(e,r[s++],'"$undefined"',!0)},error:function(t){for(n=!0,s===r.length&&(r[s]=new I("pending",null,null));s<r.length;)N(e,r[s++],t)}})}function en(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");return e.stack="Error: "+e.message,e}function es(e,t){for(var a=e.length,r=t.length,n=0;n<a;n++)r+=e[n].byteLength;r=new Uint8Array(r);for(var s=n=0;s<a;s++){var o=e[s];r.set(o,n),n+=o.byteLength}return r.set(t,n),r}function eo(e,t,a,r,n,s){J(e,t,n=new n((a=0===a.length&&0==r.byteOffset%s?r:es(a,r)).buffer,a.byteOffset,a.byteLength/s))}function ei(e){k(e,Error("Connection closed."))}function el(e){return new X(null,null,null,e&&e.callServer?e.callServer:void 0,void 0,void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function ed(e,t,a){function r(t){k(e,t)}var s={_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]},o=t.getReader();o.read().then(function t(i){var l=i.value;if(i.done)return a();var c=0,u=s._rowState;i=s._rowID;for(var _=s._rowTag,E=s._rowLength,S=s._buffer,y=l.length;c<y;){var T=-1;switch(u){case 0:58===(T=l[c++])?u=1:i=i<<4|(96<T?T-87:T-48);continue;case 1:84===(u=l[c])||65===u||79===u||111===u||85===u||83===u||115===u||76===u||108===u||71===u||103===u||77===u||109===u||86===u?(_=u,u=2,c++):64<u&&91>u||35===u||114===u||120===u?(_=u,u=3,c++):(_=0,u=3);continue;case 2:44===(T=l[c++])?u=4:E=E<<4|(96<T?T-87:T-48);continue;case 3:T=l.indexOf(10,c);break;case 4:(T=c+E)>l.length&&(T=-1)}var m=l.byteOffset+c;if(-1<T)(function(e,t,a,r,s,o){switch(r){case 65:J(e,a,es(s,o).buffer);return;case 79:eo(e,a,s,o,Int8Array,1);return;case 111:J(e,a,0===s.length?o:es(s,o));return;case 85:eo(e,a,s,o,Uint8ClampedArray,1);return;case 83:eo(e,a,s,o,Int16Array,2);return;case 115:eo(e,a,s,o,Uint16Array,2);return;case 76:eo(e,a,s,o,Int32Array,4);return;case 108:eo(e,a,s,o,Uint32Array,4);return;case 71:eo(e,a,s,o,Float32Array,4);return;case 103:eo(e,a,s,o,Float64Array,8);return;case 77:eo(e,a,s,o,BigInt64Array,8);return;case 109:eo(e,a,s,o,BigUint64Array,8);return;case 86:eo(e,a,s,o,DataView,1);return}t=e._stringDecoder;for(var i="",l=0;l<s.length;l++)i+=t.decode(s[l],n);switch(s=i+=t.decode(o),r){case 73:var c=e,u=a,_=s,E=c._chunks,S=E.get(u);_=JSON.parse(_,c._fromJSON);var y=function(e,t){if(e){var a=e[t[0]];if(e=a&&a[t[2]])a=e.name;else{if(!(e=a&&a["*"]))throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');a=t[2]}return 4===t.length?[e.id,e.chunks,a,1]:[e.id,e.chunks,a]}return t}(c._bundlerConfig,_);if(_=d(y)){if(S){var T=S;T.status="blocked"}else T=new I("blocked",null,null),E.set(u,T);_.then(function(){return b(c,T,y)},function(e){return N(c,T,e)})}else S?b(c,S,y):(S=new I("resolved_module",y,null),E.set(u,S));break;case 72:switch(a=s[0],e=JSON.parse(s=s.slice(1),e._fromJSON),s=p.d,a){case"D":s.D(e);break;case"C":"string"==typeof e?s.C(e):s.C(e[0],e[1]);break;case"L":a=e[0],r=e[1],3===e.length?s.L(a,r,e[2]):s.L(a,r);break;case"m":"string"==typeof e?s.m(e):s.m(e[0],e[1]);break;case"X":"string"==typeof e?s.X(e):s.X(e[0],e[1]);break;case"S":"string"==typeof e?s.S(e):s.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"==typeof e?s.M(e):s.M(e[0],e[1])}break;case 69:o=(r=e._chunks).get(a),s=JSON.parse(s),(t=en()).digest=s.digest,o?N(e,o,t):(e=new I("rejected",null,t),r.set(a,e));break;case 84:(r=(e=e._chunks).get(a))&&"pending"!==r.status?r.reason.enqueueValue(s):(s=new I("fulfilled",s,null),e.set(a,s));break;case 78:case 68:case 74:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:et(e,a,void 0);break;case 114:et(e,a,"bytes");break;case 88:er(e,a,!1);break;case 120:er(e,a,!0);break;case 67:(a=e._chunks.get(a))&&"fulfilled"===a.status&&a.reason.close(""===s?'"$undefined"':s);break;default:(o=(r=e._chunks).get(a))?w(e,o,s):(e=new I("resolved_model",s,e),r.set(a,e))}})(e,s,i,_,S,E=new Uint8Array(l.buffer,m,T-c)),c=T,3===u&&c++,E=i=_=u=0,S.length=0;else{l=new Uint8Array(l.buffer,m,l.byteLength-c),S.push(l),E-=l.byteLength;break}}return s._rowState=u,s._rowID=i,s._rowTag=_,s._rowLength=E,o.read().then(t).catch(r)}).catch(r)}t.createFromFetch=function(e,t){var a=el(t);return e.then(function(e){ed(a,e.body,ei.bind(null,a))},function(e){k(a,e)}),F(a,0)},t.createFromReadableStream=function(e,t){return ed(t=el(t),e,ei.bind(null,t)),F(t,0)},t.createServerReference=function(e,t){function a(){var a=Array.prototype.slice.call(arguments);return t(e,a)}return g(a,e,null),a},t.createTemporaryReferenceSet=function(){return new Map},t.encodeReply=function(e,t){return new Promise(function(a,r){var n=function(e,t,a,r,n){function s(e,t){t=new Blob([new Uint8Array(t.buffer,t.byteOffset,t.byteLength)]);var a=l++;return null===c&&(c=new FormData),c.append(""+a,t),"$"+e+a.toString(16)}function o(e,p){if(null===p)return null;if("object"==typeof p){switch(p.$$typeof){case E:if(void 0!==a&&-1===e.indexOf(":")){var g,I,h,C,P,v=u.get(this);if(void 0!==v)return a.set(v+":"+e,p),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case S:v=p._payload;var O=p._init;null===c&&(c=new FormData),d++;try{var N=O(v),D=l++,L=i(N,D);return c.append(""+D,L),"$"+D.toString(16)}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then){d++;var w=l++;return v=function(){try{var e=i(p,w),t=c;t.append(""+w,e),d--,0===d&&r(t)}catch(e){n(e)}},e.then(v,v),"$"+w.toString(16)}return n(e),null}finally{d--}}if("function"==typeof p.then){null===c&&(c=new FormData),d++;var b=l++;return p.then(function(e){try{var a=i(e,b);(e=c).append(t+b,a),d--,0===d&&r(e)}catch(e){n(e)}},n),"$@"+b.toString(16)}if(void 0!==(v=u.get(p)))if(_!==p)return v;else _=null;else -1===e.indexOf(":")&&void 0!==(v=u.get(this))&&(e=v+":"+e,u.set(p,e),void 0!==a&&a.set(e,p));if(m(p))return p;if(p instanceof FormData){null===c&&(c=new FormData);var U=c,G=t+(e=l++)+"_";return p.forEach(function(e,t){U.append(G+t,e)}),"$K"+e.toString(16)}if(p instanceof Map)return e=l++,v=i(Array.from(p),e),null===c&&(c=new FormData),c.append(t+e,v),"$Q"+e.toString(16);if(p instanceof Set)return e=l++,v=i(Array.from(p),e),null===c&&(c=new FormData),c.append(t+e,v),"$W"+e.toString(16);if(p instanceof ArrayBuffer)return e=new Blob([p]),v=l++,null===c&&(c=new FormData),c.append(t+v,e),"$A"+v.toString(16);if(p instanceof Int8Array)return s("O",p);if(p instanceof Uint8Array)return s("o",p);if(p instanceof Uint8ClampedArray)return s("U",p);if(p instanceof Int16Array)return s("S",p);if(p instanceof Uint16Array)return s("s",p);if(p instanceof Int32Array)return s("L",p);if(p instanceof Uint32Array)return s("l",p);if(p instanceof Float32Array)return s("G",p);if(p instanceof Float64Array)return s("g",p);if(p instanceof BigInt64Array)return s("M",p);if(p instanceof BigUint64Array)return s("m",p);if(p instanceof DataView)return s("V",p);if("function"==typeof Blob&&p instanceof Blob)return null===c&&(c=new FormData),e=l++,c.append(t+e,p),"$B"+e.toString(16);if(e=null===(g=p)||"object"!=typeof g?null:"function"==typeof(g=y&&g[y]||g["@@iterator"])?g:null)return(v=e.call(p))===p?(e=l++,v=i(Array.from(v),e),null===c&&(c=new FormData),c.append(t+e,v),"$i"+e.toString(16)):Array.from(v);if("function"==typeof ReadableStream&&p instanceof ReadableStream)return function(e){try{var a,s,i,u,_,p,E,S=e.getReader({mode:"byob"})}catch(u){return a=e.getReader(),null===c&&(c=new FormData),s=c,d++,i=l++,a.read().then(function e(l){if(l.done)s.append(t+i,"C"),0==--d&&r(s);else try{var c=JSON.stringify(l.value,o);s.append(t+i,c),a.read().then(e,n)}catch(e){n(e)}},n),"$R"+i.toString(16)}return u=S,null===c&&(c=new FormData),_=c,d++,p=l++,E=[],u.read(new Uint8Array(1024)).then(function e(a){a.done?(a=l++,_.append(t+a,new Blob(E)),_.append(t+p,'"$o'+a.toString(16)+'"'),_.append(t+p,"C"),0==--d&&r(_)):(E.push(a.value),u.read(new Uint8Array(1024)).then(e,n))},n),"$r"+p.toString(16)}(p);if("function"==typeof(e=p[T]))return I=p,h=e.call(p),null===c&&(c=new FormData),C=c,d++,P=l++,I=I===h,h.next().then(function e(a){if(a.done){if(void 0===a.value)C.append(t+P,"C");else try{var s=JSON.stringify(a.value,o);C.append(t+P,"C"+s)}catch(e){n(e);return}0==--d&&r(C)}else try{var i=JSON.stringify(a.value,o);C.append(t+P,i),h.next().then(e,n)}catch(e){n(e)}},n),"$"+(I?"x":"X")+P.toString(16);if((e=R(p))!==f&&(null===e||null!==R(e))){if(void 0===a)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return p}if("string"==typeof p)return"Z"===p[p.length-1]&&this[e]instanceof Date?"$D"+p:e="$"===p[0]?"$"+p:p;if("boolean"==typeof p)return p;if("number"==typeof p)return Number.isFinite(p)?0===p&&-1/0==1/p?"$-0":p:1/0===p?"$Infinity":-1/0===p?"$-Infinity":"$NaN";if(void 0===p)return"$undefined";if("function"==typeof p){if(void 0!==(v=A.get(p)))return e=JSON.stringify({id:v.id,bound:v.bound},o),null===c&&(c=new FormData),v=l++,c.set(t+v,e),"$F"+v.toString(16);if(void 0!==a&&-1===e.indexOf(":")&&void 0!==(v=u.get(this)))return a.set(v+":"+e,p),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof p){if(void 0!==a&&-1===e.indexOf(":")&&void 0!==(v=u.get(this)))return a.set(v+":"+e,p),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"==typeof p)return"$n"+p.toString(10);throw Error("Type "+typeof p+" is not supported as an argument to a Server Function.")}function i(e,t){return"object"==typeof e&&null!==e&&(t="$"+t.toString(16),u.set(e,t),void 0!==a&&a.set(t,e)),_=e,JSON.stringify(e,o)}var l=1,d=0,c=null,u=new WeakMap,_=e,p=i(e,0);return null===c?r(p):(c.set(t+"0",p),0===d&&r(c)),function(){0<d&&(d=0,null===c?r(p):r(c))}}(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,a,r);if(t&&t.signal){var s=t.signal;if(s.aborted)n(s.reason);else{var o=function(){n(s.reason),s.removeEventListener("abort",o)};s.addEventListener("abort",o)}}})},t.registerServerReference=function(e,t){return g(e,t,null),e}},217775:function(e,t,a){e.exports=a(525169)},753894:function(e,t,a){function r(e){return function(t){var a=t.dispatch,r=t.getState;return function(t){return function(n){return"function"==typeof n?n(a,r,e):t(n)}}}}a.d(t,{Z:()=>s});var n=r();n.withExtraArgument=r;let s=n},656152:function(e,t){function a(e,t){var a=e.length;for(e.push(t);0<a;){var r=a-1>>>1,n=e[r];if(0<s(n,t))e[r]=t,e[a]=n,a=r;else break}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;for(var r=0,n=e.length,o=n>>>1;r<o;){var i=2*(r+1)-1,l=e[i],d=i+1,c=e[d];if(0>s(l,a))d<n&&0>s(c,l)?(e[r]=c,e[d]=a,r=d):(e[r]=l,e[i]=a,r=i);else if(d<n&&0>s(c,a))e[r]=c,e[d]=a,r=d;else break}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var c=[],u=[],_=1,p=null,E=3,S=!1,y=!1,T=!1,m=!1,R="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,A="undefined"!=typeof setImmediate?setImmediate:null;function g(e){for(var t=r(u);null!==t;){if(null===t.callback)n(u);else if(t.startTime<=e)n(u),t.sortIndex=t.expirationTime,a(c,t);else break;t=r(u)}}function I(e){if(T=!1,g(e),!y)if(null!==r(c))y=!0,h||(h=!0,o());else{var t=r(u);null!==t&&w(I,t.startTime-e)}}var h=!1,C=-1,P=5,v=-1;function O(){return!!m||!(t.unstable_now()-v<P)}function N(){if(m=!1,h){var e=t.unstable_now();v=e;var a=!0;try{e:{y=!1,T&&(T=!1,f(C),C=-1),S=!0;var s=E;try{t:{for(g(e),p=r(c);null!==p&&!(p.expirationTime>e&&O());){var i=p.callback;if("function"==typeof i){p.callback=null,E=p.priorityLevel;var l=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof l){p.callback=l,g(e),a=!0;break t}p===r(c)&&n(c),g(e)}else n(c);p=r(c)}if(null!==p)a=!0;else{var d=r(u);null!==d&&w(I,d.startTime-e),a=!1}}break e}finally{p=null,E=s,S=!1}}}finally{a?o():h=!1}}}if("function"==typeof A)o=function(){A(N)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=N,o=function(){L.postMessage(null)}}else o=function(){R(N,0)};function w(e,a){C=R(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(e){switch(E){case 1:case 2:case 3:var t=3;break;default:t=E}var a=E;E=t;try{return e()}finally{E=a}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=E;E=e;try{return t()}finally{E=a}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=s+l,e={id:_++,callback:n,priorityLevel:e,startTime:s,expirationTime:l,sortIndex:-1},s>i?(e.sortIndex=s,a(u,e),null===r(c)&&e===r(u)&&(T?(f(C),C=-1):T=!0,w(I,s-i))):(e.sortIndex=l,a(c,e),y||S||(y=!0,h||(h=!0,o()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=E;return function(){var a=E;E=t;try{return e.apply(this,arguments)}finally{E=a}}}},363840:function(e,t,a){e.exports=a(656152)},237666:function(e,t,a){var r=a(667294),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,o=r.useRef,i=r.useEffect,l=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,r,c){var u=o(null);if(null===u.current){var _={hasValue:!1,value:null};u.current=_}else _=u.current;var p=s(e,(u=l(function(){function e(e){if(!i){if(i=!0,s=e,e=r(e),void 0!==c&&_.hasValue){var t=_.value;if(c(t,e))return o=t}return o=e}if(t=o,n(s,e))return t;var a=r(e);return void 0!==c&&c(t,a)?(s=e,t):(s=e,o=a)}var s,o,i=!1,l=void 0===a?null:a;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,a,r,c]))[0],u[1]);return i(function(){_.hasValue=!0,_.value=p},[p]),d(p),p}},331103:function(e,t,a){e.exports=a(237666)},500559:function(e,t,a){a.d(t,{Z:()=>p});var r=a(538800),n=a(571465),s=a(959708),o=a(748025),i=a(4533),l=a(34550),d=a(767415);async function c(){let e=navigator.serviceWorker;if(!l.ZP.getItem(i.V7)&&((0,d.nP)("web_service_worker.install",{sampleRate:.1}),e&&e.register))try{let t=await e.register("/sw.js");return(0,d.nP)("web_service_worker.install.success",{sampleRate:.1}),t}catch(e){throw(0,d.nP)("web_service_worker.install.error",{sampleRate:.1}),e}}async function u(){let e=navigator.serviceWorker;if((0,d.nP)("web_service_worker.update",{sampleRate:.1}),e&&e.getRegistration){let t=await e.getRegistration();if(!t)return(0,d.nP)("web_service_worker.update.registration.not_exist",{sampleRate:.1}),await c();(0,d.nP)("web_service_worker.update.registration.exist",{sampleRate:.1});try{await t.update(),(0,d.nP)("web_service_worker.update.success",{sampleRate:.1})}catch(e){throw(0,d.nP)("web_service_worker.update.fail",{sampleRate:.1}),e}}}var _=a(174170);let p=new class{constructor(){this.versionState=1,this.preparingNewVersion=!1}checkVersion(e,t,a){let i=(0,_.Z)(),{isAuthenticated:l,userAgent:{isMobile:c,isTablet:p}}=a,E=l&&!c&&!p;e!==i&&(3!==this.versionState&&((0,r.Z)({appType:a.appTypeDetailed,currVersion:(0,_.Z)(),deviceType:E?"desktop":"mobile",eventType:"signal",eventName:"new_version_required",isBot:a.isBot??!1,nextVersion:e,originHost:t,stage:a.stage??"unknown"}),this.versionState=3),e===this.nextVersion||this.preparingNewVersion||(this.preparingNewVersion=!0,E?u().catch(()=>(0,s.Z)("checkVersion")).finally(()=>{this.preparingNewVersion=!1}):(c||p)&&l&&(0,n.Ng)().catch(()=>((0,d.nP)("mweb_service_worker.prepareNewVersion.error",{sampleRate:1}),(0,o.Z)())).finally(()=>{(0,d.nP)("mweb.new_version.refresh",{sampleRate:1}),this.preparingNewVersion=!1}),this.nextVersion=e))}isNewVersionRequired(){return 3===this.versionState}}},433069:function(e,t,a){a.d(t,{G:()=>l,b:()=>d});var r=a(686659),n=a(667294),s=a(312048),o=a(785893);let i=(0,n.createContext)(!0);function l({children:e}){(0,n.useEffect)(()=>{(0,r.Z)("InitialPageContext","/app/packages/InitialPageContext.tsx")},[]);let t=(0,s.TH)(),a=(0,n.useRef)(t).current===t;return(0,o.jsx)(i,{value:a,children:e})}function d(){return(0,n.use)(i)}},204807:function(e,t,a){a.d(t,{ZP:()=>E,xR:()=>p});var r=a(966502),n=a(470967),s=a(607162),o=a(935833),i=a(64892),l=a(767415);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,_=/[A-Za-z]{2}\.pinterest\.com/;function p(e){if(c.indexOf(e)>-1||u.test(e)||_.test(e))return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}function E({pageType:e,requestContext:t,route:a}){(({moduleName:e,pageType:t,requestContext:a})=>{let d,c=(e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case i.RL:return"iphone";case i.GW:return t.isTablet?"android_tablet":"android";case i.s4:return"ipad";default:return"mobile_other"}})(a),u=a.isAuthenticated?"auth":"unauth",_=(()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";else if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";else if(e.indexOf("applebot")>-1)return"apple_bot";else if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}})(),E=(0,s.Z)(),S=(d=!1,n.U2(r.VL)||(n.t8(r.VL,"1",(0,n.kZ)(r.VL)),d=!0),d),y=document.domain||"unknown";S&&((0,o.My)(`traffic.${c}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${c}.${E}.${e}.${u}`),(0,o.My)(`traffic_subdomain.${y}.${c}.${u}`),(0,o.My)(`traffic_duplo.${c}.${E}.${e}.${u}`),_&&(0,o.My)(`traffic_bot.${_}.${e}`));let T={domain:p(y),referrer:E??"unknown",platform:c??"unknown",browser:a.userAgent.browserName??"unknown",bot_type:_??"none",page_type:t??"unknown",is_auth:u??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:S??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:T}),("google"===E||"other"===E)&&(0,l.nP)(`webapp.traffic.${c}.${E}`,{sampleRate:.1,tags:T})})({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[a]||"other",pageType:e,requestContext:t})}},538800:function(e,t,a){a.d(t,{Z:()=>n});var r=a(767415);function n({appType:e,currVersion:t,deviceType:a,eventType:n,eventName:s,stage:o,nextVersion:i,isBot:l,originHost:d}){let c="desktop"===a?5:6;(0,r.nP)(`web.client_refresh.${n}.${a}`,{sampleRate:1,tags:{stage:o,currVersion:t,nextVersion:i,isBot:l,siteType:e||c,appType:e||c,event:s,originHost:d||"unknown"}})}},230201:function(e,t,a){a.d(t,{B:()=>l,u:()=>i});var r=a(746868),n=a(213491),s=a(785893);let{Provider:o,get:i}=(0,n.Z)("ContextLogger");function l({children:e,value:t}){let{setViewContextData:a}=(0,r.A$)();return t.injectSetViewContextDataFromHook=a,(0,s.jsx)(o,{value:t,children:e})}},612571:function(e,t,a){a.d(t,{Z:()=>s});var r=a(994507),n=a(197908);function s(e){let t=new Date,a=new Date(new Date().setDate(t.getDate()-r.ZB));return e.filter(e=>"closeup"===e.pageType&&new Date(e.ts)>=a).map(e=>({...e,id:(0,n.Z)(e.path)||""}))}},179317:function(e,t,a){function r(){return new Date(Date.now())}a.d(t,{Z:()=>r})},450622:function(e,t,a){function r(e){let t=new Date(e);return t.setUTCMilliseconds(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCHours(0),t}a.d(t,{Z:()=>r})},360033:function(e,t,a){function r(e,t,a){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!s(e[r],t[r],a+1))return!1;return!0}function n(e,t,a){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!s(e[r],t[r],a+1))return!1;return!0}function s(e,t,a){if(a>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let s=Object.prototype.toString.call(e);if(s!==Object.prototype.toString.call(t))return!1;switch(s){case"[object Array]":return r(e,t,a);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),a);case"[object Object]":case"[object Arguments]":return n(e,t,a);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),a);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return s(e,t,0)}a.d(t,{ZP:()=>o,qP:()=>r})},755741:function(e,t,a){a.d(t,{D:()=>o,G:()=>s});var r=a(147155);let n=["completed","dismissed","view-end"];function s(e={},t){switch(t.type){case r.V$:let{experienceId:a,placementId:o,status:i}=t.payload,l={...e},d=l[o]||[],c=d.findIndex(e=>e.experience_id===a);return c>=0&&(n.includes(i)?d.splice(c,1):d[c].status=i),l;case r.$S:let{experiencesMulti:u}=t.payload;return{...u};default:return e}}function o(e={},t){switch(t.type){case r.iY:let{placementId:a,status:s}=t.payload,i={...e};return i[a]&&(n.includes(s)?delete i[a]:i[a].status=s),i;case r.mR:return{...e,...t.payload.experiences};case r._4:let{experiences:l}=t.payload;return{...l};default:return e}}},763870:function(e,t,a){a.d(t,{Nq:()=>o,aK:()=>l,as:()=>s,pl:()=>n});var r=a(47755);let n="GUIDANCE_FETCH_RECOMMENDATION_DATA_START",s="GUIDANCE_FETCH_RECOMMENDATION_DATA_SUCCESS",o="GUIDANCE_FETCH_RECOMMENDATION_DATA_FAILURE";function i(e){return{type:s,payload:{data:e,error:null,isLoading:!1,isLoaded:!0}}}function l(e){let{advertiser_id:t}=e;return async a=>{try{if(a({type:n,payload:{error:null,isLoading:!0,lastCallParams:e}}),t){let n=(await (0,r.Z)({url:"/ads/v4/notification_messages/{surface_type}",urlParams:{surface_type:"RECOMMENDATIONS"},data:{...e,recipient_id:t,recipient_type:"ADVERTISER"}})).resource_response.data;a(i(n))}else a(i([]))}catch(e){a({type:o,payload:{data:[],error:e,isLoading:!1}})}}}},94082:function(e,t,a){a.d(t,{Z:()=>p,i:()=>_});var r=a(686659),n=a(667294),s=a(24246),o=a(240961),i=a(501010),l=a(767415),d=a(177433),c=a(9065),u=a(785893);let _=(0,c.Z)(e=>a(446291)(`./${e?.localeCode}/LocaleDataLoader`),{dynamicRequestKey:"localeCode",fallback:(0,u.jsx)(function({group:e}){let t=(0,d.Zv)();return(0,l.nP)("webapp.i18nProvider.suspend",{sampleRate:1,tags:{handler:t,group:e,environment:"client"}}),null},{group:"enabled"})},e=>a(978991).resolve(`./${e?.localeCode}/LocaleDataLoader`),"locale-[request]-LocaleDataLoader",e=>({"locale-en_GB-LocaleDataLoader":["63925"],"locale-zh_CN-LocaleDataLoader":["90170"],"locale-te_IN-LocaleDataLoader":["33744"],"locale-zh_TW-LocaleDataLoader":["8846"],"locale-bg_BG-LocaleDataLoader":["36738"],"locale-ms_MY-LocaleDataLoader":["23200"],"locale-el_GR-LocaleDataLoader":["2304"],"locale-de-LocaleDataLoader":["17889"],"locale-tr-LocaleDataLoader":["27644"],"locale-th_TH-LocaleDataLoader":["61242"],"locale-fr-LocaleDataLoader":["12168"],"locale-en_AU-LocaleDataLoader":["98982"],"locale-da_DK-LocaleDataLoader":["88844"],"locale-nb_NO-LocaleDataLoader":["15242"],"locale-ru_RU-LocaleDataLoader":["86610"],"locale-en_IN-LocaleDataLoader":["21232"],"locale-hu_HU-LocaleDataLoader":["55719"],"locale-pt_BR-LocaleDataLoader":["60566"],"locale-ja-LocaleDataLoader":["34040"],"locale-ko_KR-LocaleDataLoader":["53361"],"locale-fi_FI-LocaleDataLoader":["80158"],"locale-es_ES-LocaleDataLoader":["92758"],"locale-he_IL-LocaleDataLoader":["94661"],"locale-es_419-LocaleDataLoader":["44068"],"locale-es_US-LocaleDataLoader":["52458"],"locale-en_US-LocaleDataLoader":["95303"],"locale-id_ID-LocaleDataLoader":["51603"],"locale-vi_VN-LocaleDataLoader":["99083"],"locale-pt_PT-LocaleDataLoader":["87457"],"locale-sv_SE-LocaleDataLoader":["60127"],"locale-ar_SA-LocaleDataLoader":["29585"],"locale-sk_SK-LocaleDataLoader":["5539"],"locale-af_ZA-LocaleDataLoader":["6065"],"locale-hr_HR-LocaleDataLoader":["60605"],"locale-uk_UA-LocaleDataLoader":["43064"],"locale-it-LocaleDataLoader":["7613"],"locale-bn_IN-LocaleDataLoader":["41651"],"locale-nl-LocaleDataLoader":["85528"],"locale-es_AR-LocaleDataLoader":["14394"],"locale-pl_PL-LocaleDataLoader":["82294"],"locale-tl_PH-LocaleDataLoader":["9849"],"locale-cs_CZ-LocaleDataLoader":["78080"],"locale-es_MX-LocaleDataLoader":["99147"],"locale-hi_IN-LocaleDataLoader":["37452"],"locale-ro_RO-LocaleDataLoader":["88369"]}));function p({children:e,otaData:t,enableInContextTranslation:l,locale:d}){(0,n.useEffect)(()=>{(0,r.Z)("I18nProvider","/app/packages/i18n/I18nProvider.tsx")},[]);let[c,p]=(0,n.useState)(),E=(0,i.Z)(),S=d.split("-").join("_");return(0,n.useEffect)(()=>{let e=async()=>{p(new(await a.e("7428").then(a.bind(a,537880))).default("webapp"))};l&&e()},[l]),(0,u.jsx)(_,{localeCode:S,children:a=>{let r=(0,o.Z)(d,{...a,otaData:t,experimentsClient:E,inContextTranslationWebapp:c});return(0,u.jsx)(s.q,{value:r,children:e})}})}},240961:function(e,t,a){let r;a.d(t,{Z:()=>R});var n=a(634511),s=a(767415);let o="string_usage_logger.exceptions",i=[];function l(){if(!i.length)return;let e=[...i];i=[],clearTimeout(r),r=void 0;try{let{default:t}=a(572840);t.logToServer(t.SERVER_LOG_TYPE.STRING_USAGE,t.HTTP_METHOD.POST,e,3,1e3)}catch(e){(0,s.nP)(o)}}function d(e,t,a,c,u,_,p,E=1e-4){Math.random()<E&&(()=>{try{let s=n.Z.getTextUnitName(e,a,p,t),o={repository:"webapp",sample_rate:E,content:e,text_unit_name:s,asset_path:"messages.pot",comment:c.trim(),app_locale:t,mojito_locale:t,target:u,translation_status:_,version:"1.0"};!function(e){i.push(e),r||(r=setTimeout(l.bind(this),1e4))}(o)}catch(e){(0,s.nP)(o)}})()}let c="TRANSLATED",u="UNTRANSLATED",_="DELTA",p="i18n.ota_deltas.prod.lookup.hit";function E(e){return window.location.hostname.includes("pinterdev.com")?{locale:e,repository:"webapp",hostname:window.location.hostname}:{locale:e,repository:"webapp"}}let S="NATIVE",y="MT_REQUIRED";function T(e,t,a,r,o,i){let{localeCode:l,inContextTranslation:T,getDeltaTranslation:m}=e,R=t,f=i||void 0===l||"en-US"===l?c:u;if(a=a.replace(/\s+/g," "),"en-US"!==l&&m){let e=m(n.Z.getTextUnitName(a,r,o,l));if(e)return(0,s.nP)(p,{sampleRate:.001,tags:E(l)}),d(a,l,r,"",e,_,o),e}return T&&(R=f===c?T.getIctTranslationOrDefault(a,r,o,l,t,S):T.getIctTranslationOrDefault(a,r,o,l,t,y)),d(a,l,r,"",R,f,o),R}function m(e,t,a="",r="",o){let{localeCode:i,i18nStrings:l,inContextTranslation:T,getDeltaTranslation:R}=e;if(t=t.replace(/\s+/g," "),"en-US"!==i&&R){let e=R(n.Z.getTextUnitName(t,a,o,i));if(e)return(0,s.nP)(p,{sampleRate:.001,tags:E(i)}),d(t,i,a,r,e,_,o),e}let f=t,A=void 0===i||"en-US"===i?c:u;return void 0!==i&&"en-US"!==i&&void 0!==l&&void 0!==l[a]&&void 0!==l[a][t]&&(A=c,Array.isArray(l[a][t])?void 0!==o&&(f=l[a][t][o]):f=l[a][t]),T&&(f=A===c?T.getIctTranslationOrDefault(t,a,o,i,f,S):T.getIctTranslationOrDefault(t,a,o,i,f,y)),d(t,i,a,r,f,A,o),f}function R(e,t){let{otaData:a}=t,r={...t,[e]:{...t[e]||{},i18nStrings:t[e]?.i18nStrings||t.i18nStrings,plural:t[e]?.plural||t.plural}},n={localeCode:e,i18nStrings:r.i18nStrings,pluralFunction:r.locale===e&&r.plural||null,inContextTranslation:r.inContextTranslationWebapp,getDeltaTranslation:a?e=>a.deltas?a.deltas[e]:null:null},s={_:(e,t="",a="",r)=>m(n,e,t,a,r),bt:(e,t,a,r,s)=>T(n,e,t,a,r,s),nbt:(e,t,a,r)=>(function(e,t,a,r,n){let{localeCode:s,pluralFunction:o}=e,i=+(o||(e=>1!==e))(a),l="en-US"===s&&1===i?t[1]:t[0];return T(e,t[i]??t[0],l,r,i,n)})(n,e,t,a,r),ngettext:(e,t,a,r,s)=>(function(e,t,a,r,n,s){let{localeCode:o,pluralFunction:i}=e,l=+(i||(e=>1!==e))(r);return m(e,"en-US"===o&&1===l?a:t,n,s,l)})(n,e,t,a,r,s),getLocaleData:()=>r,getPluralFunction:(t=e)=>r[t]&&r[t].plural?r[t].plural:e=>1!==e},o={defaultErrorMessage:s.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end!", " - ", undefined, true),asciiPasswordError:s.bt("Your password can only contain letters, numbers and basic symbols.", "Oops! Your password can only have letters, numbers and basic symbols.", " - ", undefined, true)};return{...s,commonStrings:o}}},84271:function(e,t,a){a.d(t,{yR:()=>o});var r=a(966502),n=a(470967),s=a(583845);let o=()=>{let e=(0,s.oy)();!!n.U2(r.oj)!==e&&(e?n.t8(r.oj,String(!0),(0,n.kZ)(r.oj)):n.zN(r.oj.name),"undefined"!=typeof window&&window.location.reload())}},583845:function(e,t,a){a.d(t,{Rq:()=>r,Vf:()=>n,jd:()=>s,oy:()=>o});let r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,n=28,s=e=>window.innerHeight>=748&&r(e),o=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},730056:function(e,t,a){a.d(t,{Z:()=>function e(t,a,r=()=>void 0){let n=r(t,a);return void 0!==n?n:void 0===a?t:Array.isArray(t)&&Array.isArray(a)?a.reduce((t,n,s)=>(t[s]=e(t[s],a[s],r),t),[...t]):t&&"object"==typeof t&&a&&"object"==typeof a?Object.keys(a).reduce((t,n)=>(t[n]=e(t[n],a[n],r),t),{...t}):a}})},937656:function(e,t,a){a.d(t,{$4:()=>L,A7:()=>M,AQ:()=>$,Bj:()=>m,DB:()=>z,FM:()=>ee,G9:()=>B,GX:()=>y,Hy:()=>eu,JO:()=>b,Ke:()=>w,LM:()=>n,Lc:()=>ep,Lr:()=>ec,MN:()=>f,Mn:()=>et,N8:()=>T,NB:()=>er,P0:()=>en,P9:()=>el,Pn:()=>A,S:()=>U,TK:()=>I,TZ:()=>v,UU:()=>u,Uw:()=>X,W_:()=>ed,XB:()=>l,Xy:()=>O,YM:()=>h,aD:()=>eE,aj:()=>Y,bA:()=>k,bo:()=>d,cH:()=>em,dS:()=>P,eZ:()=>E,fk:()=>eo,g1:()=>e_,gU:()=>c,hH:()=>V,i2:()=>_,iR:()=>F,jh:()=>eS,km:()=>p,lx:()=>G,mr:()=>q,mt:()=>Z,n_:()=>H,np:()=>W,of:()=>r,pp:()=>N,q:()=>eT,qY:()=>C,qm:()=>ei,rc:()=>J,ro:()=>ey,sD:()=>o,sG:()=>S,u1:()=>Q,uR:()=>i,v5:()=>s,v9:()=>K,vk:()=>ea,wj:()=>g,x1:()=>x,yC:()=>R,yI:()=>D,yb:()=>j,zr:()=>es});let r=880,n=340,s=380,o=510,i=40,l=20,d=4,c=474,u=134,_=96,p=800,E=186,S=40,y=10,T=48,m=88,R=183,f=130,A=24,g=400,I=50,h=8,C=8,P=5,v=29,O=5,N=1.79,D=20,L=400,w=100,b=800,U=800,G=500,M=3e3,k=40,B=100,F=5,x=["attempted","publishing","succeeded","uploading"],V={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},H=["tl","tc","tr","bl","bc","br"],Y=["left","center"],j=["top","center","bottom"],W=["none","uppercase"],Z=["sm","md","lg"],$=[1,.75],z=198,q=132,K=1,Q=56,X=240,J="cubic-bezier(0.66, 0.025, 0.33, 0.975)",ee=1e3,et=1500,ea=2,er=3,en=20,es=20,eo=2,ei=["creating","processing","publishing","saving"],el=300.5,ed=4,ec=0xc800000,eu=2500,e_=3,ep="pin-builder-default-education-id",eE="pin-builder-default-tour-id",eS="pin-builder-editing-tour-id",ey="save_from_url",eT=["processing","edited","creating","saving","saved"],em=2048},978097:function(e,t,a){a.d(t,{NC:()=>s,Rc:()=>i,WK:()=>d,X9:()=>n,b9:()=>r,f9:()=>l,gu:()=>o});let r="pin-builder-font-faces",n="system-font-faces",s="pin-builder-education-font-faces",o="licensed",i="system",l="brand",d=4},519643:function(e,t,a){a.d(t,{Z:()=>c});var r=a(27399),n=a(614198),s=a(406391);function o(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class i{constructor(e={},t={},a=!1){o(this,"useBatching",!1),o(this,"flush",()=>{}),o(this,"_markExperimentAsActivated",()=>{}),o(this,"checkExperiment",(e,t)=>{t?.dangerouslySkipActivation||this._markExperimentAsActivated(e);let a=(this.active[e]??this.triggerable[e])||"";return{anyEnabled:(0,s.Z)(a),group:a}}),this.active=e,this.triggerable=t,this.useBatching=a}updateExperiments(e,t){e&&(this.active=e),t&&(this.triggerable=t)}}var l=a(767415);function d(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class c extends i{constructor(...e){super(...e),d(this,"_queuedResource",void 0),d(this,"_markExperimentAsActivated",e=>{let t=this.active[e];if(void 0===t&&void 0!==(t=this.triggerable[e])){this.active[e]=t;let a={experiment_name:e,...t?{experiment_group:t}:Object.freeze({})};this.useBatching?(this._queuedResource||(this._queuedResource=(0,n.Z)({flush:e=>{r.Z.create("ActivateExperimentResource",{experiments:e}).callCreate()},flushTimeoutMs:5e3})),this._queuedResource.enqueue(a)):r.Z.create("ActivateExperimentResource",a).callCreate({showError:!1}),(0,l.nP)("ExperimentsClient.markExperimentAsActivated",{sampleRate:.01,tags:{group:t,location:"client",name:e}})}}),d(this,"flush",()=>{this._queuedResource&&this._queuedResource.flush()})}}},802617:function(e,t,a){a.d(t,{Z:()=>r});let r=a(519643).Z},406391:function(e,t,a){a.d(t,{Z:()=>r});let r=e=>e.startsWith("enabled")||e.startsWith("employee")},634511:function(e,t,a){a.d(t,{Z:()=>r});let r=new class{getTextUnitName(e,t,a,r){let n=e;return t&&(n=`${n} --- ${t}`),n=n.replace(/"/g,'\\"'),null!==a&&a>=0&&(n=n+" _"+this.poPluralFormToCLDRForm(a,r)),n}poPluralFormToCLDRForm(e,t){return(({"cs-CZ":{0:"one",1:"few",2:"other"},"ja-JP":{0:"other"},"ko-KR":{0:"other"},"pl-PL":{0:"one",1:"few",2:"many"},"ro-RO":{0:"one",1:"few",2:"other"},"ru-RU":{0:"one",1:"few",2:"many"},"sk-SK":{0:"one",1:"few",2:"other"},"uk-UA":{0:"one",1:"few",2:"many"},"vi-VN":{0:"other"},"id-ID":{0:"other"},"th-TH":{0:"other"},"ms-MY":{0:"other"},"zh-CN":{0:"other"},"zh-TW":{0:"other"},"he-IL":{0:"one",1:"two",2:"many",3:"other"},"ar-SA":{0:"zero",1:"one",2:"two",3:"few",4:"many",5:"other"},"hr-HR":{0:"one",1:"few",2:"other"}})[t]||{0:"one",1:"other"})[e]||"other"}}},953833:function(e,t,a){a.d(t,{Z:()=>s});var r=a(28692),n=a(296264);function s(e){return("desktop"!==e||!!window.performance?.timing)&&!!n.Z&&(0,r.v)()}},173202:function(e,t,a){a.d(t,{Z:()=>o});var r=a(374535),n=a(496807),s=a(174170);function o({requestContext:e}){return{appVersion:(0,s.Z)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,country:e.country,deviceType:(0,r.Z)(e),fullPath:e.fullPath,getExperimentGroup:t=>e.experimentsClient.checkExperiment(t,{dangerouslySkipActivation:!0}).group||null,hasActiveServiceWorker:(0,n.Z)(),isAppShell:!1,isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",getServerData:()=>window&&window.PWS_TRACE_LOGGER?window.PWS_TRACE_LOGGER:null,stageName:e.stage,startType:"",unauthId:e.unauthId}}},87980:function(e,t,a){a.d(t,{F9:()=>d,LM:()=>l,VZ:()=>s,cQ:()=>c,rZ:()=>o});var r=a(397345),n=a(705460);let s=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,i=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,n.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,a=window.pageYOffset||0;return e.getBoundingClientRect().top+a>=t},c=(e,t,a)=>{if(!document.querySelector)return(0,n.H)("missing_document_query_selector"),[];let s={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[r.Wf,...e?[r.fF]:[],...t?[r.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(a){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let a=[...e.children];!a.length&&e.style.backgroundImage?d.push(e):a.length&&a.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,a)=>{if((a instanceof HTMLImageElement||a instanceof HTMLDivElement||a instanceof HTMLVideoElement&&t)&&((e,t)=>{let a=o(e);if(!a)return(0,n.H)("missing_client_rect"),!1;if(a.width<70&&a.height<70){if(e instanceof HTMLImageElement)return!1;let t=i(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:a,pageYOffset:r})=>{let n=e+r;if(n>=a)return!1;let s=Math.min(t,a-n);return s>.5*t||s>.2*a})(a,t)})(a,s)){let t=i(a);if(t){let r=(t||"").replace(/.*\//,"");return e.concat([{element:a,fileName:r}])}}return e},[])}},397345:function(e,t,a){a.d(t,{$N:()=>l,Kb:()=>r,Wf:()=>o,fF:()=>i,wc:()=>s});let r="pwt-grid-item",n=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${r}"]`],s=n.join(","),o=n.map(e=>`${e} img`).join(","),i=n.map(e=>`${e} div[style*=background-image]`).join(","),l=n.map(e=>`${e} video`).join(",")},28692:function(e,t,a){a.d(t,{Z:()=>T,v:()=>y});var r=a(667294),n=a(774303),s=a(87980),o=a(705460),i=a(591048),l=a(482070),d=a(484243),c=a(956712),u=a(23641),_=a(479901),p=a(279794),E=a(767415);let S=(0,n.XV)("GridProfiler"),y=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,s.VZ)();function T({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:a,includeVideos:y=!1,includeSections:T,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:R,stopwatchContext:f}){let A=(0,_.P9)(),[g,I]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{I({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[A]),(0,r.useEffect)(()=>{if(S("new status",g),"LAYOUT"===g.status){let e=((e,t)=>{let a=()=>{window.removeEventListener(e,a),t()};return window.addEventListener(e,a),()=>window.removeEventListener(e,a)})("scroll",()=>{(0,d.Z)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[g.status]),(0,p.Z)(()=>{let r=(0,_.Ly)(),d=()=>{},p=e=>{(0,l.Z)(e),f&&f?.abort()};"unknown"!==r?d=u.rt:(r=`${f?.name}`,f?.addBinaryAnnotation&&(d=f?.addBinaryAnnotation));let A=(0,s.cQ)(a,y,T);if(m)return void S("bypassing PWT run due to skeleton pin grid");switch(g.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,s.LM)();if(t===e)return S("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.F9)())return S("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(g.numOfItemsChecked,e);t.complete?I({status:"TIMING",failedCount:0,pinElements:A}):500*g.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),p("visuallyComplete_layoutTimeout"),I({status:"DISABLED"})):I({...g,failedCount:g.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,i.Cg)(),a=g.pinElements.length,s=[],l=0,u=0,_=0,y=1/0,T=0;if(g.pinElements.forEach(({element:t,fileName:a})=>{let o=e.find(e=>e.name.endsWith(a));o?o.responseEnd?(s.push(o),(0,n.v5)(t,"green"),"SEARCH_FEED_RENDER"===r&&(y=Math.min(y,o.requestStart),T=Math.max(T,o.responseEnd))):(_+=1,(0,n.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,n.v5)(t,"red")):(l+=1,(0,n.v5)(t,"greenyellow"))}),l||_)100*g.failedCount>6e4?((0,o.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:a,incompleteCount:l,noTimingCount:u,noTimingResponseEndCount:_}}),p("visuallyComplete_timingTimeout"),I({status:"DISABLED"})):I({...g,failedCount:g.failedCount+1});else{if(S(`All ${s.length} images are fetched`),t&&t.length){var h,C;let e,a,n,s,i,l=(h=t,C=g.pinElements,e=0,a=0,n=0,s=0,i=0,h=h.filter(e=>"pin"===e.type),C.forEach((t,r)=>{let o,l=t.fileName.split(".")[0];o=h[r],l!==o?.image_signature&&(o=h.find(e=>l===e?.image_signature)),void 0===o?i+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?n+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?a+=1:s+=1}),{storyPinCount:e,videoCount:a,adCount:n,imageCount:s,unknownCount:i});if(Object.entries(l).forEach(([e,t])=>{d(e,t,"I16"),(0,c.XJ)(e,t,"I16")}),(0,o.A9)(`${r}.pinTypes`,{tags:l}),"SEARCH_FEED_RENDER"===r){let e=T-y;t[0].display_options?.num_columns_requested===0?(0,E.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,E.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{R&&R(),(0,c.cB)(e)})({imageTimings:s}),I({status:"DISABLED"}),(0,o.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:a,noTimingCount:u}})}}}},"LAYOUT"===g.status&&500||"TIMING"===g.status&&100||null)}},465925:function(e,t,a){a.d(t,{M3:()=>S,PA:()=>y,RP:()=>E,gq:()=>_});var r=a(953833),n=a(705460),s=a(449896),o=a(217472),i=a(998727),l=a(240083),d=a(296264),c=a(484243);let u={},_=(e,t)=>{t.forEach(t=>{u[t]=(({name:e,pwtStaticContext:t})=>{if(!d.Z||!(0,r.Z)())return null;let a={type:"stopwatch",name:e},n=[],c=!0;return{abort:e=>{if(!c)return;c=!1;let r={type:"ABORT",reason:e,traceId:(0,l.Z)(),startTime:0,endTime:d.Z?.now()||0,spans:[],annotationMap:(0,i.Z)(n),binaryAnnotationMap:(0,s.ng)({metricId:a,pwtStaticContext:t,type:"ABORT"})};(0,o.Z)({metricId:a,pwtStaticContext:t,result:r})},annotate:e=>{c&&n.push({label:e,timestamp:d.Z.now()})},stop:()=>{if(!c)return;c=!1;let e={type:"COMPLETE",traceId:(0,l.Z)(),startTime:0,endTime:d.Z.now(),spans:[],annotationMap:(0,i.Z)(n),binaryAnnotationMap:(0,s.ng)({metricId:a,pwtStaticContext:t,type:"COMPLETE"})};(0,o.Z)({metricId:a,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})})},p=e=>u[e],E=(e,t)=>{let a=p(e);if(a)try{a.abort(t)}catch(t){(0,n.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},S=(e,t)=>{let a=p(e);a&&(a.annotate(t),(0,c.Z)(`stopwatch_${e}_${t}`))},y=e=>{let t=p(e);if(t)try{t.stop()}catch(t){(0,n.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},998727:function(e,t,a){a.d(t,{Z:()=>r});let r=e=>{let t={};e.forEach(({label:e,timestamp:a})=>{t={...t,[e]:(t[e]||[]).concat([a])}});let a=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{let n=r?`${e}_${r+1}`:e;a={...a,[n]:t}})}),a}},482070:function(e,t,a){a.d(t,{Z:()=>d});var r=a(267398),n=a(217472),s=a(712655),o=a(547314),i=a(479901),l=a(617120);function d(e){if(!(0,s.Z)())return;let t=(0,i.Of)();if(t){let a=[...(0,i.pX)(),...t.annotateExperiments||[]],s=(0,i.e)();(0,o.T0)({abortReason:e,pwtName:t.name,annotateExperiments:a}),s.forEach(e=>{(0,o.yi)(e,t?.name)});let d=(0,l.bC)(),c={type:"surface",surface:t.name,id:t.id,navigationType:(0,i.fC)(),isAuthenticated:d.isAuthenticated},u=(0,r.N)({reason:e,annotateExperiments:a,annotations:{},binaryAnnotations:(0,i.fI)(),constraintMap:(0,i.xY)(),endTime:performance.now(),imageTimings:(0,i.h)(),isV4Logger:!0,metricId:c,pwtMeasures:(0,i.zU)(),pwtStaticContext:d,startTime:(0,i.Eq)(),traceId:(0,i.Wj)(),spans:[]});(0,o.qu)(`Abort ${t.name} PWT. Abort reason: ${e}`),(0,o.qu)("Result:",u),(0,n.Z)({metricId:c,pwtStaticContext:d,result:u,isV4Logger:!0,annotateExperiments:a}),(0,i.mn)()}}},344316:function(e,t,a){a.d(t,{Z:()=>o});var r=a(617120);let n=!1,s=null;function o(e){if(n)return;s=e;let t=window.innerHeight,a=window.innerWidth,o=()=>{let e=(0,r.bC)(),i=Math.abs(window.innerHeight-t),l=window.innerHeight!==t,d=window.innerWidth!==a;if("phone"===e.deviceType&&(!d&&l&&i<=150||!l&&!d)||"desktop"===e.deviceType&&!l&&!d){window.removeEventListener("resize",o),n=!1;return}s?.("windowResized"),window.removeEventListener("resize",o),n=!1};window.addEventListener("resize",o),n=!0}},447982:function(e,t,a){a.d(t,{Z:()=>o});var r=a(712655),n=a(547314),s=a(479901);function o(e,t,a){let o;if((0,r.Z)()){switch(a){case"BOOL":o={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":o={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":o={type:a,value:"number"==typeof t?t:null};break;default:(0,n.qu)("Invalid binary annotation type");return}if(null===o.value)return void(0,n.qu)("Invalid binary annotation value");(0,s.an)(e,o),(0,n.qu)(`Add binary annotation: { ${e}: ${o.value} }`)}}},886063:function(e,t,a){a.d(t,{Z:()=>l});var r=a(712655),n=a(547314),s=a(479901),o=a(689784),i=a(178355);function l(e,t){if(!(0,r.Z)())return;let a=(0,s.Of)();if(a){let r=(0,s.e)(),l=r.indexOf(e);l>-1&&((0,s.a7)()<t&&(0,s.cg)(t),(0,s.xb)(e,t),(0,n.eR)(r[l],a?.name),(0,n.$v)({eventName:`${a?.name}.constraint.${e}`,value:t}),(0,n.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,i.H)()}}),(0,n.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),(0,o.Z)(e))}else{let a=(0,s.Gf)();a[e]||(a[e]=t)}}},208622:function(e,t,a){a.d(t,{F:()=>d,Z:()=>l});let r=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],n=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["ReduxStoreInitialized","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration","web_install_sw_on_unauth_landing","web_sw_without_workbox"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["ReduxStoreInitialized","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["ReduxStoreInitialized","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["ReduxStoreInitialized"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{initialPageLoad:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]},clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["ReduxStoreInitialized","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["VisuallyComplete"]}}}}}];var s=a(547314),o=a(178355);let i=[...n,...r];function l({isAuthenticated:e,isInitialPageLoad:t,isMobile:a}){let r=(0,o.H)(),n=i.find(e=>Array.isArray(e.handler)?e.handler.includes(r):r===e.handler),l=n?.config,d=l?.unified;if(d||(d=a?l?.mWeb:l?.dWeb),d){let a=e?d.auth:d.unauth;if(a){if(t&&a.initialPageLoad)return(0,s.qu)("Found isInitialPageLoad config"),(0,s.qu)(a.initialPageLoad),{...a.initialPageLoad};else if(!t&&a.clientNavigation)return(0,s.qu)("Found clientNavigation config"),(0,s.qu)(a.clientNavigation),{...a.clientNavigation}}}return(0,s.qu)(`No config found for ${r} :(`),null}let d=({isAuthenticated:e,isInitialPageLoad:t,isMobile:a,segment:r})=>{let n=l({isAuthenticated:e,isInitialPageLoad:t,isMobile:a});return n?.segments?.[r]??null}},956712:function(e,t,a){a.d(t,{mn:()=>y,XJ:()=>o.Z,aA:()=>T,ZP:()=>f,Lg:()=>R,cB:()=>m});var r=a(482070),n=a(970414),s=a(344316),o=a(447982),i=a(484243),l=a(774254),d=a(712655),c=a(886063),u=a(208622),_=a(547314),p=a(448021),E=a(479901),S=a(617120);function y(){(0,_.qu)("Reset PWT configs"),(0,E.mn)(),(0,p.kA)()}function T(e){if(!(0,d.Z)())return;let t=(0,E.Of)(),a=(0,E.e)();t?((0,_.DM)(e,t.name),a.includes(e)||((0,E.gM)(e),(0,_.qu)(`Add constraint: ${e}`))):(0,_.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e})}function m(e){if(!(0,d.Z)())return;let t=(0,E.Of)(),a=(0,E.e)();if(t&&a.includes("VisuallyComplete"))if((0,_.qu)("Set visually complete result"),(0,_.qu)("Image resource timings: ",e),(0,E.TF)(e),0===e.length)(0,r.Z)("visuallyComplete_noImages");else{let t=Math.max(...e.map(e=>e.responseEnd||0));performance.mark("complete_constraint__VisuallyComplete",{startTime:t}),(0,l.Z)("constraint__VisuallyComplete",(0,E.Eq)(),t)}}function R(e){if(!(0,d.Z)())return;let t=(0,E.Of)(),a=(0,E.pX)(),r=(0,E.fC)();if(t&&t.name.toLowerCase()!==e.toLowerCase()){let n=[...a,...t.annotateExperiments||[]],{isAuthenticated:s,deviceType:o}=(0,S.bC)(),i=(0,u.F)({isAuthenticated:s,isInitialPageLoad:"initial_app_load"===r,isMobile:"phone"===o,segment:e});if(!i)return void(0,_.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,_.T0)({abortReason:"segmentChange",pwtName:t.name,annotateExperiments:n}),t.name=i,(0,_.qu)(`Set segment to ${e}. PWT action name: ${i}`),(0,_.sd)({pwtName:t.name,annotateExperiments:[...a,...t.annotateExperiments||[]]})}else(0,_.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function f({requestContext:e}){try{var t;if(!(0,d.Z)())return void(0,_.El)({eventName:"unsupportedPWTBrowser"});(0,_.El)({eventName:"supportedPWTBrowser"}),(0,s.Z)(r.Z),t=r.Z,n.Z.onSessionPause(()=>t("sessionPaused"));let e=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{if(e&&e.name&&!e.name.startsWith("--")){if(e.name.includes("complete_constraint__"))(0,c.Z)(e.name.split("complete_constraint__")[1]||"",e.startTime);else if(e.name.startsWith("pwt__")){let t=e.name.slice(5);(0,p.lj)()[t]||(0,p.fd)(t,{name:t,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});e.observe&&e.observe({type:"mark",buffered:!0});let a=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{if(e&&e.name&&!e.name.startsWith("--")){let t=(0,E.zU)();if(e.name.startsWith("pwt__")&&!t[e.name]){let t=e.name.slice(5);(0,E.LD)(t,{name:t,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});a.observe&&a.observe({type:"measure",buffered:!0});let o=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let a=e.responseEnd-t/2;a>0&&(0,i.Z)("client_chunkEndTime",a)}(0,l.Z)("dom_complete",e.startTime,e.domComplete),(0,l.Z)("dom_interactive",e.startTime,e.domInteractive),(0,l.Z)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,l.Z)("load_event_end",e.startTime,e.loadEventEnd),(0,l.Z)("response_start",e.startTime,e.responseStart),(0,l.Z)("response_duration",e.responseStart,e.responseEnd)})});o.observe&&o.observe({type:"navigation",buffered:!0});let u=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{!(0,E.Yb)()[e.identifier]&&((0,E._A)(e.url,e),(e.identifier.includes("MainPinImage")||e.identifier.includes("closeupImage"))&&((0,l.Z)(`element_timing_${e.identifier}`,0,e.renderTime),(0,i.Z)(`element_timing_${e.identifier}`,e.renderTime)))})});u.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{e.disconnect(),o.disconnect(),u.disconnect()})}catch(e){(0,_.jn)({errorName:e})}(0,E.Em)(e.experimentsClient?.checkExperiment("web_log_generic_feed_pwt")?.anyEnabled??!1)}},23641:function(e,t,a){a.d(t,{Nx:()=>u,Yl:()=>E,l7:()=>p,qS:()=>S,rt:()=>y,sX:()=>_});var r=a(667294),n=a(482070),s=a(447982),o=a(774254),i=a(712655),l=a(956712),d=a(479901),c=a(689784);let u=(e,t)=>{(0,i.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,o.Z)(`constraint__${e}`,(0,d.Eq)(),t??performance.now()))},_=e=>{(0,n.Z)(e)},p=e=>{(0,c.Z)(e)},E=e=>{(0,l.Lg)(e)},S=e=>{(0,r.useEffect)(()=>{(0,l.Lg)(e)},[e])},y=(e,t,a)=>{(0,s.Z)(e,t,a)}},689784:function(e,t,a){a.d(t,{Z:()=>E});var r=a(746868),n=a(267398),s=a(217472),o=a(240083),i=a(447982),l=a(712655),d=a(547314),c=a(448021),u=a(479901),_=a(617120),p=a(178355);function E(e){if(!(0,l.Z)())return;let t=(0,u.Of)();if(t){let a=(0,u.e)().indexOf(e);if(a>-1){if((0,u.O3)(a),(0,d.qu)(`Remove constraint: ${e}. Remaining constraints: [${(0,u.e)().join(", ")}]`),0===(0,u.e)().length){let e=(0,u.a7)(),a=(0,u.Eq)(),l=e-a,E=[...(0,u.pX)(),...t.annotateExperiments||[]];(0,d.fv)({pwtName:t.name,annotateExperiments:E}),(0,d.$v)({eventName:t.name,value:l}),(0,d.$v)({eventName:"complete",value:l,tags:{handler:(0,p.H)()}});let S=(0,_.bC)(),y=(0,u.fI)();if((0,u.nn)()&&(48===t.id||"FEED_RENDER"===t.name)){let e=(0,r.BE)(),t=e?.viewType,a=e?.viewParameter;null==t||void 0===t||y["view.type"]||(0,i.Z)("view.type",t,"I32"),null==a||void 0===a||y["view.parameter"]||(0,i.Z)("view.parameter",a,"I32")}let T={type:"surface",surface:t.name,id:t.id,navigationType:(0,u.fC)(),isAuthenticated:S.isAuthenticated},m=(0,u.Wj)(),R=(0,n.W)({annotateExperiments:E,annotations:{},binaryAnnotations:(0,u.fI)(),constraintMap:(0,u.xY)(),endTime:e,imageTimings:(0,u.h)(),isV4Logger:!0,metricId:T,pwtMeasures:(0,u.zU)(),pwtStaticContext:S,startTime:a,traceId:m,spans:[{name:`Report_PWT_Complete_${t.name}`,startTime:a,endTime:e,annotationMap:{},binaryAnnotationMap:{},id:(0,o.Z)(),parentId:m}]});(0,d.qu)(`All constraints complete. ${t.name} PWT completed at ${Math.floor(e)}ms. PWT duration: ${Math.floor(l)}ms`),(0,d.qu)("Result:",R),(0,s.Z)({metricId:T,pwtStaticContext:S,result:R,isV4Logger:!0,annotateExperiments:E}),(0,u.mn)(),(0,c.kA)()}}else(0,d.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:t.name,errorDetailsTag:e})}else(0,d.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),(0,u.qH)(e)}},647908:function(e,t,a){a.d(t,{Z:()=>s,k:()=>n});let r=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]);function n(e){try{if(!e)return{};return Object.fromEntries(JSON.parse(e))}catch(t){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[a,r]=t.split("=");return e[a]=JSON.parse(r),e},{})}}let s=e=>e?JSON.stringify(Object.entries("object"==typeof e?e:{}).filter(([e])=>"string"==typeof e&&!r.has(e)&&!e.startsWith("__track__")).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[e,t??null])):""},12430:function(e,t,a){a.d(t,{H:()=>i});var r=a(40249),n=a(183230);let s=new class{constructor(e){this.table={},this.interval=e,this.lastCallTime=Date.now()}_garbageCollectEntries(){Date.now()-this.lastCallTime>this.interval&&(this.table={})}_generateHash(e){let t=Object.keys(e).sort(),a=[];return t.forEach(t=>{if(e[t]){let n=(0,r.Z)(e[t])?JSON.stringify(e[t]):e[t]+"";n=t+":"+n,a.push(n)}}),a.join("")}getTableKey(e){return e.auxData?this._generateHash({message:e.errorObj.message,...e.auxData}):e.errorObj.message?e.errorObj.message:""}isWithinRateLimit(e){this._garbageCollectEntries();let t=Date.now();this.lastCallTime=t;let a=this.getTableKey(e);return this.table[a]&&t-this.table[a]<this.interval||(this.table[a]=t,!1)}}(5e3),o={};o._reportToConsole=(e,t={})=>{if(console&&console.error){let{name:a="",message:r="No message available",stack:n="No stack trace available"}=e;console.error(`Name: ${a}
Message: ${r}
----------
Stack: 
${n}
`,t)}},o._reportToServer=(e,t)=>{let a={errorObj:e};t&&(a.auxData=t),s.isWithinRateLimit(a)||(0,n.T)({...e,message_detail:t?JSON.stringify(t):""})};let i=(e,t)=>{let{columnNumber:a="",fileName:r="",lineNumber:n="",message:s="",original_message:i="",name:l="",stack:d="",stack_trace:c="",moduleName:u="",location:_="",contextRequestId:p=""}=e,E={columnNumber:a,fileName:r,lineNumber:n,message:i||s,name:l,stack:d||c,moduleName:u,location:_,contextRequestId:p};o._reportToConsole(E,t),function(e){let t=e.http_status||e.httpStatus||e.status;if(404===t||500===t)return!1;let a=e.stack||e.stack_trace;return!(a&&-1!==a.indexOf("global code")||e.message&&("Connectivity error or cancelled by navigation"===e.message||e.message.includes("count mfss fcw")||e.message.includes("evaluating 'elem.classList'")))}(e)&&o._reportToServer(E,t)};o.report=i},184661:function(e,t,a){a.d(t,{AF:()=>r,KK:()=>n,aW:()=>i,cR:()=>s,se:()=>l,zP:()=>o});let r="CREATE_COMPLETE",n="FETCHING",s="FETCH_ERROR",o="FETCH_COMPLETE",i="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},330469:function(e,t,a){a.d(t,{Z:()=>i});var r=a(647908),n=a(629972),s=a(184661);let o=e=>({api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail,extraData:e.extraData||e.extra_data||void 0,httpStatus:e.httpStatus||e.http_status||void 0});function i(e={},t){if(t.type===s.se){let a={...e||{},[t.payload.resource]:{...(e||{})[t.payload.resource]||Object.freeze({})}},n="string"==typeof t.payload.optionsOrOptionsKey?t.payload.optionsOrOptionsKey:(0,r.Z)(t.payload.optionsOrOptionsKey);return delete a[t.payload.resource][n],0===Object.keys(a[t.payload.resource]).length&&delete a[t.payload.resource],a}if(t.type===s.zP||t.type===s.aW||t.type===s.cR||t.type===s.KK){let{options:a,resource:i}=t.payload,l=(0,r.Z)(a),d=e?.[i]||{},c=function(e,t){switch(e.type){case s.KK:return{...t||{},fetching:e.payload.isFetching,error:null};case s.cR:return{...t||{},fetching:!1,error:o(e.payload.error),data:null};default:let a,{options:r,resource:i,response:l}=e.payload,d=e.type===s.zP&&e.payload.isRefresh,c=(a=r?.bookmarks||l.bookmarks)&&a[0]!==n.qx?a[0]:n.qx,u=l.resource_response.error?o(l.resource_response.error):void 0,_=t?.auxData,p=d?void 0:t?.data,E=l.resource_response.data,S=l.auxData;if(("BaseSearchResource"===i||"VisualLiveSearchResource"===i||"StoreFrontSearchResource"===i||"VisualSearchFlashlightUnifiedResource"===i||"NativeInteractionsResource"===i)&&p?Array.isArray(p.results)&&(E=E?{...p,results:[...p.results||[],...E.results||[]]}:p):Array.isArray(p)&&(E=[...p||[],...E||[]]),"VisualSearchFlashlightUnifiedResource"===i&&_){let e=S.metadata.one_bar_modules||_.metadata.one_bar_modules;S.metadata.one_bar_modules=e}return{...t||{},auxData:_?{..._,...S}:S,data:E,fetching:!1,nextBookmark:c,error:u}}}(t,d[l]);return{...e,[i]:{...d,[l]:c}}}return e}},42676:function(e,t,a){a.d(t,{Tb:()=>l,vW:()=>i});var r=a(99737),n=a(778555),s=a(405897),o=a(34550);function i({searchParams:e,sourceUrl:t,isDesktop:a,isAuthenticated:r,appliedUnifiedFilters:n}){let{autoCorrectionDisabled:s,bubbleId:o,category:i,currentlyAppliedFiltersParamTerm:l,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:E,priceMax:S,priceMin:y,query:T,requestParams:m,rs:R,scope:f,selectedOneBarModules:A,sourceId:g,sourceModuleId:I,topPinIds:h,user:C}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:a,personalizationPinSig:r,inGlobalSearch:n,appliedUnifiedFilters:s,initialCategory:o,initialDomains:i,initialMaxPrice:l,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),E={..._,filters:a,selectedOneBarModules:p,selectedPinImgSig:r};if(n)return d(E);let S={...E,appliedUnifiedFilters:s,appliedProductFilters:function({category:e,domains:t,maxPrice:a,minPrice:r}){return[e,t,a,r].map(e=>e??"").join("-")}({category:o,domains:i,maxPrice:l,minPrice:c})};return u&&(S.domains=i,S.priceMax=l?parseInt(l,10):void 0,S.priceMin=c?parseInt(c,10):void 0),d(S)}({appliedUnifiedFilters:n,autoCorrectionDisabled:s,bubbleId:o,currentlyAppliedFiltersParamTerm:l,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:i,initialDomains:c,initialMaxPrice:S,initialMinPrice:y,isDuplo:!r||!a,journeyDepth:p,personalizationPinSig:E,query:T,requestParams:m,rs:R,scope:f,selectedOneBarModules:A,sourceId:g,sourceModuleId:I,sourceUrl:t,topPinIds:h,user:C})}function l({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:a,filters:r,journey_depth:n,query:s,rs:o,scope:i,selected_one_bar_modules:l,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:_,user:p}){let E=[e,r,n,s,o,i,l,d,c,u,t,_,p].map(e=>e??"").join(":");return a?"auto-correction-disabled:"+E:E}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:a="pins",appliedUnifiedFilters:i=null,appliedProductFilters:l=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=s.i.DIRECT_NAVIGATION,journeyDepth:E=null,sourceId:S=null,sourceModuleId:y=null,sourceUrl:T=null,selectedOneBarModules:m=null,selectedPinImgSig:R=null,user:f=null,autoCorrectionDisabled:A=!1,seoDrawerEnabled:g=!1,bubbleId:I=null,pageSize:h=null,requestParams:C=null,topPinIds:P=null}=e,v="undefined"!=typeof window?(0,o.M0)().getItem("pwt_performance_testing"):null,O=T&&T.includes("pwt_performance_testing"),N=!!(!0===v||"true"===v||O);return{query:t,scope:a,appliedProductFilters:l,domains:c,user:f,seoDrawerEnabled:g,applied_unified_filters:i,auto_correction_disabled:A,journey_depth:E,source_id:S,source_module_id:y,source_url:function(e){if(!e)return"";let t=new Set,a=e.split("?")[1];a&&a.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:s,queryKey:o}=(0,r.Z)((0,n.Z)(e,["request_params"])),i=Object.keys(o).sort().map(e=>t.has(e)?e:`${e}=${o[e]}`).join("&");return i?`${s}?${i}`:s}(T),static_feed:N,selected_one_bar_modules:m,query_pin_sigs:R,page_size:h,price_max:u,price_min:_,request_params:C,top_pin_ids:P,article:I,corpus:R?"personalize":null,customized_rerank_type:R?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},571465:function(e,t,a){let r;a.d(t,{$J:()=>y,AP:()=>m,Fv:()=>E,In:()=>T,Ng:()=>S});var n=a(4533),s=a(236269),o=a(504644),i=a(484243),l=a(547314),d=a(34550),c=a(935833);let u=["web_sw_with_early_hydration","web_install_sw_on_unauth_landing","web_sw_without_workbox"],_=e=>{function t(e){(0,i.Z)(`sw_${e}`)}let a=e.installing||e.waiting||e.active;a&&(a._hasListener||(a._hasListener=!0,t(a.state),a.addEventListener("statechange",()=>t(a.state))))},p=e=>{e.onupdatefound=()=>{(0,c.My)("mweb_service_worker.update_found"),(0,i.Z)("sw_update_found"),(0,l.El)({eventName:"service_worker.update_found",value:1,tags:{isAuthenticated:String(r?.getState().session.isAuthenticated),isDesktop:String(!(r?.getState().session.isMobile||r?.getState().session.isMobile)),browser:String(r?.getState().session.browser)},sampleRate:1,annotateExperiments:u}),_(e)}},E=()=>new Promise((e,t)=>{if(!r||d.ZP.getItem(n.V7))return void e(void 0);let a=navigator.serviceWorker,{pwaType:l,twaType:u}=r.getState().session,E=new URLSearchParams({source_url:window.location.pathname});l&&u&&(0,o.Rx)(u)&&(E.append("pwa_type",l),E.append("twa_type",u)),"undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin)&&E.append("referrer",document.referrer),a&&a.register?((0,c.My)("mweb_service_worker.install_attempt"),(0,i.Z)("sw_register_begin"),a.register(`/sw.js?${E.toString()}`).then(t=>{(0,i.Z)("sw_register_end"),(0,c.My)("mweb_service_worker.install_success"),_(t),p(t),e(t)}).catch(e=>{(0,c.tj)("mweb_service_worker.install_fail",{error:(0,s.Z)(e,"message")}),(0,i.Z)("sw_register_fail"),t(e)})):e(void 0)}),S=()=>new Promise((e,t)=>{let a=navigator.serviceWorker;a&&a.getRegistration?((0,c.My)("mweb_service_worker.update_attempt"),a.getRegistration().then(a=>{a?a.update().then(()=>{(0,c.My)("mweb_service_worker.update_success"),p(a),e(a)}).catch(e=>{(0,c.tj)("mweb_service_worker.update_fail",{error:(0,s.Z)(e,"message")}),t(e)}):E().then(e)})):e(void 0)}),y=()=>{(0,i.Z)("registerServiceWorkerStart"),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("controllerchange",()=>{let{controller:e}=navigator.serviceWorker;e?(0,i.Z)(`sw_controller_change_${e.state}`):(0,i.Z)("sw_controller_change_no_controller")});let e=r?.getState().session.isAuthenticated;(0,c.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),E()},T=e=>{r=e},m=({isAuthenticated:e,isAppShell:t})=>{let a=!1,r=r=>{if(a)return;a=!0;let n=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,c.My)(`mweb_service_worker.appshell_status.${n}.${r}`)},n=navigator.serviceWorker,s=n?.controller;if(!n||!s)return void r("no_worker");setTimeout(()=>r("timeout"),1e3)}},959708:function(e,t,a){a.d(t,{Z:()=>s});var r=a(767415);async function n(e){let t=navigator.serviceWorker;if((0,r.nP)("web_service_worker.clear_app_shell",{sampleRate:.1,tags:{source:e||"unknown"}}),t&&window.caches){let t=(await window.caches.keys()).find(e=>e.startsWith("workbox-precaching"));t?((0,r.nP)("web_service_worker.clear_app_shell.precache.exist",{sampleRate:.1,tags:{source:e||"unknown"}}),(await window.caches.open(t)).delete("/sw-shell.html"),(0,r.nP)("web_service_worker.clear_app_shell.delete",{sampleRate:.1,tags:{source:e||"unknown"}})):(0,r.nP)("web_service_worker.clear_app_shell.precache.not_exist",{sampleRate:.1,tags:{source:e}})}}async function s(e){let t=navigator.serviceWorker;if((0,r.nP)("web_service_worker.unregister",{sampleRate:.1,tags:{source:e||"unknown"}}),t&&t.getRegistration)try{let a=await t.getRegistration();a?((0,r.nP)("web_service_worker.unregister.registration.exist",{sampleRate:.1,tags:{source:e||"unknown"}}),await a.unregister(),(0,r.nP)("web_service_worker.unregister.success",{sampleRate:.1,tags:{source:e||"unknown"}}),n(e)):(0,r.nP)("web_service_worker.unregister.registration.not_exist",{sampleRate:.1,tags:{source:e||"unknown"}})}catch(t){(0,r.nP)("web_service_worker.unregister.fail",{sampleRate:.1,tags:{source:e||"unknown"}})}}},176783:function(e,t,a){a.d(t,{Cc:()=>p,DL:()=>d,Gf:()=>y,LX:()=>n,Lc:()=>T,Ls:()=>E,Rf:()=>l,YL:()=>i,ap:()=>s,h8:()=>u,pE:()=>c,s5:()=>S,tQ:()=>_,yR:()=>o});var r=a(399353);let n={w:9,h:16},s=n.w/n.h,o=800,i=10,l=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},_=[u.IMAGE,u.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},E=new r.Ry(1),S=new r.H3([E]),y=new r.H3([S]),T=e=>{let t=Math.floor(e||0),a=Math.floor(t/60),r=t-60*a,n=a<10?`${a}`:a,s=r<10?`0${r}`:r;return`${n}:${s}`}},834322:function(e,t,a){function r(e,t,a,r){let n=t?"shop":0===e||2===e?"trending":1===e?"best":"article",s=a.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${n}/${encodeURIComponent(s)}/${r}/`}a.d(t,{T7:()=>r,Y_:()=>s,d9:()=>i,nx:()=>o,xt:()=>n});let n=(e,t,a)=>e||t||a||"",s=e=>"todayarticle"===e.type,o=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),i=(e,t)=>(e??1)/(t??1)},607162:function(e,t,a){a.d(t,{Z:()=>n});var r=a(341687);function n(){let e=(0,r.Z)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},739405:function(e,t,a){a.d(t,{HG:()=>u,Kf:()=>o,Wb:()=>c,ZP:()=>_,dA:()=>i,ds:()=>l,ml:()=>d});var r=a(374535),n=a(774838);let s=()=>{let e=(0,n.B)();return(0,r.Z)(e)},o=e=>"phone"===e,i=e=>"tablet"===e,l=e=>"desktop"===e,d=()=>o(s()),c=()=>i(s()),u=()=>l(s()),_=s},279794:function(e,t,a){a.d(t,{Z:()=>n});var r=a(667294);let n=(e,t)=>{let a=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{a.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>a.current(),t);return()=>clearInterval(e)},[t])}},801983:function(e,t,a){a.d(t,{Z:()=>n});var r=a(413220);function n(e){return e&&e.id?{allow_personalization_cookies:e.allow_personalization_cookies??!1,allow_analytic_cookies:e.allow_analytic_cookies??!1,allow_marketing_cookies:e.allow_marketing_cookies??!1,analytics_is_logging_enabled:e.analytics_is_logging_enabled??!1,avatar_color_index:e.avatar_color_index,boardCount:e.board_count,groupBoardCount:e.group_board_count,secretBoardCount:e.secret_board_count,pinCount:e.pin_count,eligibleForStlTool:e.eligible_for_stl_tool,isAuth:!0,id:e.id,epik:e.epik,username:e.username,fullName:e.full_name??"",firstName:e.first_name??"",lastName:e.last_name??"",email:e.email??"",facebookId:e.facebook_id,hasPassword:e.has_password??!1,hasPublishedPins:e.has_published_pins,isEmployee:e.is_employee??!1,isEligibleForCoreActionsHeader:e.is_eligible_for_core_actions_header??!1,isEligibleForImageOnlyGrid:e.is_eligible_for_image_only_grid??!1,isLimitedLogin:e.login_state===r.Z.LIMITED,isMaturedNewUser:e.is_matured_new_user??!1,isPartner:e.is_partner??!1,isPrivateProfile:e.is_private_profile??!1,isUnder16:e.is_under_16??!1,isUnder18:e.is_under_18??!1,isWriteBanned:e.is_write_banned??!1,imageSmallUrl:e.image_small_url??"",imageMediumUrl:e.image_medium_url??"",imageLargeUrl:e.image_large_url??"",imageXLargeUrl:e.image_xlarge_url??"",nags:e.nags??[],profileDiscoveredPublic:e.profile_discovered_public??!1,shouldDefaultCommentsOff:e.should_default_comments_off,showDiscoveredFeed:e.show_discovered_feed??!1,createdAt:e.created_at??"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:e.country??"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:e.listed_website_url??"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux??!1,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram,username:e.instagram_data?.username,url:e.instagram_data?.url},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:e.can_enable_mfa??!1,has_mfa_enabled:e.has_mfa_enabled??!1,is_sso_user:e.is_sso_user??!1,has_quicksave_board:e.has_quicksave_board,phone_country:e.phone_country??"",phone_number:e.phone_number??"",phone_number_end:e.phone_number_end??"",push_package_user_id:e.push_package_user_id??"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled,age_in_years:e.age_in_years,save_behavior:e.save_behavior,shopping_rec_disabled:e.shopping_rec_disabled,show_personal_boutique:e.show_personal_boutique??!1,should_show_messaging:e.should_show_messaging??!1,isParentalControlPasscodeEnabled:e.is_parental_control_passcode_enabled??!1,isParentalControlPasscodeVerificationPending:e.is_parental_control_passcode_verification_pending??!1,isCandidateForParentalControlPasscode:e.is_candidate_for_parental_control_passcode??!1,parentalControlAnonymizedEmail:e.parental_control_anonymized_email??"",teenSafetyOptionsUrl:e.teen_safety_options_url??"",weight_loss_ads_opted_out:e.weight_loss_ads_opted_out??!1}:{isAuth:!1,isLimitedLogin:!1}}},331738:function(e,t,a){a.d(t,{Ab:()=>r,M_:()=>n,Uh:()=>i,c$:()=>o,el:()=>s,rt:()=>d});let r={CREATE:"CREATE",APPLY:"APPLY"},n={BANNER:"BANNER",EMAIL:"EMAIL"},s={INPUT_1:{type:void 0,value:void 0},INPUT_2:{type:void 0,value:void 0}},o={CREATED_PROMO_NOT_APPLIED:"CREATED_PROMO_NOT_APPLIED",APPLIED_PROMO:"APPLIED_PROMO",CREATE_FAILURE:"CREATE_FAILURE",APPLY_FAILURE:"APPLY_FAILURE"},i=e=>({[o.APPLIED_PROMO]:{message:e.bt("Your promotion has been successfully applied to your selected campaigns", "Your promotion has been successfully applied to your selected campaigns", "promotionsModal.appliedToast", undefined, true),componentType:15221,toastType:"success"},[o.CREATED_PROMO_NOT_APPLIED]:{message:e.bt("Your promotion has been created successfully! You'll be able to apply it when you create your next campaign", "Your promotion has been successfully created! You'll be able to apply it when you create your next campaign", "promotionsModal.createToast", undefined, true),componentType:15222,toastType:"success"},[o.CREATE_FAILURE]:{message:e.bt("Something went wrong while creating your promotion. Try submitting the form again", "Something went wrong while creating your promotion. Try submitting the form again", "promotionsModal.createFailureToast", undefined, true),componentType:15224,toastType:"error"},[o.APPLY_FAILURE]:{message:e.bt("Something went wrong while applying your promotion. You'll be able to apply it when you create your next campaign", "Something went wrong while applying your promotion. You'll be able to apply it when you create your next campaign", "promotionsModal.applyFailureToast", undefined, true),componentType:15223,toastType:"error"}}),l="numeric",d={year:l,month:l,day:l,hour:l,minute:l,hour12:!0,timeZoneName:"short"}},735505:function(e,t,a){a.d(t,{Z:()=>h});var r=a(15881),n=a(11442),s=a(505233),o=a(127580),i=a(504644),l=a(173202),d=a(465925),c=a(484243),u=a(23641),_=a(571465),p=a(748025),E=a(418282),S=a(341687),y=a(801983),T=a(32214),m=a(14890),R=a(394268),f=a(446272),A=a(564879);let g=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e;var I=a(767415);function h({initialServerContext:e,initialReduxState:t,isAppShell:a,requestContext:h}){let C=function(e,t){(0,c.Z)("AppInitMainStart");let a="homescreen_icon"===(0,S.Z)(window.location.search).utm_source;t.session.isPWA=a;let r=!!(0,S.Z)(window.location.search).utm_pai;t.session.isPaidTraffic=r;let n=(0,m.createStore)((0,m.combineReducers)((0,A.Z)({viewingUser:e.user})),t,(0,m.compose)((0,f.Z)(),(0,R.b)({type:"tick"}),g));return(0,c.Z)("ReduxStoreInitialized"),(0,u.Nx)("ReduxStoreInitialized"),n}(e,t),{isAuthenticated:P,unauthId:v,userAgent:{isMobile:O,isTablet:N}}=h;O||N||!P||o.Z.initFocus(),document.hasFocus()&&(0,n.Z)(),(0,c.Z)("ContextInitialized"),(0,s.jD)(()=>(0,y.Z)((0,T.Z)(C.getState())),()=>h),window.unauthId=v,"1"===(0,S.Z)(window.location.search).oe&&(0,E.Nl)().setItem(r.EZ,"OPEN_UNAUTH");let{isAuthenticated:D}=h;"chrome"===(0,i.FB)(window)&&window.navigator.userAgent&&window.navigator.userAgent.includes("CrOS")&&(0,i.AJ)(window);let L=(0,l.Z)({requestContext:h});(0,d.gq)(L,D?[]:["facebook_autologin","google_autologin_gsi","google_autologin"]);let{isAuthenticated:w,userAgent:{isMobile:b,isTablet:U,browserName:G,browserVersion:M}}=h,k=!U&&!b,B="Chrome"===G&&Number(M.split(".")[0])>=123;(0,_.In)(C);let F=w&&k&&B;return w&&(!k||F)&&(0,_.$J)(),w||(0,p.Z)(),!function({isAppShell:e,isAuthenticated:t}){"undefined"!=typeof window&&window.navigator&&"serviceWorker"in window.navigator&&"addEventListener"in window.navigator.serviceWorker&&(window.navigator.serviceWorker.addEventListener("message",e=>{switch(e.data.message){case"replay-resource-requests-success":(0,I.nP)("replay_resource_request.success",{sampleRate:1});break;case"replay-resource-requests-failed":(0,I.nP)("replay_resource_request.failed",{sampleRate:1,tags:{errorMessage:e.data.replayErrorMessage}});break;case"log-service-worker-exp-group-got-from-headers":(0,I.nP)("sw_detect_resource_requests",{sampleRate:1,tags:{serviceWorkerGroup:e.data.group,experimentVersion:"v8"}})}}),(0,_.AP)({isAuthenticated:t,isAppShell:e}))}({isAppShell:a,isAuthenticated:w}),C}},124228:function(e,t,a){a.d(t,{r:()=>n,v:()=>r});let r="ADD_PRODUCT_PIN_STORY";function n(e){return{type:"ADD_PRODUCT_PIN_STORY",payload:e}}},427002:function(e,t,a){a.d(t,{Z:()=>n});var r=a(730056);let n=function(e,t){return(a,n)=>{let s=t(a,n);if(n.payload&&!Array.isArray(n.payload)){let{normalizedResponse:t}=n.payload;if(t&&t.entities&&t.entities[e]){var o;return Object.keys(o=t.entities[e]).reduce((e,t)=>({...e,[t]:(0,r.Z)(e[t],o[t])}),s)}}return s}}},407775:function(e,t,a){a.d(t,{Z:()=>n});var r=a(210730);let n={AggregatedCommentResource:r.rm,AggregatedCommentReplyResource:r.rm,AggregatedCommentReplyFeedResource:r.LR,AggregatedActivityFeedResource:r.LR,BestPinsFeedAltResource:r.LR,BoardContentRecommendationResource:r.LR,BoardFeedResource:r.LR,BoardFollowingResource:r.LR,BoardInviteResource:r.sf,BoardInvitesResource:r.Ht,BoardlessPinsResource:r.LR,BoardPickerBoardsResource:{all_boards:r.LR,boards_shortlist:r.LR},BoardSectionEditResource:r._F,BoardSectionsRepinResource:r.LR,BoardSectionsResource:r.LR,BoardsFeedResource:r.LR,BoardResource:r.IY,BoardSectionResource:r._F,BoardSectionPinsResource:r.LR,BoardToolsFeedResource:r.LR,ConversationsResource:r.LR,ConversationMessagesResource:r.dq,DidItCommentsResource:r.LR,DidItUserFeedResource:r.LR,InterestFollowingResource:r.LR,InterestResource:r.cC,MoreIdeasTabsBoardsResource:r.LR,NewsHubResource:r.LR,NewsHubDetailsResource:r.LR,NewsHubSummaryResource:r.t6,NuxInterestsResource:r.LR,PinResource:r.Cj,PinsFromBrandResource:r.LR,ReactionsResource:r.fE,RelatedArticlesResource:r.LR,RelatedInterestsResource:r.LR,RelatedModulesResource:r.LR,RelatedPinFeedResource:r.LR,RelatedStreamResource:r.LR,RepinResource:r.Cj,BaseSearchResource:{results:r.LR},SearchResource:r.LR,SectionToolsFeedResource:r.LR,ShareSuggestionsTypeaheadResource:{items:r.LR},StoryFeedResource:r.LR,StoryPinTaggedProductsResource:r.LR,TodayArticleFeedResource:r.LR,TodayArticleResource:r.iF,TodayTabInterestFeedResource:r.LR,TodayTabResource:r.LR,TopicFeedResource:r.LR,UnifiedCommentsResource:r.LR,UserActivityPinsResource:r.LR,UserFollowingResource:r.LR,UserRecentActivityResource:r.LR,UserHomefeedResource:r.LR,UserPinsResource:r.LR,UserSettingsResource:r.EA,UserStoryPinsFeedResource:r.LR,UserResource:r.EA,VisualLiveSearchResource:{results:r.LR},VisualLiveSearchProductFeedResource:r.LR,VisualSearchFlashlightUnifiedResource:r.LR,SeoTier1CandidateResource:r.LR}},210730:function(e,t,a){a.d(t,{Cj:()=>d,EA:()=>s,Gn:()=>C,Ht:()=>h,IY:()=>l,LR:()=>v,_F:()=>_,cC:()=>R,dq:()=>E,fE:()=>u,iF:()=>m,rm:()=>o,sN:()=>P,sf:()=>f,t6:()=>I});var r=a(782677);let n=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),s=new r.fK.Entity(n.user),o=new r.fK.Entity(n.aggregatedComment,{user:s,tagged_users:[s]}),i=new r.fK.Entity(n.article),l=new r.fK.Entity(n.board),d=new r.fK.Entity(n.pin),c=new r.fK.Entity(n.reaction),u=new r.fK.Array(c),_=new r.fK.Entity(n.boardsection),p=new r.fK.Entity(n.conversationMessage,{sender:s,users:[s],board:l,pin:d,user:s}),E=new r.fK.Array(p),S=new r.fK.Entity(n.contactrequest),y=new r.fK.Entity(n.story),T=new r.fK.Entity(n.triedit),m=new r.fK.Entity(n.todayArticle,{article_creator_user:s,content_pin:d,content_pin_official_user:s,video_pin:d}),R=new r.fK.Entity(n.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),f=new r.fK.Entity(n.invite,{invited_by_user:s,invited_user:s,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),A=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},g=new r.fK.Union({user:s,board:l,invite:f,pin:d,topic:R,triedit:T},A),I=new r.fK.Entity(n.notification,{content_items:[{content_object:g}],header_icon_objects:[g]}),h=new r.fK.Array(f),C=new r.fK.Array(s),P=new r.fK.Array(l),v=new r.fK.Array({aggregatedComment:o,article:i,board:l,boardsection:_,contactrequest:S,conversationMessage:p,notification:I,pin:d,story:y,todayArticle:m,topic:R,triedit:T,user:s},A,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});y.define({objects:v})},394268:function(e,t,a){a.d(t,{b:()=>s,s:()=>r});let r="RTK_autoBatch",n=e=>t=>{setTimeout(t,e)},s=(e={type:"raf"})=>t=>(...a)=>{let s=t(...a),o=!0,i=!1,l=!1,d=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:n(10):"callback"===e.type?e.queueNotification:n(e.timeout),u=()=>{l=!1,i&&(i=!1,d.forEach(e=>e()))};return{...s,subscribe(e){let t=s.subscribe(()=>o&&e());return d.add(e),()=>{t(),d.delete(e)}},dispatch(e){try{return(i=!(o=!e?.meta?.[r]))&&!l&&(l=!0,c(u)),s.dispatch(e)}finally{o=!0}}}}},446272:function(e,t,a){a.d(t,{Z:()=>i});var r=a(14890),n=a(753894),s=a(12430);let o=[n.Z,e=>t=>a=>{if("ERROR_LOG_EVENT"===a.type){let{error:e,auxData:r}=a;return(0,s.H)(e,r),t(a)}try{return t(a)}catch(t){return(0,s.H)(t||Error("unknown error"),{action:a}),e.getState()}}],i=()=>(0,r.applyMiddleware)(...o)},564879:function(e,t,a){a.d(t,{Z:()=>t$});let r={isUnderageConfirmationModalVisible:!1},n=(e,t)=>{if(e=e||r,"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE"!==t.type)return e;{let{isUnderageConfirmationModalVisible:a}=t.payload;return{...e,isUnderageConfirmationModalVisible:a}}},s=(e=null,t)=>e;var o=a(994507),i=a(784548),l=a(293123);function d(e){let{ts:t}=e,a=new Date,r=new Date(t||a);return Math.max(Math.floor(Number(((a.getTime()-r.getTime())/864e5).toFixed(2))),0)}function c({completedSearches:e,closeupPins:t,clickthroughPins:a,downloadedPinsCount:r}){return Number(e.length>=1||t.length>=3||a.length>=1||r>=1)}var u=a(971258),_=a(612571),p=a(34550),E=a(418282);function S(e={isAuthenticated:o.MK,downloadedPinsCount:o.cH,visitedUnauthPages:o.PW,closeupPins:o.tf,completedSearches:o.fE,clickthroughPins:o.iK,savedPins:o.pn,isQUS:o.R8,revisitationState:(0,o.dm)(),daysSinceLastRevisitation:o.ne,country:o.UF,referrer:o.XN,unauthId:o.Ak,userAgent:o.nZ,region:o.fu,channel:o.vE,iab:o.js,deviceType:o._h,storageAccessAllowed:o.Jr},t){if(e.isAuthenticated)return e;switch(t.type){case i._d.INIT_CURRENT_USER_TRACKER:{let{country:a,referrer:r,unauthId:n,userAgent:s,region:o,channel:i,iab:u,deviceType:S}=t.payload,y=(0,p.M0)(),T=(0,E.Nl)(),m=y.accessAllowed,R=T.accessAllowed,f=Number(!!m&&!!R),A=(0,l.Vz)("local"),g=(0,_.Z)(A),I=(0,l.yb)("local"),h=(0,l.Ku)("local"),C=(0,l.aJ)("local"),P=(0,l.cn)("local"),v=(0,l.jo)("local"),O=d(v),N=c({completedSearches:I,closeupPins:g,clickthroughPins:h,downloadedPinsCount:C});return{...e,storageAccessAllowed:f,visitedUnauthPages:A,closeupPins:g,completedSearches:I,clickthroughPins:h,downloadedPinsCount:C,savedPins:P,revisitationState:v,daysSinceLastRevisitation:O,isQUS:N,country:a,referrer:r,unauthId:n,userAgent:s,region:o,channel:i,iab:u,deviceType:S}}case i._d.ADD_VISITED_PAGE:{let{path:a,pageType:r,storageType:n}=t.payload;(0,l.EI)(a,r,n);let s=(0,u.b8)(e.visitedUnauthPages,a,r,o.LG),i=(0,_.Z)(s),d=c({completedSearches:e.completedSearches,closeupPins:i,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,visitedUnauthPages:s,closeupPins:i,isQUS:d}}case i._d.ADD_COMPLETED_SEARCH:{let{search:a,storageType:r}=t.payload;(0,l.$2)(a,r);let n=(0,u.aq)(e.completedSearches,a,o.LG),s=c({completedSearches:n,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,completedSearches:n,isQUS:s}}case i._d.REMOVE_COMPLETED_SEARCH:{let{query:a,storageType:r}=t.payload;(0,l.eo)(a,r);let n=(0,u.zz)(e.completedSearches,a),s=c({completedSearches:n,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,completedSearches:n,isQUS:s}}case i._d.ADD_CLICKTHROUGH_PIN:{let{pin:a,storageType:r}=t.payload;(0,l.LI)(a,r);let n=(0,u.UP)(e.clickthroughPins,a,o.LG),s=c({completedSearches:e.completedSearches,closeupPins:e.closeupPins,clickthroughPins:n,downloadedPinsCount:e.downloadedPinsCount});return{...e,clickthroughPins:n,isQUS:s}}case i._d.UPDATE_DOWNLOAD_COUNT:{let{storageType:a}=t.payload,r=e.downloadedPinsCount+1;(0,l.V5)(r,a);let n=c({completedSearches:e.completedSearches,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:r});return{...e,downloadedPinsCount:r,isQUS:n}}case i._d.UPDATE_SAVED_PINS:{let{pins:a,storageType:r}=t.payload;return(0,l.cq)(a,r),{...e,savedPins:a}}case i._d.UPDATE_REVISITATION:{let{revisitation:a,storageType:r}=t.payload;(0,l.HY)(a,r);let n=(0,l.jo)(r),s=d(n);return{...e,revisitationState:n,daysSinceLastRevisitation:s}}default:return e}}var y=a(755741),T=a(763870);let m={adsNotifications:{data:[],error:null,isLoading:!1,isLoaded:!1,lastCallParams:null}};function R(e=m,t){let a=e||m;switch(t.type){case T.pl:case T.as:case T.Nq:return{...a,adsNotifications:{...a.adsNotifications,...t.payload}};default:return a}}var f=a(330469),A=a(173874),g=a(79271),I=a(434291);let h=Object.freeze({desktop:Object.freeze({T1:20,T2:40}),mobile:Object.freeze({T1:20,T2:40}),N1:2,N2:3,X:2,Y:14,weights:Object.freeze({pinSave:5,download:5,pinView:1,pinClickRelatedPins:2,pinImpression:1}),negativeWeights:Object.freeze({upsellDismiss:1,appUpsellDismiss:1})});var C=a(116412);function P(e,t){var a,r;let n={pinSaveCount:e.pinSaveCount+(e.mWeb?.pinSaveCount??0),unauthDownloadCount:e.unauthDownloadCount,pinViewCount:e.pinViewCount+(e.mWeb?.pinViewCount??0),pinClickRelatedPinsCount:e.pinClickRelatedPinsCount,pinImpressionCount:(0,g.OC)(),upsellDismissCount:e.upsellDismissCount,appUpsellDismissCount:e.appUpsells.appUpsellDismissCount,revisitationCount:e.initialSessionContext?.revisitationCount??0,daysSinceLastVisit:e.initialSessionContext?.daysSinceLastVisit??0},s=(a=h.weights,n.pinSaveCount*a.pinSave+n.unauthDownloadCount*a.download+n.pinViewCount*a.pinView+n.pinClickRelatedPinsCount*a.pinClickRelatedPins+n.pinImpressionCount*a.pinImpression),o=(r=h.negativeWeights,n.upsellDismissCount*r.upsellDismiss+n.appUpsellDismissCount*r.appUpsellDismiss),i="desktop"===e.initialSessionContext?.deviceType?"desktop":"mobile",l=function(e,t,a,r,n,s){let{N1:o,N2:i,X:l,Y:d}=n,{T1:c,T2:u}="mobile"===s?n.mobile:n.desktop;return a>=l&&r<=d||e>=u&&t>=i?"low":a<l&&e>=c&&e<u&&t<o?"high":a<l&&e>=u&&t<i?"medium":"unknown"}(s,o,n.revisitationCount,n.daysSinceLastVisit,h,i),d="mobile"===i?h.mobile:h.desktop;(0,I.m)(t||"no_action",{metrics:{pinSaveCount:n.pinSaveCount,unauthDownloadCount:n.unauthDownloadCount,pinViewCount:n.pinViewCount,pinClickRelatedPinsCount:n.pinClickRelatedPinsCount,pinImpressionCount:n.pinImpressionCount,upsellDismissCount:n.upsellDismissCount,appUpsellDismissCount:n.appUpsellDismissCount,revisitationCount:n.revisitationCount,daysSinceLastVisit:n.daysSinceLastVisit},calculation:{PES:`${n.pinSaveCount}*5 + ${n.unauthDownloadCount}*5 + ${n.pinViewCount}*1 + ${n.pinClickRelatedPinsCount}*2 + ${n.pinImpressionCount}*1 = ${s}`,NUS:`${n.upsellDismissCount}*1 + ${n.appUpsellDismissCount}*1 = ${o}`},scores:{PES:s,NUS:o,conversionIntentLevel:l,oldIntent:e.engagementScore.conversionIntentLevel,deviceType:i,T1:d.T1,T2:d.T2},params:h});let c={...e,engagementScore:{PES:s,NUS:o,conversionIntentLevel:l,lastCalculated:Date.now()}};return t&&(0,C.U)({PES:s,NUS:o,conversionIntentLevel:l,triggerAction:t,deviceType:i}),c}var v=a(896399),O=a(432414),N=a(413211),D=a(224841);let L={initialSessionContext:void 0,currentPageViewType:0,unauthDownloadCount:0,unauthClickthroughCount:0,latestL1Vertical:null,pinClickRelatedPinsCount:0,upsellReason:"",pinViewCount:0,pinSaveCount:0,showBanner:!1,showSaveModal:!1,attributionLabel:"",pinId:"",showScrollDownUpsell:!0,showSaveEducationPopover:!1,saveEducationPopoverEverShown:!1,showRelatedPinsGradientUpsell:!1,relatedPinsGradientUpsellEverShown:!1,showReplyToSenderSheet:!1,replyToSenderSheetEverShown:!1,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,followIsIdeaPin:!1,clickCloseUpContextMenuSaveButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickPinLinkCount:0,clickRelatedPinOpenLinkUpsell:!1,uniqueNavigationalPagesSeen:[],navigationalPagesUpsellSeen:!1,navigationalContainerPage:"",modal:{isShown:!1},socialPinLandingInviter:null,socialPinLandingContainerPage:"",socialPinLandingModalShown:!1,socialPinLandingModalDismissed:!1,mWeb:{pinSaveCount:0,pinViewCount:0},mWebSignupModal:{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,modalHasShown:!1},upsellDismissCount:0,engagementScore:{PES:0,NUS:0,conversionIntentLevel:"unknown",lastCalculated:0},appUpsells:{learningUpsell:{isShown:!1},floatingUpsell:{shouldShow:!0,isDismissed:!1},iabAppUpsell:{isShown:!1,appUpsellType:"other",isBlocking:!1},appUpsellDismissCount:0}};function w(e=L,t){switch(t.type){case v.mV:if(e.initialSessionContext)return e;return{...e,initialSessionContext:t.payload.sessionContext};case v.kQ:return{...e,latestL1Vertical:t.payload.l1Vertical};case N.K7:return{...e,modal:{isShown:!0,displayProps:t.payload.displayProps}};case N.Gh:{let a=!1;return e.modal?.isShown===!0&&e.modal.displayProps?.container&&(a=e.modal.displayProps.container===e.socialPinLandingContainerPage&&e.socialPinLandingModalShown),P({...e,upsellDismissCount:e.upsellDismissCount+1,showSaveModal:!1,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,clickCloseUpContextMenuSaveButton:!1,clickCloseUpContextMenuDownloadButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickRelatedPinOpenLinkUpsell:!1,socialPinLandingModalDismissed:e.socialPinLandingModalDismissed||a,modal:{isShown:!1}},t.type)}case N.pp:{let a=13007===t.payload.componentType||155===t.payload.viewParameter,r={...e,pinViewCount:e.pinViewCount+1,pinClickRelatedPinsCount:a?e.pinClickRelatedPinsCount+1:e.pinClickRelatedPinsCount};if(O.Gk.shouldShowCloseupNavigationalModal?.evaluate({pinViewCount:r.pinViewCount,navigationalPagesUpsellSeen:r.navigationalPagesUpsellSeen,checkExperiment:t.payload?.checkExperiment}))return O.Gk.shouldShowCloseupNavigationalModal.getNextState({action:t,state:r});return r}case N.AS:return P(O.Gk.shouldShowSaveModal?.getNextState({action:t,state:e})||e,t.type);case v.gH:{let{pageUniqueKey:a}=t.payload;if(e.uniqueNavigationalPagesSeen.includes(a))return e;let r={...e,uniqueNavigationalPagesSeen:[...e.uniqueNavigationalPagesSeen,a],navigationalContainerPage:t.payload.containerPage},n={uniqueNavigationalPagesSeen:(r=P(r,t.type)).uniqueNavigationalPagesSeen,navigationalPagesUpsellSeen:r.navigationalPagesUpsellSeen,engagementScore:r.engagementScore,checkExperiment:t.payload?.checkExperiment,session:e.initialSessionContext||t.payload?.sessionContext};if(O.Gk.shouldShowNavigationalModalIntentBased?.evaluate(n))return O.Gk.shouldShowNavigationalModalIntentBased.getNextState({state:r,action:t});if(O.Gk.shouldShowNavigationalModal?.evaluate(n))return O.Gk.shouldShowNavigationalModal.getNextState({state:r,action:t});return r}case v.aJ:return{...e,socialPinLandingInviter:t.payload.inviter,socialPinLandingContainerPage:t.payload.containerPage};case v.Fy:case v.Vi:if(O.Gk.shouldShowSocialPinLandingModal?.evaluate({inviter:e.socialPinLandingInviter,socialPinLandingModalShown:e.socialPinLandingModalShown,checkExperiment:t.payload.checkExperiment}))return O.Gk.shouldShowSocialPinLandingModal.getNextState({action:t,state:e});return e;case N.$S:if(O.Gk.shouldShowSignupModalOnCloseUpClick?.evaluate({modal:e.modal,clickCloseUp:e.clickCloseUp}))return O.Gk.shouldShowSignupModalOnCloseUpClick.getNextState({action:t,state:e});return e;case N.P9:if(O.Gk.shouldShowSignupModalOnClickContextMenuSaveButton?.evaluate({modal:e.modal,clickContextMenuSaveButton:e.clickContextMenuSaveButton}))return O.Gk.shouldShowSignupModalOnClickContextMenuSaveButton.getNextState({state:e,action:t});return{...e,pinId:t.payload.pinId,attributionLabel:t.payload.attributionLabelSource};case N.mX:if(O.Gk.shouldShowSignupModalOnClickCloseupSaveButton?.evaluate({modal:e.modal,clickCloseUpContextMenuSaveButton:e.clickCloseUpContextMenuSaveButton}))return O.Gk.shouldShowSignupModalOnClickCloseupSaveButton.getNextState({action:t,state:e});return{...e,pinId:t.payload.pinId,attributionLabel:t.payload.attributionLabelSource};case N.by:if(O.Gk.shouldShowSignupModalOnCloseupDownloadClick?.evaluate({limitReached:t.payload.limitReached,modal:e.modal,checkExperiment:t.payload.checkExperiment}))return O.Gk.shouldShowSignupModalOnCloseupDownloadClick.getNextState({action:t,state:e});return{...e,pinId:t.payload.pinId,attributionLabel:t.payload.attributionLabelSource};case N.Pp:if(O.Gk.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:t.payload.limitReached,inImmediateUpsellGroup:t.payload.inImmediateUpsellGroup,checkExperiment:t.payload.checkExperiment,modal:e.modal}))return O.Gk.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:t,state:e});return{...e,pinId:t.payload.pinId,attributionLabel:t.payload.attributionLabelSource};case N.Bi:if(O.Gk.shouldShowSignupModalOnFollowButtonClick?.evaluate({modal:e.modal,clickFollowButton:e.clickFollowButton}))return O.Gk.shouldShowSignupModalOnFollowButtonClick.getNextState({action:t,state:e});return e;case N.Ik:if(O.Gk.shouldShowSignupModalOnFollowingButtonClick?.evaluate({modal:e.modal,clickFollowingButton:e.clickFollowingButton}))return O.Gk.shouldShowSignupModalOnFollowingButtonClick.getNextState({action:t,state:e});return e;case N.rA:if(O.Gk.shouldShowSignupModalOnFollowersButtonClick?.evaluate({modal:e.modal,clickFollowersButton:e.clickFollowersButton}))return O.Gk.shouldShowSignupModalOnFollowersButtonClick.getNextState({action:t,state:e});return e;case N.kd:if(O.Gk.shouldShowLoginModalOnCommentComposerClick?.evaluate({modal:e.modal,clickCommentComposerUpsell:e.clickCommentComposerUpsell}))return O.Gk.shouldShowLoginModalOnCommentComposerClick.getNextState({action:t,state:e});return e;case N.Zr:if(O.Gk.shouldShowLoginModalOnPinLinkClick?.evaluate({modal:e.modal,pinLinkClickCount:t.payload.count}))return O.Gk.shouldShowLoginModalOnPinLinkClick.getNextState({action:t,state:e});return{...e,clickPinLinkCount:t.payload.count};case N.it:if(O.Gk.shouldShowLoginModalOnRelatedPinOpenLinkClick?.evaluate({modal:e.modal,clickRelatedPinOpenLinkUpsell:e.clickRelatedPinOpenLinkUpsell}))return O.Gk.shouldShowLoginModalOnRelatedPinOpenLinkClick.getNextState({action:t,state:e});return e;case N.OU:return{...e,upsellReason:t.payload.upsellReason};case N.HK:return{...e,showScrollDownUpsell:!1};case N.i8:if(O.ZW.shouldShowSaveEducationPopover?.evaluate({saveEducationPopoverEverShown:e.saveEducationPopoverEverShown,checkExperiment:t.payload.checkExperiment}))return O.ZW.shouldShowSaveEducationPopover?.getNextState({action:t,state:e})||e;return e;case N.QG:return{...e,showSaveEducationPopover:!1};case N.OX:if(O.Gk.shouldShowRelatedPinsGradientUpsell?.evaluate({relatedPinsGradientUpsellEverShown:e.relatedPinsGradientUpsellEverShown,checkExperiment:t.payload.checkExperiment}))return O.Gk.shouldShowRelatedPinsGradientUpsell?.getNextState({action:t,state:e})||e;return e;case N.uy:return{...e,showRelatedPinsGradientUpsell:!1};case N.tP:if(O.ZW.shouldShowReplyToSenderSheet?.evaluate({replyToSenderSheetEverShown:e.replyToSenderSheetEverShown,checkExperiment:t.payload.checkExperiment}))return O.ZW.shouldShowReplyToSenderSheet?.getNextState({action:t,state:e})||e;return e;case N.Nx:return{...e,showReplyToSenderSheet:!1};case N.qT:return{...e,showScrollDownUpsell:!0};case N.Q4:return P({...e,upsellDismissCount:e.upsellDismissCount+1,showScrollDownUpsell:!1});case v.dn:{let{triggerKey:a}=t.payload;if(!(a in e))return e;return{...e,[a]:!1}}case N.Ue:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:(e.mWebSignupModal.upsellEligibleNavigationCount??0)+1}};case N.tA:return P({...e,upsellDismissCount:e.upsellDismissCount+1,mWebSignupModal:{...e.mWebSignupModal,modal:{isShown:!1}}},t.type);case N.h4:return{...e,mWebSignupModal:{...e.mWebSignupModal,topInterest:t.payload.topInterest}};case N.Bh:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:t.payload.upsellEligibleNavigationCount??e.mWebSignupModal.upsellEligibleNavigationCount}};case N.V9:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!1}};case N.UA:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!0}};case N.Yr:return{...e,mWebSignupModal:{...e.mWebSignupModal,lastShownTime:Date.now(),timesShownForSessionCount:(e.mWebSignupModal.timesShownForSessionCount??0)+1,scrollControllerHasDisplayed:e.mWebSignupModal.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:t.payload.headingType,trigger:{attributionLabel:t.payload.attributionLabel,reason:t.payload.reason},allowCloseOnOutsideClick:t.payload.allowCloseOnOutsideClick,shouldMoveCancelButtonRight:t.payload.shouldMoveCancelButtonRight,customUpsellConfig:t.payload.customUpsellConfig,savePinImageUrl:t.payload.savePinImageUrl},pinId:t.payload.pinId||null}}};case N.ub:return P(O.ZW.shouldAllowUnauthSave?.getNextState({action:t,state:e})??e,t.type);case N.jB:return P({...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount+1}},N.jB);case N.z1:return{...e,unauthClickthroughCount:e.unauthClickthroughCount+1};case N.Sy:return P({...e,unauthDownloadCount:t.payload.count},t.type);case N.Lu:return{...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount-1}};case N.g_:{let{conversionDecision:a,appUpsellDecision:r}=t.payload,n={...e};return a&&(n=O.ZW.shouldShowMainPinImageNavigationalModal?.getNextState({action:t,state:n})??n),r.shouldToggleAppUpsell&&(n={...n,appUpsells:{...n.appUpsells,learningUpsell:{isShown:!r.currentlyShowing}}}),n}case N.$y:{let{oldLocation:a,newLocation:r,isNavigationFromSwipe:n,checkExperiment:s,sessionContext:o,pageThreshold:i,isWashDismissible:l,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,hasSeenModal:u,currentNavigationCount:_,canShowSignupModalOnRouteChange:p,canShowSignupModalOnRouteChangeControl:E}=t.payload,S=!!r&&(0,D.Z)(s,r),y=(0,A.isCloseupPage)(r)&&a&&(0,A.isCloseupPage)(a)&&r.pathname!==a.pathname,T=!c&&d&&!n&&!!r&&p?.(r,S),m={...e};c&&(m={...m,mWebSignupModal:{...m.mWebSignupModal,modal:{isShown:!1}}}),T&&(m={...m,pinClickRelatedPinsCount:y?m.pinClickRelatedPinsCount+1:m.pinClickRelatedPinsCount,mWebSignupModal:{...m.mWebSignupModal,upsellEligibleNavigationCount:(m.mWebSignupModal.upsellEligibleNavigationCount??0)+1},mWeb:{...m.mWeb,pinViewCount:(0,A.isCloseupPage)(r)?m.mWeb.pinViewCount+1:m.mWeb.pinViewCount}});let R={checkExperiment:s,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,oldLocation:a,newLocation:r,isNavigationFromSwipe:n,currentNavigationCount:_,hasSeenModal:u,pageThreshold:i,isWashDismissible:l,canShowSignupModalOnRouteChange:p,canShowSignupModalOnRouteChangeControl:E,sessionContext:o,engagementScore:(m=P(m,t.type)).engagementScore},f=O.ZW.shouldShowNavigationUpsellIntentBased?.evaluate(R);return f&&f.shouldShowModal||(f=O.ZW.shouldShowNavigationUpsell?.evaluate(R)),f.shouldShowModal&&(m=O.ZW.shouldShowNavigationUpsell?.getNextState({action:t,state:m,decision:f})??m),m}case N.qs:let{decision:a}=t.payload,r={...e};return a.shouldIncrementCount&&(r={...r,mWebSignupModal:{...r.mWebSignupModal,upsellEligibleNavigationCount:(r.mWebSignupModal.upsellEligibleNavigationCount??0)+1}}),a.shouldShowModal&&(r=O.ZW.shouldShowOnLandUpsell?.getNextState({action:t,state:r,decision:a})??r),r;case N.f$:{let a=e.appUpsells.learningUpsell?.isShown??!1,r=!t.payload.isShown,{isDismissedByUser:n}=t.payload,s=a&&r&&n,o={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:s?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,learningUpsell:{...e.appUpsells.learningUpsell,isShown:t.payload.isShown}}};return s?P(o,t.type):o}case N.wK:if(O.ZW.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:t.payload.limitReached,inImmediateUpsellGroup:t.payload.inImmediateUpsellGroup,checkExperiment:t.payload.checkExperiment,modal:e.modal}))return O.ZW.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:t,state:e});return e;case N.sg:if(O.ZW.shouldShowSignupModalOnFollowButtonClickMobile?.evaluate({mWebSignupModal:e.mWebSignupModal}))return O.ZW.shouldShowSignupModalOnFollowButtonClickMobile.getNextState({action:t,state:e});return e;case N.TQ:{let a=e.appUpsells.floatingUpsell?.shouldShow&&!e.appUpsells.floatingUpsell?.isDismissed,{isDismissedByUser:r}=t.payload,n=a&&r,s={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:n?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,floatingUpsell:{shouldShow:e.appUpsells.floatingUpsell?.shouldShow??!1,isDismissed:!0}}};return n?P(s,t.type):s}case N.w$:{let a=e.appUpsells.iabAppUpsell?.isShown??!1,r=!1===t.payload.isShown,n=a&&r,s={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:n?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,iabAppUpsell:{isShown:t.payload.isShown??e.appUpsells.iabAppUpsell?.isShown??!1,appUpsellType:t.payload.appUpsellType??e.appUpsells.iabAppUpsell?.appUpsellType??"other",isBlocking:t.payload.isBlocking??e.appUpsells.iabAppUpsell?.isBlocking??!1}}};return n?P(s,t.type):s}default:return e}}var b=a(14890);let U={data:null,loading:!1,error:null},G={data:{},loading:!1,error:void 0,businessIdsAssociatedWithAoaas:[]},M={requests:{},loading:!1,error:void 0},k={data:[],loading:!1,error:void 0,refreshToken:{data:void 0,loading:!1,error:void 0}},B={assetGroups:{},owners:{adAccountOwners:[],profileOwners:[],aoaaIds:[]},selectedAssetGroupId:void 0,loading:!1,error:void 0,ownerError:void 0,adAccountsLoading:!1,profilesLoading:!1,catalogsLoading:!1,employeesLoading:!1,systemUsersLoading:!1,ownersLoading:!1,partnersLoading:!1,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},systemUsersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},F={audiences:{sharedAudiences:[],receivedAudiences:[],ownedAudiences:[],sharedAudiencesLoading:!1,receivedAudiencesLoading:!1,ownedAudiencesLoading:!1,error:null},sharedAccounts:{accounts:{},loading:!1,error:null}},x={adAccounts:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},catalogs:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},assetGroups:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},businessHierarchyBusinessMembers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},profiles:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},employees:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},partners:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},pending:{childBusinesses:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},organizationManagers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},loading:!1,error:void 0}},V={data:{},loading:!1,error:void 0},H={data:{},sharedData:{},invites:{},loading:!1,selectedCatalogId:void 0,selectedInviteId:void 0,error:void 0,employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},employeesLoading:!1,partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},partnersLoading:!1,catalogOwners:{},catalogOwnersLoading:!1},Y={data:[],sharedData:[],loading:!1,error:void 0,adAccountLoading:!1,adAccounts:[],conversionTypeLoading:!1,conversionTypes:[],mainPanelLoading:!1,selectedConversionId:"",table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0}},j={data:[],loading:!1,error:void 0},W={employees:{},invites:{},loading:!1,currentBusiness:void 0,invitesLoading:!1,selectedEmployeeId:void 0,selectedEmployeeInviteId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesLoading:!1,assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},assetGroupsLoading:!1,catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},catalogsLoading:!1,adAccountError:void 0,profileError:void 0,assetGroupsError:void 0,catalogError:void 0,assetRoles:void 0,assetRolesLoading:!1,assetRolesError:void 0},Z={list:null,isLoading:!1,error:null};var $=a(707069),z=a(179317),q=a(450622);let K={data:{},loading:!1,error:null,dateRange:{startDate:(0,q.Z)((0,$.Z)((0,z.Z)(),7)).toISOString(),endDate:(0,q.Z)((0,$.Z)((0,z.Z)(),1)).toISOString()}},Q={invites:{},requests:{},loading:!1,error:void 0},X={invites:{people:{},partner:{}},requests:{partner:{}},type:"PENDING",loading:!1,error:void 0},J={data:{},loading:!1,error:null,invoiceTabVisibility:"PROGRESS"},ee={users:{collapse:!1},accounts:{collapse:!1},isLoading:!1},et={invites:{businessRole:"",businesses:[]},selectedPartners:{selectedPartnerBusinessIds:[],selectedCountries:[],searchValue:"",totalSelected:0},selectedAssets:{adAccounts:{resourceIdToRoles:{},roleToNumberOfAssets:{}},catalogs:{resourceIdToRoles:{},roleToNumberOfAssets:{}},profiles:{resourceIdToRoles:{},roleToNumberOfAssets:{}}},selectedRmnAssets:{audiences:{resourceIdToRoles:{},resourceIdToNames:{}},conversionSegments:{resourceIdToRoles:{},resourceIdToNames:{}},catalogs:{resourceIdToRoles:{},resourceIdToNames:{}}},requestedAssets:{adAccounts:{resourceIdToRoles:{}},catalogs:{resourceIdToRoles:{}},profiles:{resourceIdToRoles:{}}},loading:!1,error:void 0,selectedApps:{resourceIdToRoles:{},roleToNumberOfAssets:{}},systemUserData:void 0},ea={data:{},loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:!1},er={people:{},partner:{},assets:{},type:["PENDING","EXPIRED"],loading:!1,error:void 0},en={data:{},loading:!1,error:void 0},es={data:{},loading:!1,error:null},eo={data:{},loading:!1,error:null,totalCount:0},ei={isLoading:!1,data:{rows:[],summary:[],count:0},error:null},el={isLoading:!1,data:[{topRisers:[],topDecliners:[],metric:""},{topRisers:[],topDecliners:[],metric:""}],error:null},ed=(0,b.combineReducers)({partners:(e,t)=>{let a=e||eo;switch(t.type){case"GET_RMN_PARTNERS":return{...a,loading:!0,error:null};case"GET_RMN_PARTNERS_ERROR":return{...a,loading:!1,error:t.error};case"GET_RMN_PARTNERS_SUCCESS":return{...a,loading:!1,error:null,data:{...a.data,...t.payload?.data??{}},totalCount:t.payload?.totalCount??a.totalCount};case"UPDATE_RMN_PARTNERS_TOTAL_COUNT":return{...a,totalCount:t.payload?.totalCount};default:return a}},partnerOverviewMetrics:(e,t)=>{let a=e||ei;switch(t.type){case"GET_PARTNER_OVERVIEW_METRICS":return{...a,isLoading:!0,error:null,data:{rows:[],summary:[],count:0}};case"GET_PARTNER_OVERVIEW_METRICS_ERROR":return{...a,isLoading:!1,error:t.error};case"GET_PARTNER_OVERVIEW_METRICS_SUCCESS":return{...a,isLoading:!1,error:null,data:t.payload?.data||{rows:[],summary:[],count:0}};default:return a}},topRiserDecliners:(e,t)=>{let a=e||el;switch(t.type){case"GET_TOP_RISER_DECLINERS":return{...a,isLoading:!0,error:null};case"GET_TOP_RISER_DECLINERS_ERROR":return{...a,isLoading:!1,error:t.error};case"GET_TOP_RISER_DECLINERS_SUCCESS":return{...a,isLoading:!1,error:null,data:t.payload?.data||[{topRisers:[],topDecliners:[],metric:""},{topRisers:[],topDecliners:[],metric:""}]};default:return a}}}),ec={data:[],systemUsers:{},adAccounts:[],assetGroups:[],catalogs:[],systemApps:[],profiles:[],loading:!1,adAccountLoading:!1,selectedSystemId:"",profilesLoading:!1,appsLoading:!1,catalogsLoading:!1,assetGroupsLoading:!1,error:void 0,table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"full_name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},adAccountTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},appsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0}},eu={visibleData:[],page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},e_={tags:{},loading:!1,selectedTagId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,adAccountError:void 0,selectedAdAccounts:[],overlayOpen:!1},ep={previousPermissions:void 0,selectedId:void 0,loading:!1,error:void 0},eE={loading:!1,error:null,data:[]},eS={loading:!1,error:void 0,data:[]},ey={data:void 0},eT=(0,b.combineReducers)({people:(e,t)=>{let a=e||en;switch(t.type){case"GET_PERSON":case"DELETE_PEOPLE":case"GET_PEOPLE":case"GET_AD_ACCOUNTS_PEOPLE":case"GET_PROFILE_DETAIL_PEOPLE":case"CREATE_PEOPLE_INVITE":case"GET_BUSINESS_HIERARCHY_MANAGERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE":return{...a,loading:!0};case"GET_PERSON_ERROR":case"DELETE_PEOPLE_ERROR":case"GET_PEOPLE_ERROR":case"GET_AD_ACCOUNTS_PEOPLE_ERROR":case"GET_PROFILE_DETAIL_PEOPLE_ERROR":case"CREATE_PEOPLE_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR":return{...a,error:t.error,loading:!1};case"DELETE_PEOPLE_SUCCESS":case"CREATE_PEOPLE_INVITE_SUCCESS":return{...a,loading:!1,error:void 0};case"GET_PERSON_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":return{...a,loading:!1,data:{...a.data,...t.payload?.data??{}},error:void 0};case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":return{...a,loading:!1,error:void 0,data:{...a.data,...Object.keys(t.payload?.data||{}).reduce((e,a)=>({...e,...!!a&&{[a]:t.payload?.data[a]}}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!t.payload?.data?.userId||"string"!=typeof t.payload.data.userId||!a.data[t.payload.data.userId]||!t.payload.data.adAccountId||!t.payload.data.userId||!t.payload.data.permissions)return{...a,error:t.error,loading:!1};return{...a,loading:!1,error:void 0,data:{...a.data,[t.payload.data.userId]:{...a.data[t.payload.data.userId],permissions:t.payload.data.permissions}}};case"CLEAR_ERROR":return{...a,error:void 0};case"UPDATE_PEOPLE_TOTAL_COUNT":return{...a,loading:!1,totalCount:t.payload?.totalCount};default:return a}},invitesOrRequests:(e,t)=>{let a=e||X,{type:r,data:n,id:s}=t.payload??{};switch(t.type){case"GET_PARTNERS_REQUESTS":case"CREATE_PARTNER_INVITE":case"CREATE_RMN_PARTNER_INVITE":case"CREATE_PARTNER_REQUEST":return{...a,loading:!0};case"GET_PARTNERS_REQUESTS_ERROR":case"CREATE_PARTNER_INVITE_ERROR":case"CREATE_RMN_PARTNER_INVITE_ERROR":case"CREATE_PARTNER_REQUEST_ERROR":return{...a,error:t.error,loading:!1};case"CREATE_PARTNER_INVITE_SUCCESS":case"CREATE_RMN_PARTNER_INVITE_SUCCESS":case"CREATE_PARTNER_REQUEST_SUCCESS":return{...a,loading:!1,error:void 0};case"GET_PARTNERS_REQUESTS_SUCCESS":return{...a,loading:!1,requests:{...a.requests,[r]:{...a.requests[r],...n}}};case"CLEAR_ERROR":return{...a,error:void 0};case"CLEAR_INVITE":if(a.invites.partner){let{[s]:e,...t}=a.invites.partner;return{...a,invites:{...a.invites,partner:{...t}}}}return a;case"CLEAR_REQUEST":if(a.requests.partner){let{[s]:e,...t}=a.requests.partner;return{...a,requests:{...a.requests,partner:{...t}}}}return a;default:return a}},partners:(e,t)=>{let a=e||ea;switch(t.type){case"GET_PARTNER":case"UPDATE_PARTNERS":case"DELETE_PARTNERS":case"GET_PARTNERS":case"GET_AD_ACCOUNTS_PARTNERS":case"GET_PROFILE_DETAIL_PARTNERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA":return{...a,loading:!0};case"GET_PARTNER_ERROR":case"UPDATE_PARTNERS_ERROR":case"DELETE_PARTNERS_ERROR":case"GET_PARTNERS_ERROR":case"GET_AD_ACCOUNTS_PARTNERS_ERROR":case"GET_PROFILE_DETAIL_PARTNERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_ERROR":return{...a,error:t.error,loading:!1};case"UPDATE_PARTNERS_SUCCESS":case"DELETE_PARTNERS_SUCCESS":return{...a,loading:!1,error:void 0};case"GET_PARTNER_SUCCESS":case"GET_PARTNERS_SUCCESS":return{...a,loading:!1,data:{...a.data,...t.payload?.data??{}}};case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":return{...a,loading:!1,data:{...a.data,...Object.keys(t.payload?.data??{}).reduce((e,a)=>({...e,[a??""]:t.payload?.data[a]}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS":if(!t.payload?.data?.userId||"string"!=typeof t.payload.data.userId||!a.data[t.payload.data.userId]||!t.payload.data.adAccountId||!t.payload.data.userId||!t.payload.data.permissions)return{...a,error:t.error,loading:!1};return{...a,loading:!1,error:void 0,data:{...a.data,[t.payload.data.userId]:{...a.data[t.payload.data.userId],permissions:t.payload.data.permissions}}};case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_SUCCESS":return{...a,loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:t.payload??!1};case"CLEAR_ERROR":return{...a,error:void 0};case"UPDATE_PARTNERS_TOTAL_COUNT":return{...a,loading:!1,totalCount:t.payload?.totalCount};default:return a}},employers:(e,t)=>{let a=e||Z;switch(t.type){case"GET_EMPLOYERS":return{...a,error:null,isLoading:!0};case"GET_EMPLOYERS_SUCCESS":if(t.payload?.showTooltip){let e=[];for(let r of t.payload.data)a&&a.list&&!a.list.some(({id:e})=>e===r.id)?e.push({...r,showInTooltip:!0}):e.push(r);return{...a,list:e,isLoading:!1}}return{...a,list:t.payload?.data,isLoading:!1};case"GET_EMPLOYERS_ERROR":return{...a,list:[],error:t.error,isLoading:!1};case"HIDE_EMPLOYERS_TOOLTIP":return{...a,list:a.list?a.list.map(e=>{if("showInTooltip"in e){let{showInTooltip:t,...a}=e;return a}return e}):a.list};default:return a}},adAccounts:(e,t)=>{let a=e||G;switch(t.type){case"CREATE_AD_ACCOUNTS":case"GET_MULTIPLE_AD_ACCOUNTS":case"GET_PERSON_ASSETS":case"GET_PARTNER_ASSETS":case"GET_AD_ACCOUNT":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS":case"GET_AD_ACCOUNTS_SETTINGS":case"UPDATE_AD_ACCOUNTS_SETTINGS":return{...a,loading:!0};case"CREATE_AD_ACCOUNTS_ERROR":case"GET_MULTIPLE_AD_ACCOUNTS_ERROR":case"GET_PERSON_ASSETS_ERROR":case"GET_PARTNER_ASSETS_ERROR":case"GET_AD_ACCOUNT_ERROR":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_ERROR":case"GET_AD_ACCOUNTS_SETTINGS_ERROR":case"UPDATE_AD_ACCOUNTS_SETTINGS_ERROR":return{...a,error:t.error,loading:!1};case"CREATE_AD_ACCOUNTS_SUCCESS":return{...a,loading:!1,error:void 0};case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_AD_ACCOUNT_SUCCESS":return{...a,loading:!1,data:{...a.data,...t.payload?.data??{}},error:void 0};case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS":if(!t.payload?.data?.adAccountId||"string"!=typeof t.payload.data.adAccountId||!a.data[t.payload.data.adAccountId]||!t.payload.data.adAccountId||!t.payload.data.userId||!t.payload.data.permissions)return{...a,error:t.error,loading:!1};return{...a,loading:!1,error:void 0,data:{...a.data,[t.payload.data.adAccountId]:{...a.data[t.payload.data.adAccountId],permissions:t.payload.data.permissions}}};case"CLEAR_ERROR":return{...a,error:void 0};case"UPDATE_AD_ACCOUNTS_TOTAL_COUNT":return{...a,loading:!1,totalCount:t.payload?.totalCount};case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_SUCCESS":return{...a,loading:!1,businessIdsAssociatedWithAoaas:t.payload?.businessIdsAssociatedWithAoaas||[]};case"GET_AD_ACCOUNTS_SETTINGS_SUCCESS":case"UPDATE_AD_ACCOUNTS_SETTINGS_SUCCESS":if(!t.payload?.data?.adAccountId||"string"!=typeof t.payload.data.adAccountId||!a.data[t.payload.data.adAccountId])return{...a,loading:!1};return{...a,loading:!1,data:{...a.data,[t.payload.data.adAccountId]:{...a.data[t.payload.data.adAccountId],settings:t.payload.data.settings??{}}}};default:return a}},businessMetrics:(e,t)=>{let a=e||V;switch(t.type){case"GET_ADS_MONTHLY_SPEND":return{...a,loading:!0};case"GET_ADS_MONTHLY_SPEND_ERROR":return{...a,error:t.error,loading:!1};case"GET_ADS_MONTHLY_SPEND_SUCCESS":return{...a,loading:!1,data:{...a?.data,...t?.data??{}},error:void 0};case"CLEAR_ERROR":return{...a,error:void 0};default:return a??{}}},actingUser:(e=U,t)=>{let a=e||U;switch(t.type){case"GET_ACTING_USER":return{...a,loading:!0,error:null};case"GET_ACTING_USER_SUCCESS":return{...a,data:t.payload,loading:!1};case"GET_ACTING_USER_ERROR":return{...a,loading:!1,error:t.error};default:return a}},table:(e,t)=>{let a=e||eu;switch(t.type){case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_SYSTEM_USERS_SUCCESS":case"GET_PARTNERS_REQUESTS_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":case"GET_ALL_PROFILES_SUCCESS":case"GET_PENDING_PEOPLE_SUCCESS":case"GET_PENDING_PARTNERS_SUCCESS":case"GET_AOAA_REQUESTS_SUCCESS":case"GET_HISTORY_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":case"GET_BILLING_INVOICES_SUCCESS":case"GET_ASSET_GROUP_ASSETS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":case"GET_TAG_ASSETS_SUCCESS":{let{updateDataOnly:e,data:r,ids:n,...s}=t.payload??{};if(e)return a;let o=s?.table??{};return{...a,visibleData:n,...s,...o}}case"SET_ROUTER_PARAMS":return eu;case"SET_SORT_PARAMS":return{...a,sortBy:t.payload?.sortBy,sortDirection:t.payload?.sortDirection||"ASCENDING"};default:return a}},history:(e,t)=>{let a=e||K;switch(t.type){case"GET_HISTORY":return{...a,loading:!0,error:null};case"GET_HISTORY_SUCCESS":return{...a,data:{...a.data,...t.payload?.data??{}},loading:!1};case"GET_HISTORY_ERROR":return{...a,loading:!1,error:t.error};case"SET_HISTORY_DATE_RANGE":return{...a,dateRange:t.dateRange};default:return a}},inviteOrRequestData:(e=Q,t)=>{let a=e||Q,{updateDataOnly:r,type:n,...s}=t.payload??{};switch(t.type){case"GET_INVITE_DATA":case"GET_REQUEST_DATA":return{...a,loading:!0};case"GET_INVITE_DATA_ERROR":case"GET_REQUEST_DATA_ERROR":return{...a,loading:!1,error:t.error};case"GET_INVITE_DATA_SUCCESS":return{...a,invites:{...a.invites,[n]:{...a.invites[n],...s}},loading:!1};case"GET_REQUEST_DATA_SUCCESS":return{...a,requests:{...a.requests,[n]:{...s,...a.requests[n]}},loading:!1};case"CLEAR_PARTNER_INVITE_DATA":return{...a,invites:{...a.invites,partners:{}}};case"CLEAR_PARTNER_REQUEST_DATA":return{...a,requests:{...a.requests,partners:{}}};default:return a}},dashboardRecentlyAdded:(e,t)=>{let a=e||j;switch(t.type){case"GET_DASHBOARD_RECENTLY_ADDED":return{...a,loading:!0};case"GET_DASHBOARD_RECENTLY_ADDED_ERROR":return{...a,error:t.error,loading:!1};case"GET_DASHBOARD_RECENTLY_ADDED_SUCCESS":return{...a,loading:!1,data:[...t.payload],error:void 0};default:return a}},pending:(e,t)=>{let a=e||er;switch(t.type){case"GET_PENDING_PEOPLE":case"GET_PENDING_PARTNERS":case"GET_PENDING_ASSETS":return{...a,loading:!0};case"GET_PENDING_PEOPLE_ERROR":case"GET_PENDING_PARTNERS_ERROR":case"GET_PENDING_ASSETS_ERROR":return{...a,error:t.error,loading:!1};case"GET_PENDING_PEOPLE_SUCCESS":return{...a,loading:!1,people:{...a.people,...t.payload.data??{}},type:t.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_PARTNERS_SUCCESS":return{...a,loading:!1,partner:{...a.partner,...t.payload.data??{}},type:t.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_ASSETS_SUCCESS":return{...a,loading:!1,assets:{...a.assets,...t.payload??{}},type:["PENDING"]};case"CLEAR_PENDING_DATA":return{...a,loading:!1,people:{},partner:{},assets:{}};case"CLEAR_PENDING_ASSETS":return{...a,loading:!1,assets:{}};case"CLEAR_ERROR":return{...a,error:void 0};default:return a}},aoaaRequests:(e,t)=>{let a=e||M;switch(t.type){case"GET_AOAA_REQUESTS":case"UPDATE_AOAA_REQUEST":return{...a,loading:!0};case"UPDATE_AOAA_REQUEST_ERROR":case"GET_AOAA_REQUESTS_ERROR":return{...a,error:t.error,loading:!1};case"GET_AOAA_REQUESTS_SUCCESS":return{...a,loading:!1,requests:{...a.requests,...t.payload.data??{}}};case"UPDATE_AOAA_REQUEST_SUCCESS":if(!t.payload.requestId||"string"!=typeof t.payload.requestId||!a.requests||!a.requests[t.payload.requestId])return{...a,error:t.error,loading:!1};return{...a,loading:!1,requests:{...a.requests,...t.payload.data??{},[t.payload.requestId]:{...a.requests[t.payload.requestId],permissions:t.payload.businessIdToPermissions}}};case"CLEAR_AOAA_REQUESTS":return{...a,loading:!1,requests:{}};case"CLEAR_ERROR":return{...a,error:void 0};default:return a}},assetGroups:(e,t)=>{let a=e||B;switch(t.type){case"GET_ASSET_GROUPS":return{...a,loading:!0,loadingAssetGroups:!0};case"GET_ASSET_GROUPS_ERROR":return{...a,error:t.error,loading:!1,loadingAssetGroups:!1};case"GET_ASSET_GROUPS_SUCCESS":return{...a,loadingAssetGroups:!1,loading:!1,assetGroups:{...(Array.isArray(t.payload?.data)?t.payload.data:[]).reduce((e,t)=>("id"in t&&(e[t.id]=t),e),{})}};case"CREATE_ASSET_GROUP":case"EDIT_ASSET_GROUP":case"DELETE_ASSET_GROUP":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP":return{...a,loading:!0};case"CREATE_ASSET_GROUP_ERROR":case"EDIT_ASSET_GROUP_ERROR":case"DELETE_ASSET_GROUP_ERROR":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_ERROR":return{...a,error:t.error,loading:!1};case"CREATE_ASSET_GROUP_SUCCESS":let r=t.payload?.data;if("object"==typeof r&&!Array.isArray(r)&&"string"==typeof r.id)return{...a,loading:!1,error:void 0,selectedAssetGroupId:r.id,assetGroups:{...a.assetGroups,...{[r.id]:{...r,profiles:[],adAccounts:[],employees:[],partners:[]}}}};return a;case"EDIT_ASSET_GROUP_SUCCESS":let n=t.payload?.data;if("object"==typeof n&&"object"==typeof t.payload?.data&&!Array.isArray(n)&&!Array.isArray(t.payload.data)&&"string"==typeof n.id)return{...a,loading:!1,assetGroups:{...a.assetGroups,...{[n.id]:{...a.assetGroups[n.id],...t.payload.data}}}};return a;case"DELETE_ASSET_GROUP_SUCCESS":let s={...a.assetGroups},o=t.payload?.data,i={};if("string"!=typeof o)return a;{Object.keys(s).forEach(e=>{e!==o&&(i[e]=s[e])});let e=Object.keys(i).length>0?Object.keys(i)[0]:void 0;return{...a,loading:!1,loadingAssetGroups:!1,assetGroups:i,selectedAssetGroupId:e}}case"SELECT_ASSET_GROUP":return{...a,selectedAssetGroupId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"UPDATE_EMPLOYEE_PERMISSION_ASSET_GROUP_SUCCESS":if(!t.payload?.data?.assetGroupId||"string"!=typeof t.payload.data.assetGroupId||!a.assetGroups[t.payload.data.assetGroupId]||!t.payload.data.assetGroupId||!t.payload.data.employeeId||!t.payload.data.newPermissions)return{...a,error:t.error,loading:!1};let l=t.payload.data.employeeId,d=t.payload.data.newPermissions;return{...a,loading:!1,assetGroups:{...a.assetGroups,[t.payload.data.assetGroupId]:{...a.assetGroups[t.payload.data.assetGroupId],employees:(a.assetGroups[t.payload.data.assetGroupId].employees||[]).map(e=>e.id===l?{...e,permissions:d}:e)}}};case"UPDATE_SYSTEM_USER_PERMISSION_ASSET_GROUP_SUCCESS":if(!t.payload?.data?.assetGroupId||"string"!=typeof t.payload.data.assetGroupId||!a.assetGroups[t.payload.data.assetGroupId]||!t.payload.data.assetGroupId||!t.payload.data.systemUserId||!t.payload.data.newPermissions)return{...a,error:t.error,loading:!1};let c=t.payload.data.systemUserId,u=t.payload.data.newPermissions;return{...a,loading:!1,assetGroups:{...a.assetGroups,[t.payload.data.assetGroupId]:{...a.assetGroups[t.payload.data.assetGroupId],systemUsers:(a?.assetGroups[t.payload.data.assetGroupId]?.systemUsers||[]).map(e=>e.id===c?{...e,permissions:u}:e)}}};case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_SUCCESS":if(!t.payload?.data?.assetGroupId||"string"!=typeof t.payload.data.assetGroupId||!a.assetGroups[t.payload.data.assetGroupId]||!t.payload.data.assetGroupId||!t.payload.data.partnerId||!t.payload.data.newPermissions)return{...a,error:t.error,loading:!1};let _=t.payload.data.partnerId,p=t.payload.data.newPermissions;return{...a,loading:!1,assetGroups:{...a.assetGroups,[t.payload.data.assetGroupId]:{...a.assetGroups[t.payload.data.assetGroupId],partners:(a.assetGroups[t.payload.data.assetGroupId].partners||[]).map(e=>e.id===_?{...e,permissions:p}:e)}}};case"GET_ASSET_GROUP_ASSETS":if(t.payload?.data==="AD_ACCOUNT")return{...a,loading:!1,adAccountsLoading:!0};if(t.payload?.data==="PROFILE")return{...a,loading:!1,profilesLoading:!0};return{...a,loading:!1};case"GET_ASSET_GROUP_ASSETS_SUCCESS":if(!t.payload?.data?.assetGroupId||"string"!=typeof t.payload.data.assetGroupId||!a.assetGroups[t.payload.data.assetGroupId])return{...a,error:t.error,loading:!1};let{assetGroupId:E}=t.payload.data,S=t.payload.data.child_asset_ids||[];if(Array.isArray(t.payload.data.adAccounts))return{...a,loading:!1,adAccountsLoading:!1,assetGroups:{...a.assetGroups,[E]:{...a.assetGroups[E],adAccounts:t.payload.data.adAccounts,...S&&{child_ad_account_ids:S}}}};if(Array.isArray(t.payload.data.profiles))return{...a,loading:!1,profilesLoading:!1,assetGroups:{...a.assetGroups,[E]:{...a.assetGroups[E],profiles:t.payload.data.profiles,...S&&{child_profile_ids:S}}}};if(Array.isArray(t.payload.data.catalogs))return{...a,loading:!1,catalogsLoading:!1,assetGroups:{...a.assetGroups,[E]:{...a.assetGroups[E],catalogs:t.payload.data.catalogs,...S&&{child_catalog_ids:S}}}};return{...a,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_ASSETS_ERROR":return{...a,error:t.error,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_USERS":if(t.payload?.data==="PEOPLE")return{...a,loading:!1,employeesLoading:!0};if(t.payload?.data==="SYSTEM_USERS")return{...a,loading:!1,systemUsersLoading:!0};if(t.payload?.data==="PARTNER")return{...a,loading:!1,partnersLoading:!0};return{...a,loading:!1};case"GET_ASSET_GROUP_USERS_SUCCESS":if(!t.payload?.data?.assetGroupId||"string"!=typeof t.payload.data.assetGroupId||!a.assetGroups[t.payload.data.assetGroupId])return{...a,error:t.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};let y=t.payload.data.assetGroupId;if(Array.isArray(t.payload.data.people))return{...a,loading:!1,employeesLoading:!1,assetGroups:{...a.assetGroups,[y]:{...a.assetGroups[y],employees:t.payload.data.people}}};if(Array.isArray(t.payload.data.systemUsers))return{...a,loading:!1,systemUsersLoading:!1,assetGroups:{...a.assetGroups,[y]:{...a.assetGroups[y],systemUsers:t.payload.data.systemUsers}}};if(Array.isArray(t.payload.data.partners))return{...a,loading:!1,partnersLoading:!1,assetGroups:{...a.assetGroups,[y]:{...a.assetGroups[y],partners:t.payload.data.partners}}};return{...a,loading:!1,employeesLoading:!1,partnersLoading:!1};case"GET_ASSET_GROUP_USERS_ERROR":return{...a,error:t.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};case"GET_ASSET_GROUP_OWNERS":return{...a,loading:!1,ownersLoading:!0};case"GET_ASSET_GROUP_OWNERS_SUCCESS":if(!t.payload||!t.payload.data||"object"!=typeof t.payload.data||"string"!=typeof t.payload.data.resourceType||!t.payload.data.owners||!t.payload.data.aoaaIds||!Array.isArray(t.payload.data.owners)||!Array.isArray(t.payload.data.aoaaIds))return{...a,loading:!1};let T=[];t.payload.data.owners.forEach(e=>{e&&"object"==typeof e&&T.push({id:"string"==typeof e.id?e.id:"",fullName:"string"==typeof e.fullName?e.fullName:"",assetIds:Array.isArray(e.assetIds)?e.assetIds.map(e=>"string"==typeof e?e:""):[]})});let m=Array.isArray(t.payload?.data?.aoaaIds)?t.payload.data.aoaaIds.map(e=>"string"==typeof e?e:""):[];return t.payload?.data?.resourceType==="AD_ACCOUNT"?{...a,loading:!1,ownersLoading:!1,owners:{...a.owners,adAccountOwners:T,aoaaIds:m}}:{...a,loading:!1,ownersLoading:!1,owners:{...a.owners,profileOwners:T}};case"GET_ASSET_GROUP_OWNERS_ERROR":return{...a,ownerError:t.error,loading:!1,ownersLoading:!1};case"CLEAR_ERROR":return{...a,error:void 0};case"SET_TABLE_STATE":if(!t.payload?.data?.table)return{...a};if("AD_ACCOUNT"===t.payload.data.assetOrMemberType)return{...a,adAccountsTable:{...a.adAccountsTable,...t.payload.data.table}};if("PROFILE"===t.payload.data.assetOrMemberType)return{...a,profilesTable:{...a.profilesTable,...t.payload.data.table}};if("CATALOG"===t.payload.data.assetOrMemberType)return{...a,catalogsTable:{...a.catalogsTable,...t.payload.data.table}};if("PEOPLE"===t.payload.data.assetOrMemberType)return{...a,employeesTable:{...a.employeesTable,...t.payload.data.table}};else if("PARTNER"===t.payload.data.assetOrMemberType)return{...a,partnersTable:{...a.partnersTable,...t.payload.data.table}};return{...a};case"GET_PERSON_ASSET_GROUPS":case"GET_AD_ACCOUNTS_ASSET_GROUPS":case"GET_PROFILE_ASSET_GROUPS":case"GET_PARTNER_ASSET_GROUPS":return{...a,loadingAssetGroups:!0,loading:!0};case"GET_PERSON_ASSET_GROUPS_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_PROFILE_ASSET_GROUPS_ERROR":case"GET_PARTNER_ASSET_GROUPS_ERROR":return{...a,loadingAssetGroups:!1,loading:!1,error:t.error??void 0};case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":let R="object"!=typeof t.payload?.data||Array.isArray(t.payload.data)?{}:t.payload.data;return{...a,loadingAssetGroups:!1,loading:!1,assetGroups:Object.keys(R).reduce((e,t)=>({...e,[t]:{entity_type:"ASSET_GROUP",id:t,name:R[t]?.asset.name,description:R[t]?.asset.description,asset_group_types:R[t]?.asset.asset_group_types,adAccounts:[],profiles:[],child_ad_account_ids:R[t]?.asset.child_ad_account_ids||[],child_profile_ids:R[t]?.asset.child_profile_ids||[],employees:[],partners:[],created_by:{username:R[t]?.created_by.username,full_name:R[t]?.created_by.full_name},created_time:R[t]?.asset.created_time,owner:{username:R[t]?.owner.username,full_name:R[t]?.owner.full_name,id:R[t]?.owner.id},permissions:R[t]?.permissions}}),{})};default:return a}},profiles:(e=es,t)=>{let a=e||es;switch(t.type){case"GET_ALL_PROFILES":case"GET_DASHBOARD_PROFILES":case"GET_PROFILE_META":case"GET_PERSON_PROFILES":return{...a,loading:!0,error:null};case"GET_ALL_PROFILES_ERROR":case"GET_DASHBOARD_PROFILES_ERROR":case"GET_PERSON_PROFILES_ERROR":case"GET_PROFILE_META_ERROR":return{...a,loading:!1,error:t.error};case"GET_ALL_PROFILES_SUCCESS":case"GET_PROFILE_META_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":return{...a,loading:!1,error:null,data:{...a.data,...t.payload?.data}};case"GET_DASHBOARD_PROFILES_SUCCESS":return{...a,loading:!1,error:null,data:{...a.data,...t.payload?.data},dashboardVisibleData:t.payload?.ids};default:return a}},viewerInvites:(e,t)=>{let a=e||eS;switch(t.type){case"GET_VIEWER_INVITES":return{...a,loading:!0};case"GET_VIEWER_INVITES_ERROR":return{...a,loading:!1,error:t.error};case"GET_VIEWER_INVITES_SUCCESS":return{...a,loading:!1,data:t.payload?.data??[]};default:return a}},viewerIsProfileOwnerOrProfileManager:(e,t)=>{let a=e||ey;return"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER"===t.type?{...a,data:t.payload??void 0}:a},viewerBusinessHierarchyInvites:(e,t)=>{let a=e||eE;switch(t.type){case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES":return{...a,loading:!0};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR":return{...a,loading:!1,error:t.error};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS":return{...a,loading:!1,data:t.payload?.data??[]};default:return a}},navigation:(e,t)=>{let a=e||ee;switch(t.type){case"TOGGLE_USERS":return{...a,users:{collapse:!a.users.collapse},isLoading:!1};case"TOGGLE_ACCOUNTS":return{...a,accounts:{collapse:!a.accounts.collapse},isLoading:!1};case"SET_INITIAL_COLLAPSED_STATE":return{...a,users:{collapse:t.payload?.usersCollapsed??!1},accounts:{collapse:t.payload?.accountsCollapsed??!1},isLoading:!1};default:return a}},newRelationshipAssetAssignmentFlow:(e=et,t)=>{let a=e||et;switch(t.type){case"SET_RELATIONSHIP_INVITES":return{...a,loading:!1,invites:{...a?.invites,...t.invites??{}}};case"SET_SELECTED_PARTNERS":return{...a,loading:!1,selectedPartners:{...a?.selectedPartners,selectedPartnerBusinessIds:t.selectedPartners??[]}};case"SET_SELECTED_PARTNERS_TOTAL":return{...a,loading:!1,selectedPartners:{...a?.selectedPartners,totalSelected:t.totalSelected??0}};case"SET_ALL_PARTNERS_SELECTED":return{...a,loading:!1,selectedPartners:{...a?.selectedPartners,allOwnersSelected:t.allOwnersSelected}};case"SET_SELECTED_PARTNERS_COUNTRIES_FILTER":return{...a,loading:!1,selectedPartners:{...a?.selectedPartners,selectedCountries:t.countries??[]}};case"SET_SELECTED_PARTNERS_PARTNER_NAME_FILTER":return{...a,loading:!1,selectedPartners:{...a?.selectedPartners,searchValue:t.partnerName??[]}};case"SET_SELECTED_ASSETS":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,...t.selectedAssets??{}}};case"SET_SELECTED_RMN_ASSETS":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,...t.selectedRmnAssets??{}}};case"SET_REQUESTED_ASSETS":return{...a,loading:!1,requestedAssets:{...a?.requestedAssets,...t.requestedAssets??{}}};case"CLEAR_SLICE":return et;case"CLEAR_SELECTED_PARTNERS_AND_ASSET_ASSIGNMENTS":return{...a,selectedPartners:et.selectedPartners,selectedAssets:et.selectedAssets,loading:!1};case"SET_SELECTED_AD_ACCOUNTS":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,adAccounts:{...a.selectedAssets?.adAccounts,resourceIdToRoles:t.selectedAdAccounts||{}}}};case"SET_SELECTED_AD_ACCOUNTS_SEARCH_VALUE":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,adAccounts:{...a.selectedAssets?.adAccounts,searchValue:t.adAccountsSearchValue}}};case"SET_SELECTED_AD_ACCOUNTS_NUMBER_MAP":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,adAccounts:{...a.selectedAssets?.adAccounts,roleToNumberOfAssets:t.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_AD_ACCOUNTS":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,adAccounts:{...a.selectedAssets?.adAccounts,allAssetsSelected:t.allAssetsSelected}}};case"SET_REQUESTED_AD_ACCOUNTS":return{...a,loading:!1,requestedAssets:{...a?.requestedAssets,adAccounts:{...a.requestedAssets?.adAccounts,resourceIdToRoles:t.requestedAdAccounts||{}}}};case"SET_SELECTED_CATALOGS":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,catalogs:{...a.selectedAssets?.catalogs,resourceIdToRoles:t.selectedCatalogs||{}}}};case"SET_SELECTED_CATALOGS_SEARCH_VALUE":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,catalogs:{...a.selectedAssets?.catalogs,searchValue:t.catalogsSearchValue}}};case"SET_SELECTED_CATALOGS_NUMBER_MAP":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,catalogs:{...a.selectedAssets?.catalogs,roleToNumberOfAssets:t.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_CATALOGS":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,catalogs:{...a.selectedAssets?.catalogs,allAssetsSelected:t.allAssetsSelected}}};case"SET_SELECTED_RMN_CATALOGS":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,catalogs:{...a.selectedRmnAssets?.catalogs,...t.selectedCatalogs||{}}}};case"SET_SELECTED_RMN_CATALOGS_SEARCH_VALUE":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,catalogs:{...a.selectedRmnAssets?.catalogs,searchValue:t.catalogsSearchValue}}};case"SET_ALL_SELECTED_RMN_CATALOGS":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,catalogs:{...a.selectedRmnAssets?.catalogs,allAssetsSelected:t.allAssetsSelected}}};case"SET_REQUESTED_CATALOGS":return{...a,loading:!1,requestedAssets:{...a?.requestedAssets,catalogs:{...a.requestedAssets?.catalogs,resourceIdToRoles:t.requestedCatalogs||{}}}};case"SET_SELECTED_PROFILES":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,profiles:{...a.selectedAssets?.profiles,resourceIdToRoles:t.selectedProfiles||{}}}};case"SET_SELECTED_PROFILES_SEARCH_VALUE":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,profiles:{...a.selectedAssets?.profiles,searchValue:t.profilesSearchValue}}};case"SET_SELECTED_PROFILES_NUMBER_MAP":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,profiles:{...a.selectedAssets?.profiles,roleToNumberOfAssets:t.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_PROFILES":return{...a,loading:!1,selectedAssets:{...a?.selectedAssets,profiles:{...a.selectedAssets?.profiles,allAssetsSelected:t.allAssetsSelected}}};case"SET_REQUESTED_PROFILES":return{...a,loading:!1,requestedAssets:{...a?.requestedAssets,profiles:{...a.requestedAssets?.profiles,resourceIdToRoles:t.requestedProfiles||{}}}};case"SET_SELECTED_APPS":return{...a,loading:!1,selectedApps:{...a.selectedApps,...t.selectedApps||{}}};case"SET_SELECTED_AUDIENCES":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,audiences:{...a.selectedRmnAssets?.audiences,...t.selectedAudiences||{}}}};case"SET_SELECTED_AUDIENCES_SEARCH_VALUE":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,audiences:{...a.selectedRmnAssets?.audiences,searchValue:t.audiencesSearchValue}}};case"SET_ALL_SELECTED_AUDIENCES":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,audiences:{...a.selectedRmnAssets?.audiences,allAssetsSelected:t.allAssetsSelected}}};case"SET_SELECTED_CONVERSION_SEGMENTS":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,conversionSegments:{...a.selectedRmnAssets?.conversionSegments,...t.selectedConversionSegments||{}}}};case"SET_SELECTED_CONVERSION_SEGMENTS_SEARCH_VALUE":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,conversionSegments:{...a.selectedRmnAssets?.conversionSegments,searchValue:t.conversionSegmentsSearchValue}}};case"SET_ALL_SELECTED_CONVERSION_SEGMENTS":return{...a,loading:!1,selectedRmnAssets:{...a?.selectedRmnAssets,conversionSegments:{...a.selectedRmnAssets?.conversionSegments,allAssetsSelected:t.allAssetsSelected}}};case"SET_SYSTEM_USER_DATA":return{...a,loading:!1,systemUserData:t.systemUserData};default:return a}},invoiceManagement:(e,t)=>{let a=e||J;switch(t.type){case"GET_BILLING_INVOICES":return{...a,loading:!0,error:null};case"GET_BILLING_INVOICES_SUCCESS":return{...a,data:{...a.data,...t.payload?.data??J.data},loading:!1};case"GET_BILLING_INVOICES_ERROR":return{...a,loading:!1,error:t.error};case"SET_BILLING_INVOICES_VISIBILITY":return{...a,invoiceTabVisibility:t.payload};default:return a}},businessHierarchy:(e,t)=>{let a=e||x;switch(t.type){case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS":return{...a,adAccounts:{...a.adAccounts,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR":return{...a,adAccounts:{...a.adAccounts,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":return{...a,adAccounts:{...a.adAccounts,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.adAccounts.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PROFILES":return{...a,profiles:{...a.profiles,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PROFILES_ERROR":return{...a,profiles:{...a.profiles,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":return{...a,profiles:{...a.profiles,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.profiles.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS":return{...a,assetGroups:{...a.assetGroups,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR":return{...a,assetGroups:{...a.assetGroups,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":return{...a,assetGroups:{...a.assetGroups,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.assetGroups.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_CATALOGS":return{...a,catalogs:{...a.catalogs,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_CATALOGS_ERROR":return{...a,catalogs:{...a.catalogs,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_CATALOGS_SUCCESS":return{...a,catalogs:{...a.catalogs,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.catalogs.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES":return{...a,employees:{...a.employees,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS":return{...a,businessHierarchyBusinessMembers:{...a.businessHierarchyBusinessMembers,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR":return{...a,businessHierarchyBusinessMembers:{...a.businessHierarchyBusinessMembers,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":return{...a,businessHierarchyBusinessMembers:{...a.businessHierarchyBusinessMembers,data:t.payload?.data||[],table:{...a.businessHierarchyBusinessMembers.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR":return{...a,employees:{...a.employees,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":return{...a,employees:{...a.employees,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.employees.table,...t.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PARTNERS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS":return{...a,partners:{...a.partners,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR":return{...a,partners:{...a.partners,error:t.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":return{...a,partners:{...a.partners,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.partners.table,...t.payload?.table},loading:!1,error:void 0}};case"CREATE_BUSINESS_HIERARCHY_INVITE":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS":return{...a,pending:{...a.pending,loading:!0}};case"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR":return{...a,pending:{...a.pending,error:t.error,loading:!1}};case"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS":return{...a,pending:{...a.pending,childBusinesses:{...a.pending.childBusinesses,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.pending.childBusinesses.table,...t.payload?.table}},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS":return{...a,pending:{...a.pending,organizationManagers:{...a.pending.organizationManagers,data:Array.isArray(t.payload?.data)?t.payload.data:[],table:{...a.pending.organizationManagers.table,...t.payload?.table}},loading:!1,error:void 0}};default:return a}},tags:(e,t)=>{let a=e||e_;switch(t.type){case"GET_TAGS":return{...a,loading:!0};case"GET_TAGS_ERROR":return{...a,error:t.error,loading:!1};case"GET_TAGS_SUCCESS":return{...a,loading:!1,tags:{...(Array.isArray(t.payload?.data)?t.payload.data:[]).reduce((e,t)=>{if(t.leader_tag_id){let a=e[t.leader_tag_id];a&&(a.tags=a.tags.concat(t))}else if(t.id){let a=e[t.id]?.tags??[];e[t.id]={...{id:t.id,name:t.name,automatic_enhanced_match:t.automatic_enhanced_match,ad_account_id:t.ad_account_id,business_id:t.business_id,created_time:t.created_time,last_fired_event:t.last_fired_event,tags:a??[],adAccounts:[]}}}return e},{})}};case"SELECT_TAGS":return{...a,selectedTagId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"SET_OVERLAY":return{...a,overlayOpen:!("object"!=typeof t.payload?.data||Array.isArray(t.payload.data))&&(t.payload.data.overlayState??!1)};case"SELECT_TAG_AD_ACCOUNTS":return{...a,selectedAdAccounts:"object"!=typeof t.payload?.data||Array.isArray(t.payload.data)?[]:t.payload.data.adAccounts??[]};case"CLEAR_ERROR":return{...a,error:void 0};case"SET_TABLE_STATE":if(!t.payload?.data?.table)return{...a};return{...a,adAccountsTable:{...a.adAccountsTable,...t.payload.data.table}};case"GET_TAG_ASSETS_SUCCESS":if(!t.payload?.data?.tagId||"string"!=typeof t.payload.data.tagId||!a.tags[t.payload.data.tagId])return{...a,error:t.error,loading:!1};let{tagId:r}=t.payload.data,n={};if(t.payload.data.ownerAdAccount&&"object"==typeof t.payload.data.ownerAdAccount&&!Array.isArray(t.payload.data.ownerAdAccount)&&(n={ownerAdAccount:t.payload.data.ownerAdAccount}),Array.isArray(t.payload.data.adAccounts))return{...a,loading:!1,adAccountsLoading:!1,tags:{...a.tags,[r]:{...a.tags[r],adAccounts:t.payload.data.adAccounts,...n}}};return{...a,loading:!1,adAccountsLoading:!1};case"GET_TAG_ASSETS":case"ADD_TAG_ASSETS_AD_ACCOUNT":case"REVOKE_TAG_ASSETS_AD_ACCOUNT":return{...a,adAccountsLoading:!0};case"GET_TAG_ASSETS_ERROR":case"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR":return{...a,adAccountsLoading:!1,adAccountError:t.error??void 0};case"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS":if(!t.payload?.data?.tagId||"string"!=typeof t.payload.data.tagId||!a.tags[t.payload.data.tagId])return{...a,error:t.error,loading:!1};if(Array.isArray(t.payload.data.adAccounts)&&Array.isArray(t.payload.data.tags))return{...a,adAccountsLoading:!1,tags:{...a.tags,[t.payload.data.tagId]:{...a.tags[t.payload.data.tagId],tags:t.payload.data.tags,adAccounts:t.payload.data.adAccounts}}};return{...a,adAccountsLoading:!1};default:return a}},audienceSharing:(e,t)=>{let a=e||F;switch(t.type){case"GET_SHARED_AUDIENCES":return{...a,audiences:{...a.audiences,sharedAudiencesLoading:!0,error:null}};case"GET_SHARED_AUDIENCES_SUCCESS":return{...a,audiences:{...a.audiences,sharedAudiences:t.data||[],sharedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCES_ERROR":return{...a,audiences:{...a.audiences,sharedAudiencesLoading:!1,error:t.error}};case"GET_RECEIVED_AUDIENCES":return{...a,audiences:{...a.audiences,receivedAudiencesLoading:!0,error:null}};case"GET_RECEIVED_AUDIENCES_SUCCESS":return{...a,audiences:{...a.audiences,receivedAudiences:t.data||[],receivedAudiencesLoading:!1}};case"GET_RECEIVED_AUDIENCES_ERROR":return{...a,audiences:{...a.audiences,receivedAudiencesLoading:!1,error:t.error}};case"GET_OWNED_AUDIENCES":return{...a,audiences:{...a.audiences,ownedAudiencesLoading:!0,error:null}};case"GET_OWNED_AUDIENCES_SUCCESS":return{...a,audiences:{...a.audiences,ownedAudiences:t.data||[],ownedAudiencesLoading:!1}};case"GET_OWNED_AUDIENCES_ERROR":return{...a,audiences:{...a.audiences,ownedAudiencesLoading:!1,error:t.error}};case"SELECTED_AUDIENCE_ID":return{...a,audiences:{...a.audiences,selectedAudienceId:t.id,sharedAudiencesLoading:!1,receivedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS":return{...a,sharedAccounts:{...a.sharedAccounts,accounts:{},loading:!0,error:null}};case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":return{...a,sharedAccounts:{...a.sharedAccounts,accounts:{...a.sharedAccounts.accounts,...t.payload.data??{}},loading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR":return{...a,sharedAccounts:{...a.sharedAccounts,loading:!1,error:t.error}};default:return a}},updatePermissions:(e,t)=>{let a=e||ep;switch(t.type){case"UPDATE_PERMISSION":return{...a,loading:!0};case"UPDATE_PERMISSION_ERROR":return{...a,error:t.error,loading:!1};case"UPDATE_PERMISSION_SUCCESS":return{...a,loading:!1,error:void 0};case"SET_SELECTED_ID":return{...a,selectedId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"SET_PREVIOUS_PERMISSIONS":return{...a,previousPermissions:t.payload?.previousPermissions};default:return a}},employees:(e,t)=>{let a=e||W;switch(t.type){case"GET_EMPLOYEES":case"DELETE_EMPLOYEES":case"UPDATE_EMPLOYEES_ROLE":return{...a,loading:!0};case"GET_EMPLOYEES_ERROR":case"DELETE_EMPLOYEES_ERROR":case"UPDATE_EMPLOYEES_ROLE_ERROR":return{...a,error:t.error,loading:!1};case"GET_EMPLOYEES_SUCCESS":return{...a,loading:!1,employees:{...a.employees,...(Array.isArray(t.payload?.data)?t.payload.data:[]).reduce((e,t)=>("id"in t&&(e[t.id]=t),e),{})}};case"GET_EMPLOYEES_INVITES":case"ADD_EMPLOYEES_INVITES":case"DELETE_EMPLOYEES_INVITES":return{...a,invitesLoading:!0};case"GET_EMPLOYEES_INVITES_ERROR":case"ADD_EMPLOYEES_INVITES_ERROR":case"DELETE_EMPLOYEES_INVITES_ERROR":return{...a,error:t.error,invitesLoading:!1};case"GET_EMPLOYEES_INVITES_SUCCESS":let r="object"!=typeof t.payload?.data||Array.isArray(t.payload.data)?[]:t.payload.data.invites??[];return{...a,invitesLoading:!1,invites:r.reduce((e,t)=>("id"in t&&(e[t.id]=t),e),{})};case"ADD_EMPLOYEES_INVITES_SUCCESS":let n=("object"!=typeof t.payload?.data||Array.isArray(t.payload.data)?[]:t.payload.data.invites??[]).reduce((e,t)=>("id"in t&&(e[t.id]=t),e),{});return{...a,invitesLoading:!1,invites:{...n,...a.invites}};case"DELETE_EMPLOYEES_INVITES_SUCCESS":let s="string"==typeof t.payload?.data?t.payload.data:void 0;if(!s||!a.invites[s])return a;{let e={...a.invites},t={};Object.keys(e).forEach(a=>{a!==s&&(t[a]=e[a])});let r=Object.keys(t),n=r.length>0?r[0]:void 0;return{...a,loading:!1,invites:t,selectedEmployeeInviteId:n}}case"UPDATE_EMPLOYEES_ROLE_SUCCESS":let o="string"==typeof t.payload?.data?.employeeId?t.payload.data.employeeId:void 0;if(o&&a.employees[o])return{...a,loading:!1,employees:{...a.employees,[o]:{...a.employees[o],business_roles:t.payload?.data?.role?[t.payload.data.role]:[]}}};return a;case"DELETE_EMPLOYEES_SUCCESS":let i="string"==typeof t.payload?.data?t.payload.data:void 0;if(!i||!a.employees[i])return a;{let e={...a.employees},t={};Object.keys(e).forEach(a=>{a!==i&&(t[a]=e[a])});let r=Object.keys(t).length>0?Object.keys(t)[0]:void 0;return{...a,loading:!1,employees:t,selectedEmployeeId:r}}case"SELECT_EMPLOYEES":return{...a,selectedEmployeeId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"SET_BUSINESS":return{...a,currentBusiness:"string"==typeof t.payload?.data?t.payload.data:void 0};case"SELECT_EMPLOYEES_INVITES":return{...a,selectedEmployeeInviteId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"REFRESH_EMPLOYEE_INVITE_DATE":if(!t.payload?.data||"string"!=typeof t.payload.data||!a.invites[t.payload.data])return a;return{...a,invites:{...a.invites,[t.payload.data]:{...a.invites[t.payload.data],invite_data:{...a.invites[t.payload.data].invite_data,sent_at:Date.now()}}}};case"CLEAR_ERROR":return{...a,error:void 0};case"GET_EMPLOYEE_ROLES_SUCCESS":return{...a,assetRoles:"object"!=typeof t.payload?.data||Array.isArray(t.payload.data)?{}:t.payload.data.assetRoles??{},assetRolesLoading:!1};case"GET_EMPLOYEE_ROLES":return{...a,assetRolesLoading:!0};case"GET_EMPLOYEE_ROLES_ERROR":return{...a,assetRolesLoading:!1,assetRolesError:t.error??void 0};case"GET_EMPLOYEE_ADACCOUNTS_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,error:t.error,loading:!1};let{employeeId:l}=t.payload.data;if(Array.isArray(t.payload.data.adAccounts))return{...a,loading:!1,adAccountsLoading:!1,employees:{...a.employees,[l]:{...a.employees[l],adAccounts:t.payload.data.adAccounts,...{}}}};return{...a,loading:!1,adAccountsLoading:!1};case"GET_EMPLOYEE_ADACCOUNTS":case"DELETE_EMPLOYEES_ADACCOUNT":case"ADD_EMPLOYEES_ADACCOUNT":return{...a,adAccountsLoading:!0};case"GET_EMPLOYEE_ADACCOUNTS_ERROR":case"DELETE_EMPLOYEES_ADACCOUNT_ERROR":case"ADD_EMPLOYEES_ADACCOUNT_ERROR":return{...a,adAccountsLoading:!1,adAccountError:t.error??void 0};case"SET_ADACCOUNTS_TABLE_STATE":if(!t.payload?.data?.table)return{...a};return{...a,adAccountsTable:{...a.adAccountsTable,...t.payload.data.table,sortBy:t.payload.data.table.sortBy||a?.adAccountsTable.sortBy,sortDirection:t.payload.data.table.sortDirection||a?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_PROFILES_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,error:t.error,loading:!1};if(Array.isArray(t.payload.data.profiles))return{...a,loading:!1,profilesLoading:!1,employees:{...a.employees,[t.payload.data.employeeId]:{...a.employees[t.payload.data.employeeId],profiles:t.payload.data.profiles}}};return{...a,loading:!1,profilesLoading:!1};case"GET_EMPLOYEE_PROFILES":case"DELETE_EMPLOYEES_PROFILE":case"ADD_EMPLOYEES_PROFILE":return{...a,profilesLoading:!0};case"GET_EMPLOYEE_PROFILES_ERROR":case"DELETE_EMPLOYEES_PROFILE_ERROR":case"ADD_EMPLOYEES_PROFILE_ERROR":return{...a,profilesLoading:!1,profileError:t.error??void 0};case"ADD_EMPLOYEES_ADACCOUNT_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,adAccountsLoading:!1};let d=t.payload.data.employeeId,c=a.employees[d]?.assets_summary?a.employees[d]?.assets_summary:{ad_accounts:[],profiles:[]},u="object"==typeof t.payload.data&&!Array.isArray(t.payload.data)&&Array.isArray(t.payload.data.addedAdAccounts)?t.payload.data.addedAdAccounts:[],_=u.map(e=>({id:e.asset.id,permissions:e.permissions}));return c.ad_accounts=(c.ad_accounts||[]).concat(_),{...a,loading:!1,adAccountsLoading:!1,employees:{...a.employees,[d]:{...a.employees[d],assets_summary:c,adAccounts:a.employees[d]?.adAccounts?.concat(u)}}};case"ADD_EMPLOYEES_CATALOG_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,catalogsLoading:!1};let p="object"==typeof t.payload.data&&!Array.isArray(t.payload.data)&&Array.isArray(t.payload.data.addedCatalogs)?t.payload.data.addedCatalogs:[],E=t.payload.data.employeeId;return{...a,loading:!1,catalogsLoading:!1,employees:{...a?.employees,[E]:{...a?.employees[E],catalogs:a?.employees[E].catalogs?.concat(p)}}};case"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,adAccountsLoading:!1};let S=t.payload.data.employeeId,y="object"!=typeof t.payload.data||Array.isArray(t.payload.data)?"":t.payload.data.adAccountId;if(y){let e=(a.employees[S]?.assets_summary?.ad_accounts||[]).filter(e=>e.id!==y),t=a.employees[S]?.assets_summary?a.employees[S]?.assets_summary:{ad_accounts:[],profiles:[]};return t.ad_accounts=e,{...a,loading:!1,adAccountsLoading:!1,employees:{...a.employees,[S]:{...a.employees[S],assets_summary:t,adAccounts:a.employees[S]?.adAccounts?.filter(e=>e.asset_id!==y)}}}}return{...a,loading:!1,adAccountsLoading:!1};case"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId]||!t.payload.data.adAccountId||"string"!=typeof t.payload.data.adAccountId)return{...a,loading:!1,adAccountsLoading:!1};let T=t.payload.data.employeeId,m=t.payload.data.adAccountId,R=a.employees[T]?.assets_summary?a.employees[T]?.assets_summary:{ad_accounts:[],profiles:[]},f="object"==typeof t.payload.data&&!Array.isArray(t.payload.data)&&Array.isArray(t.payload.data.permissions)?t.payload.data.permissions:[];return R.ad_accounts=(R.ad_accounts||[]).map(e=>e.id===m?{...e,permissions:f}:e),{...a,loading:!1,profilesLoading:!1,employees:{...a.employees,[T]:{...a.employees[T],assets_summary:R,adAccounts:a.employees[T]?.adAccounts?.map(e=>e.asset.id===m?{...e,permissions:f}:e)}}};case"UPDATE_EMPLOYEES_CATALOG_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data||!("userId"in t.payload.data)||"string"!=typeof t.payload.data.userId||!a?.employees[t.payload.data.userId]||!("catalogId"in t.payload.data)||"string"!=typeof t.payload.data.catalogId||!("permissions"in t.payload.data)||!Array.isArray(t.payload.data.permissions))return{...a,loading:!1,catalogsLoading:!1};let{catalogId:A,userId:g,permissions:I}=t.payload.data,h=a.employees[g].assets_summary?a.employees[g].assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return h.catalogs=(h.catalogs||[]).map(e=>e.id===A?{...e,permissions:I}:e),{...a,loading:!1,catalogsLoading:!1,employees:{...a.employees,[g]:{...a.employees[g],assets_summary:h,catalogs:a.employees[g].catalogs?.map(e=>e.asset.id===A?{...e,permissions:I}:e)}}};case"ADD_EMPLOYEES_PROFILE_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,adAccountsLoading:!1};let C=t.payload.data.employeeId,P=a.employees[C]?.assets_summary?a.employees[C]?.assets_summary:{ad_accounts:[],profiles:[]},v="object"==typeof t.payload.data&&!Array.isArray(t.payload.data)&&Array.isArray(t.payload.data.addedProfiles)?t.payload.data.addedProfiles:[],O=v.map(e=>({id:e.asset.id,permissions:e.permissions}));return P.profiles=(P.profiles||[]).concat(O),{...a,loading:!1,profilesLoading:!1,employees:{...a.employees,[C]:{...a.employees[C],assets_summary:P,profiles:a.employees[C]?.profiles?.concat(v)}}};case"DELETE_EMPLOYEES_PROFILE_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,adAccountsLoading:!1};let N=t.payload.data.employeeId,D="object"!=typeof t.payload.data||Array.isArray(t.payload.data)?"":t.payload.data.profileId;if(D){let e=(a.employees[N]?.assets_summary?.profiles||[]).filter(e=>e.id!==D),t=a.employees[N]?.assets_summary?a.employees[N]?.assets_summary:{ad_accounts:[],profiles:[]};return t.profiles=e,{...a,loading:!1,profilesLoading:!1,employees:{...a.employees,[N]:{...a.employees[N],assets_summary:t,profiles:a.employees[N]?.profiles?.filter(e=>e.asset_id!==D)}}}}return{...a,loading:!1,adAccountsLoading:!1};case"SET_PROFILES_TABLE_STATE":if(!t.payload?.data?.table)return{...a};return{...a,profilesTable:{...a.profilesTable,...t.payload.data.table,sortBy:t.payload.data.table.sortBy||a?.adAccountsTable.sortBy,sortDirection:t.payload.data.table.sortDirection||a?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,error:t.error,loading:!1};if(Array.isArray(t.payload.data.assetGroups))return{...a,assetGroupsLoading:!1,employees:{...a.employees,[t.payload.data.employeeId]:{...a.employees[t.payload.data.employeeId],assetGroups:t.payload.data.assetGroups}}};return{...a,loading:!1,assetGroupsLoading:!1};case"GET_EMPLOYEE_ASSET_GROUPS":return{...a,assetGroupsLoading:!0};case"GET_EMPLOYEE_ASSET_GROUPS_ERROR":return{...a,assetGroupsLoading:!1,assetGroupsError:t.error??void 0};case"SET_ASSET_GROUPS_TABLE_STATE":if(!t.payload?.data?.table)return{...a};return{...a,assetGroupsTable:{...a.assetGroupsTable,...t.payload.data.table}};case"GET_EMPLOYEE_CATALOGS_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId)return{...a,error:t.error,catalogsLoading:!1};if(Array.isArray(t.payload.data.catalogs))return{...a,catalogsLoading:!1,employees:{...a.employees,[t.payload.data.employeeId]:{...a.employees[t.payload.data.employeeId],catalogs:t.payload.data.catalogs}}};return{...a,loading:!1,catalogsLoading:!1};case"GET_EMPLOYEE_CATALOGS":case"ADD_EMPLOYEES_CATALOG":case"DELETE_EMPLOYEES_CATALOG":return{...a,catalogsLoading:!0};case"ADD_EMPLOYEES_CATALOG_ERROR":case"GET_EMPLOYEE_CATALOGS_ERROR":case"DELETE_EMPLOYEES_CATALOG_ERROR":return{...a,catalogsLoading:!1,catalogError:t.error??void 0};case"DELETE_EMPLOYEES_CATALOG_SUCCESS":if(!t.payload?.data?.employeeId||"string"!=typeof t.payload.data.employeeId||!a.employees[t.payload.data.employeeId])return{...a,loading:!1,catalogsLoading:!1};let L=t.payload.data.employeeId,w="object"!=typeof t.payload.data||Array.isArray(t.payload.data)?"":t.payload.data.catalogId;if(w){let e=(a.employees[L]?.assets_summary?.catalogs||[]).filter(e=>e.id!==w),t=a.employees[L]?.assets_summary?a.employees[L]?.assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return t.catalogs=e,{...a,loading:!1,catalogsLoading:!1,employees:{...a.employees,[L]:{...a.employees[L],assets_summary:t,catalogs:a.employees[L]?.catalogs?.filter(e=>e.asset_id!==w)}}}}return{...a,loading:!1,catalogsLoading:!1};case"SET_CATALOGS_TABLE_STATE":if(!t.payload?.data?.table)return{...a};return{...a,catalogsTable:{...a.catalogsTable,...t.payload.data.table}};default:return a}},catalogs:(e=H,t)=>{switch(t.type){case"GET_CATALOGS_ERROR":case"GET_CATALOG_ERROR":case"GET_CATALOG_INVITES_ERROR":case"GET_PARTNER_CATALOGS_ERROR":return{...e,error:t.error,loading:!1};case"GET_CATALOGS":case"GET_CATALOG":case"GET_PARTNER_CATALOGS":case"GET_CATALOG_INVITES":return{...e,loading:!0};case"GET_PARTNER_CATALOGS_SUCCESS":case"GET_CATALOGS_SUCCESS":if(!t.payload?.data||!Array.isArray(t.payload.data))return{...e,loading:!1};let a=t.payload.data;if(t.payload?.partnerType==="INTERNAL")return{...e,sharedData:a.reduce((e,t)=>({...e,[t.id]:t}),{}),loading:!1};return{...e,data:a.reduce((e,t)=>({...e,[t.id]:t}),{}),loading:!1};case"GET_CATALOG_INVITES_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data||!("invites"in t.payload.data)||!Array.isArray(t.payload.data.invites))return{...e,loading:!1,invites:{}};let r=t.payload.data.invites;return{...e,loading:!1,invites:r.reduce((e,t)=>({...e,[t.catalog.id]:{inviteId:t.inviteId,catalog:t.catalog,invite_data:t.invite_data}}),{})};case"GET_CATALOG_EMPLOYEES_SUCCESS":if(!t.payload?.data?.catalogId||"string"!=typeof t.payload.data.catalogId)return{...e,error:t.error,loading:!1};let{catalogId:n}=t.payload.data;if(Array.isArray(t.payload.data.employees))return{...e,loading:!1,employeesLoading:!1,data:{...e.data,[n]:{...e.data[n],employees:t.payload.data.employees,...{}}}};return{...e,loading:!1,employeesLoading:!1};case"GET_CATALOG_EMPLOYEES":return{...e,employeesLoading:!0,employeesError:void 0};case"GET_CATALOG_EMPLOYEES_ERROR":return{...e,employeesLoading:!1,employeesError:t.error??void 0};case"SET_CATALOG_EMPLOYEES_TABLE_STATE":if(!t.payload?.data?.table)return{...e};return{...e,employeesTable:{...e.employeesTable,...t.payload.data.table}};case"GET_CATALOG_PARTNERS_SUCCESS":if(!t.payload?.data?.catalogId||"string"!=typeof t.payload.data.catalogId||!e.data[t.payload.data.catalogId])return{...e,error:t.error,loading:!1};let{catalogId:s}=t.payload.data;if(Array.isArray(t.payload.data.partners))return{...e,loading:!1,partnersLoading:!1,data:{...e.data,[s]:{...e.data[s],partners:t.payload.data.partners,...{}}}};return{...e,loading:!1,partnersLoading:!1};case"GET_CATALOG_PARTNERS":return{...e,partnersLoading:!0,partnersError:void 0};case"GET_CATALOG_PARTNERS_ERROR":return{...e,partnersLoading:!1,partnersError:t.error??void 0};case"SET_CATALOG_PARTNERS_TABLE_STATE":if(!t.payload?.data?.table)return{...e};return{...e,partnersTable:{...e.partnersTable,...t.payload.data.table}};case"SET_SELECTED_CATALOG_ID":return{...e,selectedCatalogId:"string"==typeof t.payload?.data?t.payload.data:""};case"SET_SELECTED_INVITE_ID":return{...e,selectedInviteId:"string"==typeof t.payload?.data?t.payload.data:""};case"GET_CATALOG_SUCCESS":return{...e,loading:!1,data:{...e.data,...t.payload?.data??{}},error:void 0};case"UPDATE_CATALOG_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data||!("userId"in t.payload.data)||"string"!=typeof t.payload.data.userId||!("catalogId"in t.payload.data)||"string"!=typeof t.payload.data.catalogId||!e?.data[t.payload.data.catalogId]||!("permissions"in t.payload.data)||!Array.isArray(t.payload.data.permissions))return{...e,loading:!1};let{catalogId:o,userId:i,permissions:l}=t.payload.data;if(!e.data[o]?.employees?.find(e=>e.id===i))return{...e,loading:!1};let d=e.data[o]?.employees?.map(e=>e.id===i?{...e,permissions:l}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[o]:{...e.data[o],employees:d}}};case"UPDATE_CATALOG_PERMISSION_FOR_PARTNER_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data||!("userId"in t.payload.data)||"string"!=typeof t.payload.data.userId||!("catalogId"in t.payload.data)||"string"!=typeof t.payload.data.catalogId||!e.data[t.payload.data.catalogId]||!("permissions"in t.payload.data)||!Array.isArray(t.payload.data.permissions))return{...e,loading:!1};let{catalogId:c,userId:u,permissions:_}=t.payload.data;if(!e.data[c]?.partners?.find(e=>e.id===u))return{...e,loading:!1};let p=e.data[c]?.partners?.map(e=>e.id===u?{...e,permissions:_}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[c]:{...e.data[c],partners:p}}};case"UPDATE_CATALOG_PERMISSIONS_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data||!("catalogId"in t.payload.data)||"string"!=typeof t.payload.data.catalogId||!e.data[t.payload.data.catalogId]||!("permissions"in t.payload.data)||!Array.isArray(t.payload.data.permissions))return{...e,loading:!1};let{catalogId:E,permissions:S}=t.payload.data;return{...e,loading:!1,error:void 0,data:{...e.data,[E]:{...e.data[E],permissions:S}}};case"GET_CATALOG_OWNERS_AS_PARTNERS":return{...e,catalogOwnersLoading:!0,catalogOwnersError:void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_ERROR":return{...e,catalogOwnersLoading:!1,catalogOwnersError:t.error??void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_SUCCESS":if(!t.payload?.data||"object"!=typeof t.payload.data)return{...e,catalogOwnersLoading:!1};let y=t.payload.data;return{...e,catalogOwnersLoading:!1,catalogOwnersError:void 0,catalogOwners:{...e.catalogOwners,...y}};default:return e}},systemUsers:(e,t)=>{switch(e=e||ec,t.type){case"GET_SYSTEM_USERS":case"GET_APP_SYSTEM_USERS":case"GET_PROFILE_DETAIL_SYSTEM_USERS":case"GET_AD_ACCOUNT_SYSTEM_USERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER":return{...e,loading:!0};case"GET_SYSTEM_USERS_AD_ACCOUNTS":return{...e,adAccountLoading:!0};case"GET_SYSTEM_USERS_PROFILES":case"ADD_SYSTEM_USERS_PROFILE":case"DELETE_SYSTEM_USERS_PROFILE":return{...e,profilesLoading:!0};case"GET_SYSTEM_USERS_APPS":return{...e,appsLoading:!0};case"GET_SYSTEM_USERS_CATALOGS":return{...e,catalogsLoading:!0};case"GET_SYSTEM_USER_ASSET_GROUPS":return{...e,assetGroupsLoading:!0};case"GET_SYSTEM_USERS_ERROR":case"GET_APP_SYSTEM_USERS_ERROR":case"GET_PROFILE_DETAIL_SYSTEM_USERS_ERROR":case"GET_AD_ACCOUNT_SYSTEM_USERS_ERROR":case"GET_SYSTEM_USERS_AD_ACCOUNTS_ERROR":case"GET_SYSTEM_USERS_PROFILES_ERROR":case"GET_SYSTEM_USERS_APPS_ERROR":case"GET_SYSTEM_USERS_CATALOGS_ERROR":case"GET_SYSTEM_USER_ASSET_GROUPS_ERROR":case"ADD_SYSTEM_USERS_PROFILE_ERROR":case"DELETE_SYSTEM_USERS_PROFILE_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_ERROR":return{...e,error:t.error,loading:!1,adAccountLoading:!1,profilesLoading:!1,appsLoading:!1,catalogsLoading:!1};case"GET_APP_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,data:t.payload?.data||[]};case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...t.payload?.data?Object.entries(t.payload.data).reduce((e,[t,a])=>({...e,[t]:a}),{}):{}}};case"ADD_SYSTEM_USERS_PROFILE_SUCCESS":if(!t.payload?.selectedSystemId||"string"!=typeof t.payload.selectedSystemId||!e.systemUsers[t.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let a=t.payload.selectedSystemId,r=(e.systemUsers[a]??{}).assets_summary||{ad_accounts:[],profiles:[]},n=("object"==typeof t.payload.data&&!Array.isArray(t.payload.data)&&Array.isArray(t.payload.assets)?t.payload.assets:[]).map(e=>({id:e.asset.id,permissions:e.permissions}));return r.profiles=(r.profiles||[]).concat(n),{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[a]:{...e.systemUsers[a],assets_summary:r}}};case"DELETE_SYSTEM_USERS_PROFILE_SUCCESS":if(!t.payload?.selectedSystemId||"string"!=typeof t.payload.selectedSystemId||!e.systemUsers[t.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let s=t.payload.selectedSystemId,o="object"!=typeof t.payload.data||Array.isArray(t.payload.data)?"":t.payload.assetId;if(o){let t=(e.systemUsers[s]?.assets_summary?.profiles||[]).filter(e=>e.id!==o),a=e.systemUsers[s]?.assets_summary?e.systemUsers[s].assets_summary:{ad_accounts:[],profiles:[]};return a.profiles=t,{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[s]:{...e.systemUsers[s],assets_summary:a}}}}return{...e,loading:!1,profilesLoading:!1};case"GET_SYSTEM_USERS_SUCCESS":if(!t.payload?.systemUsers)return{...e,loading:!1};let i=t.payload?.selectedSystemId?{selectedSystemId:t.payload.selectedSystemId}:{};return{...e,...i,loading:!1,systemUsers:{...e?.systemUsers?e.systemUsers:{},...(Array.isArray(t.payload?.systemUsers)?t.payload.systemUsers:[]).reduce((e,t)=>("id"in t&&t.id&&(e[t.id]=t),e),{})}};case"GET_SYSTEM_USERS_AD_ACCOUNTS_SUCCESS":if(!t.payload?.getAdAccount)return{...e,loading:!1};return{...e,adAccountLoading:!1,adAccounts:t.payload.getAdAccount.adAccounts,systemUsers:{...e?.systemUsers?e.systemUsers:{},[t.payload.getAdAccount.systemUserId]:{...e.systemUsers[t.payload.getAdAccount.systemUserId],assets_summary:{...e.systemUsers[t.payload.getAdAccount.systemUserId]?.assets_summary,ad_accounts:t.payload.getAdAccount.adAccountSummary}}}};case"GET_SYSTEM_USERS_PROFILES_SUCCESS":if(!t.payload?.getProfiles)return{...e,loading:!1};return{...e,profilesLoading:!1,profiles:t.payload.getProfiles.profiles,systemUsers:{...e?.systemUsers?e.systemUsers:{},[t.payload.getProfiles.systemUserId]:{...e.systemUsers[t.payload.getProfiles.systemUserId],assets_summary:{...e.systemUsers[t.payload.getProfiles.systemUserId]?.assets_summary,profiles:t.payload.getProfiles.profilesSummary}}}};case"GET_SYSTEM_USERS_CATALOGS_SUCCESS":if(!t.payload?.assets)return{...e,loading:!1};return{...e,catalogsLoading:!1,catalogs:t.payload.assets};case"GET_SYSTEM_USERS_APPS_SUCCESS":if(!t.payload?.assets)return{...e,loading:!1};return{...e,appsLoading:!1,systemApps:t.payload.assets};case"GET_SYSTEM_USER_ASSET_GROUPS_SUCCESS":if(!t.payload?.assets)return{...e,loading:!1};return{...e,assetGroupsLoading:!1,assetGroups:t.payload.assets};case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...Object.entries(t.payload?.systemUsersDict||{}).filter(([e,t])=>void 0!==t).reduce((e,[t,a])=>({...e,[t]:a}),{})}};case"SET_SYSTEM_USERS_TABLE_STATE":if(!t.payload?.table)return e;return{...e,table:{...e.table,...t.payload.table,sortBy:t.payload.table.sortBy||e?.table.sortBy,sortDirection:t.payload.table.sortDirection||e?.table.sortDirection}};case"UPDATE_SYSTEM_USER_ADACCOUNT_SUCCESS":if(!t.payload?.adAccountUpdate?.adAccountId)return e;let{adAccountId:l,permissions:d}=t.payload.adAccountUpdate;return{...e,adAccounts:e.adAccounts.map(e=>e.asset_id===l?{...e,permissions:d}:e)??[]};case"UPDATE_SYSTEM_USER_CATALOG_SUCCESS":if(!t.payload?.catalogUpdate?.catalogId)return e;let{catalogId:c,permissions:u}=t.payload.catalogUpdate;return{...e,catalogs:e.catalogs.map(e=>e.asset_id===c?{...e,permissions:u}:e)??[]};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_SUCCESS":if(!t.payload?.userId||"string"!=typeof t.payload.userId||!e.systemUsers[t.payload.userId]||!t.payload.adAccountId||!t.payload.userId||!t.payload.permissions)return{...e,error:t.error,loading:!1};return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,[t.payload.userId]:{...e.systemUsers[t.payload.userId],permissions:t.payload.permissions}}};case"SET_AD_ACCOUNTS_TABLE_STATE":if(!t.payload?.table)return e;return{...e,adAccountTable:{...e.table,...t.payload.table,sortBy:t.payload.table.sortBy||e?.table.sortBy,sortDirection:t.payload.table.sortDirection||e?.table.sortDirection}};case"SET_SELECTED_SYSTEM_ID":if(!t.payload?.selectedSystemId)return e;return{...e,selectedSystemId:t.payload.selectedSystemId};case"SET_PROFILES_TABLE_STATE":if(!t.payload?.table)return e;return{...e,profilesTable:{...e.table,...t.payload.table,sortBy:t.payload.table.sortBy||e?.table.sortBy,sortDirection:t.payload.table.sortDirection||e?.table.sortDirection}};case"SET_APPS_TABLE_STATE":if(!t.payload?.table)return e;return{...e,appsTable:{...e.table,...t.payload.table,sortBy:t.payload.table.sortBy||e?.table.sortBy,sortDirection:t.payload.table.sortDirection||e?.table.sortDirection}};case"REMOVE_SYSTEM_USER_APP":return{...e,systemApps:e.systemApps.filter(e=>e.asset_id!==t.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_CATALOG":if(!t.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[t.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary,catalogs:e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.catalogs?.filter(e=>e.id!==t.payload?.removeSystemUserAsset?.assetId)??[]}}},catalogs:e.catalogs.filter(e=>e.asset_id!==t.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_PROFILE":if(!t.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[t.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary,profiles:e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.profiles?.filter(e=>e.id!==t.payload?.removeSystemUserAsset?.assetId)??[]}}},profiles:e.profiles.filter(e=>e.asset_id!==t.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_AD_ACCOUNT":if(!t.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[t.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary,ad_accounts:e.systemUsers[t.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.ad_accounts?.filter(e=>e.id!==t.payload?.removeSystemUserAsset?.assetId)??[]}}},adAccounts:e.adAccounts.filter(e=>e.asset_id!==t.payload?.removeSystemUserAsset?.assetId)};case"SET_CATALOGS_TABLE_STATE":if(!t.payload?.table)return e;return{...e,catalogsTable:{...e.table,...t.payload.table,sortBy:t.payload.table.sortBy||e?.table.sortBy,sortDirection:t.payload.table.sortDirection||e?.table.sortDirection}};case"SET_ASSET_GROUPS_TABLE_STATE":if(!t.payload?.table)return e;return{...e,assetGroupsTable:{...t.payload.table,sortBy:t.payload.table.sortBy||e?.assetGroupsTable.sortBy,sortDirection:t.payload.table.sortDirection||e?.assetGroupsTable.sortDirection}};default:return e}},apps:(e,t)=>{switch(e=e||k,t.type){case"GET_APPS":return{...e,loading:!0};case"GET_APPS_ERROR":return{...e,error:t.error,loading:!1};case"GET_APPS_SUCCESS":return{...e,loading:!1,data:t.payload?.data||[]};case"SELECT_APP":return{...e,selectedAppId:"string"==typeof t.payload?.data?t.payload.data:void 0};case"REFRESH_ACCESS_TOKEN":return{...e,refreshToken:{...e.refreshToken,loading:!0}};case"REFRESH_ACCESS_TOKEN_ERROR":return{...e,refreshToken:{...e.refreshToken,error:t.error,loading:!1}};case"REFRESH_ACCESS_TOKEN_SUCCESS":return{...e,refreshToken:{...e.refreshToken,loading:!1,data:t.payload?.data}};case"CLEAR_REFRESH_TOKEN":return{...e,refreshToken:{data:void 0,loading:!1,error:void 0}};case"UPDATE_APP_DATA":return{...e,data:e.data.map(e=>e.id===t.payload?.data.id?{...e,...t.payload?.data}:e)};default:return e}},conversionSegments:(e=Y,t)=>{switch(t.type){case"GET_CONVERSION_SEGMENTS":case"GET_PARTNER_CONVERSION_SEGMENTS":return{...e,loading:!0};case"REVOKE_PARTNER_ACCESS":case"UPDATE_PARTNER_ACCESS":case"REMOVE_CONVERSION_SEGMENT":case"GET_CONVERSION_SEGMENT_PARTNER":return{...e,mainPanelLoading:!0};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS":return{...e,adAccountLoading:!0,adAccounts:[]};case"GET_CONVERSION_SEGMENTS_ERROR":case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_ERROR":case"GET_CONVERSION_TYPES_ERROR":case"GET_CONVERSION_SEGMENT_PARTNER_ERROR":case"UPDATE_PARTNER_ACCESS_ERROR":case"REVOKE_PARTNER_ACCESS_ERROR":case"REMOVE_CONVERSION_SEGMENT_ERROR":case"GET_PARTNER_CONVERSION_SEGMENTS_ERROR":return{...e,error:t.error??void 0,loading:!1,adAccountLoading:!1,conversionTypeLoading:!1,mainPanelLoading:!1};case"GET_PARTNER_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,sharedData:t.payload?.data||[]};case"GET_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,data:t.payload?.data||[]};case"SET_SELECTED_CONVERSION_ID":if(!t.payload?.selectedConversionId)return{...e,loading:!1};return{...e,selectedConversionId:t.payload.selectedConversionId,adAccountLoading:!0,adAccounts:[]};case"SET_CONVERSION_SEGMENTS_TABLE_STATE":if(!t.payload?.data)return{...e,loading:!1};return{...e,table:{...e.table,...t.payload.data.table,sortBy:t.payload.data.table.sortBy||e?.table.sortBy,sortDirection:t.payload.data.table.sortDirection||e?.table.sortDirection}};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_SUCCESS":if(!t.payload?.adAccounts)return{...e,loading:!1,adAccountLoading:!1,adAccounts:[]};return{...e,loading:!1,adAccountLoading:!1,adAccounts:t.payload.adAccounts};case"GET_CONVERSION_TYPES_SUCCESS":if(!t.payload?.conversionTypes)return{...e,loading:!1};return{...e,loading:!1,conversionTypeLoading:!1,conversionTypes:t.payload.conversionTypes};case"GET_CONVERSION_SEGMENT_PARTNER_SUCCESS":if(!t.payload?.partner)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===t.payload.conversionId?{...e,partner:t.payload.partner,retargetingEnabled:t.payload.partner?.permissions.includes("BIZ_CONVERSION_SEGMENT_SHARER")||!1}:e)};case"UPDATE_PARTNER_ACCESS_SUCCESS":return!t.payload?.conversionId||!t.payload?.partnerId,{...e,mainPanelLoading:!1};case"REVOKE_PARTNER_ACCESS_SUCCESS":if(!t.payload?.conversionId)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===t.payload.conversionId?{...e,partner:void 0,retargetingEnabled:!1}:e)};case"REMOVE_CONVERSION_SEGMENT_SUCCESS":return{...e,mainPanelLoading:!1,data:e.data.filter(e=>e.id!==t.payload?.conversionId),sharedData:e.sharedData?.filter(e=>e.id!==t.payload?.conversionId)};default:return e}},rmnHub:ed});var em=a(427002);let eR=(0,em.Z)("articles",(e={})=>e),ef=(e={businessInformationForm:{},billingInformationForm:{},autoFillQPBillingChecked:!0},t)=>"STERLING_UPDATE_BUSINESS_INFORMATION_FORM"===t.type||"STERLING_UPDATE_BILLING_INFORMATION_FORM"===t.type?{...e,[t.formName]:{...e?.[t.formName]??{},...t.values}}:e;var eA=a(184661),eg=a(21418);let eI=["BoardsResource","BoardFollowingResource","SearchResource"],eh=(e,t)=>({...e,[t.id]:e[t.id]?{type:"board",...e[t.id],...t}:{type:"board",...t}});function eC(e,t){switch(t.type){case eA.zP:case eA.aW:{let{resource:a}=t.payload,{data:r}=t.payload.response.resource_response;if("BoardResource"===a||"BoardPageResource"===a){let a=(e=>{let{options:t={}}=e.payload,{data:a}=e.payload.response.resource_response;return e.type===eA.zP&&t.slug&&!a?.url?.includes(t.slug)?{oldSlugUrl:`/${t.username}/${(0,eg.X)(t.slug)}/`}:{}})(t);return{...e,...a,...r||{},cover_images:{...e.cover_images,...(r||{}).cover_images},images:{...e.images,...(r||{}).images}}}if("BoardSectionResource"===a)return{...e,...r?.board||{},cover_images:{...e.cover_images,...r?.board?.cover_images||{}},images:{...e.images,...r?.board?.images||{}}};if(t.type===eA.zP&&"ApiResource"===a){let{response:a}=t.payload,r=a.resource_response.data;return r?.length?{...e,related_interest_ids:r.map(e=>e.id)}:e}return e}case"BOARD_CREATE_COMPLETE":{let{board:a}=t.payload;return{...e,...a}}case"BOARD_UPDATE_COMPLETE":{let{board:a}=t.payload;return{...e,...a,sensitivity:a.sensitivity}}case"BOARD_PIN_COUNT_CHANGED":{let{pin_count:a,sectionless_pin_count:r}=e||{},{sectionId:n}=t.payload,s="BOARD_PIN_COUNT_CHANGED"===t.type?t.payload.increment:1;return{...e,pin_count:"number"==typeof a?Math.max(0,a+s):a,sectionless_pin_count:n||"number"!=typeof r?r:Math.max(0,r+s)}}case"USER_FOLLOW":{let{id:a,value:r}=t.payload;if(!e.owner||a!==e.owner.id)return e;return{...e,followed_by_me:r}}case"BOARD_FOLLOW":{let{boardId:a,value:r}=t.payload;return{...e,id:a,followed_by_me:r}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST":{let{collaboratorId:a}=t.payload;return{...e,pending_ownership_transfer:a}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":return{...e,pending_ownership_transfer:null};case"BOARD_DISMISS_SENSITIVITY_SCREEN":return{...e,sensitivity_screen:{reason:null,show_warning:!1}};case"BOARD_INVITE_ACCEPTED_BY_VIEWER":{let{collaborator_count:a,collaborating_users:r}=e||{},{boardId:n,collaboratingUser:s}=t.payload;return{...e,id:n,access:["write"],collaborated_by_me:!0,is_collaborative:!0,collaborator_count:"number"==typeof a?a+1:0,...s?{collaborating_users:(r||[]).concat(s)}:Object.freeze({})}}case"BOARD_REQUEST_TO_JOIN":{let{boardId:a,value:r}=t.payload;return{...e,id:a,viewer_collaborator_join_requested:r}}case"BOARD_ARCHIVE":return{...e,archived_by_me_at:new Date().toString()};case"BOARD_UNARCHIVE":{let{boardId:a}=t.payload;return{...e,id:a,archived_by_me_at:void 0}}case"BOARD_COVER_IMAGE_UPDATED":{let{boardId:a,coverPin:r}=t.payload;return{...e,id:a,cover_pin:r}}case"BOARD_DISABLE_MORE_IDEAS_BADGING":return{...e,has_fresh_more_ideas_tab:!1};case"SECTION_ADDED":{let{section_count:t}=e||{};return{...e,section_count:(t||0)+1}}case"SECTION_DELETED":{let{section_count:t}=e||{};return{...e,section_count:(t||1)-1}}case"PIN_ADD":{let{pin_count:t}=e||{};return{...e,pin_count:(t??0)+1}}case"PIN_DELETE":{let{pin_count:t}=e||{};return{...e,pin_count:(t??0)-1}}case"BOARD_SECTION_DELETE":{let{pinCount:a}=t.payload,r=e.section_count||0;return{...e,section_count:Math.max(r-1,0),pin_count:(e.pin_count??0)-a}}case"CREATE_COMPLETE":{let{section_count:t}=e||{};return{...e,section_count:(t||0)+1}}default:return e}}let eP=(e,t,a,r)=>t===a?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(e[t].pin_count??0)-r)}}:{},...a&&e[a]?{[a]:{...e[a],pin_count:(e[a].pin_count||0)+r}}:{}},ev=(0,em.Z)("boards",(e,t)=>{switch(e=e||{},t.type){case eA.zP:case eA.aW:{let{options:a,resource:r}=t.payload,{data:n}=t.payload.response.resource_response;if((eI.includes(r)||"ApiResource"===r&&a?.url==="/v3/users/me/boards/archived/")&&n){let t=n||[],a={...e};return t.forEach(e=>{e.type&&"board"!==e.type||(a[e.id]={...a[e.id],...e})}),a}if("BoardResource"===r||"BoardPageResource"===r){let r=a?.board_id||(n||{}).id;if(r)return{...e,[r]:eC(e[r]||n||{},t)}}else if("BoardSectionResource"===r){let a=n?.board?.id;if(a)return{...e,[a]:eC(e[a]||n.board,t)}}else if("ApiResource"===r&&t.payload.options?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)){let{options:a}=t.payload,r=a?.url?.split("/")?.[3];if(r&&e[r])return{...e,[r]:eC(e[r],t)}}return e}case"BOARD_CREATE_COMPLETE":{let{board:a}=t.payload;if(a&&a.id)return{...e,[a.id]:eC(e[a.id]||{type:"board",...a},t)};return e}case"BOARD_UPDATE_COMPLETE":{let{board:a}=t.payload;if(a&&a.id&&e[a.id])return{...e,[a.id]:eC(e[a.id],t)};return e}case"BOARD_ARCHIVE":case"BOARD_COVER_IMAGE_UPDATED":case"BOARD_DISABLE_MORE_IDEAS_BADGING":case"BOARD_DISMISS_SENSITIVITY_SCREEN":case"BOARD_FOLLOW":case"BOARD_SECTION_DELETE":case"BOARD_INVITE_ACCEPTED_BY_VIEWER":case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":case"BOARD_OWNERSHIP_TRANSFER_REQUEST":case"BOARD_PIN_COUNT_CHANGED":case"BOARD_REQUEST_TO_JOIN":case"BOARD_UNARCHIVE":case"PIN_ADD":case"PIN_DELETE":case"SECTION_ADDED":case"SECTION_DELETED":let{boardId:a}=t.payload;if(a&&e[a])return{...e,[a]:eC(e[a],t)};return e;case"USER_FOLLOW":{let{id:a}=t.payload,r=Object.keys(e).filter(t=>e[t]?.owner&&e[t].owner.id===a).reduce((a,r)=>(e[r]&&(a[r]=eC(e[r],t)),a),{});return{...e,...r}}case"BOARD_DELETE":var r=e;let{boardId:n}=t.payload;if(!n)return r;let{[n]:s,...o}=r;return o;case"USER_BLOCK":return((e,{payload:{id:t,value:a}})=>{if(!a)return e;let r=Object.keys(e).filter(a=>e[a].owner&&e[a].owner.id===t);if(!r.length)return e;let n=r.reduce((t,a)=>{let r=e[a];return t[a]={...r,followed_by_me:!1},t},{});return{...e,...n}})(e,t);case"PIN_EDIT":var i=e;let{boardId:l,source:{boardId:d}}=t.payload;return eP(i,d,l,1);case"PINS_MOVE":var c=e;let{pinIds:u,source:{boardId:_},target:{boardId:p}}=t.payload;return _===p?c:eP(c,_,p,u.length);case"PINS_MOVE_ALL":default:return e;case"CREATE_COMPLETE":{let{resource:a,normalizedResponse:r,response:n}=t.payload;if("BoardSectionResource"===a&&r){let{result:a,entities:{boardsections:n}}=r,s=n?.[a].board;if(s&&e[s])return{...e,[s]:eC(e[s],t)}}else if("BoardResource"===a&&n){let{id:t}=n.resource_response.data;return{...e,[t]:n.resource_response.data}}return e}case"BOARD_INVITE_APPROVED_BY_VIEWER":return((e,{payload:{boardId:t,collaboratingUser:a}})=>{let r=e[t];return eh(e,{id:t,collaborating_users:a?(r.collaborating_users||[]).concat(a):r.collaborating_users||[]})})(e,t);case"BOARD_COLLABORATOR_DELETE":return((e,{payload:{userId:t,boardId:a,viewingUser:r}})=>{let n=e[a],s=n.collaborating_users?n.collaborating_users.findIndex(e=>e.id===t):-1;return eh(e,{id:a,...n.collaborator_count?{collaborator_count:n.collaborator_count-1}:Object.freeze({}),...n.collaborated_by_me?{collaborated_by_me:r!==t&&n.collaborated_by_me}:Object.freeze({}),...n.access&&{access:r===t?[]:n.access},...s>-1?{collaborating_users:(n.collaborating_users??[]).filter((e,t)=>t!==s)}:Object.freeze({})})})(e,t);case"BOARD_COLLABORATOR_ADD":return((e,{payload:{boardId:t,viewingUser:a,status:r,collaboratingUsers:n}})=>{let s=e[t],o=n.map(e=>e?.id).filter(Boolean),i=n.filter(e=>!!e);return"accepted"===r?eh(e,{id:t,...s.collaborator_count||0===s.collaborator_count?{collaborator_count:s.collaborator_count+o.length}:{},...s.collaborated_by_me||!1===s.collaborated_by_me?{collaborated_by_me:s.collaborated_by_me||o.includes(a)}:{},...s.access&&{access:o.includes(a)?["write","delete"]:s.access},...s.collaborating_users&&{collaborating_users:[...s.collaborating_users??[],...i??[]]}}):e})(e,t)}}),eO=(e,t)=>({...e,[t.id]:{...t&&e[t.id]||{},...t}}),eN=(e,t,a,r)=>t===a?e:{...e,...t&&e[t]?{[t]:{...e[t],pin_count:Math.max(0,(e[t].pin_count??0)-r)}}:{},...a&&e[a]?{[a]:{...e[a],pin_count:(e[a].pin_count||0)+r}}:{}},eD=e=>e?.type==="board_section"?{...e,type:"boardsection"}:e,eL=(0,em.Z)("boardsections",(e,t)=>{switch(e=e||{},t.type){case eA.zP:case eA.aW:let{resource:a,normalizedResponse:r}=t.payload;if(!r){let{data:r}=t.payload.response.resource_response;if("BoardSectionsResource"===a){let t=(r||[]).reduce((t,a)=>(t[a.id]={...e[a.id],...eD(a)},t),{});return{...e,...t}}if("BoardSectionResource"===a&&r)return{...e,[r.id]:{...e[r.id],...eD(r)}}}return e;case"SECTION_ADDED":let{payload:{section:n}}=t;if(n.id)return{...e,[n.id]:n};return e;case"SECTION_DELETED":let{payload:{sectionId:s}}=t,o={...e};return delete o[s],o;case"SECTION_UPDATED":var i=e;let{payload:{section:l}}=t;return l.id?{...i,[l.id]:{...i[l.id],...l}}:i;case"BOARD_PIN_COUNT_CHANGED":var d=e;let{payload:{sectionId:c,increment:u}}=t;if(!c)return d;let _=d[c];return _?{...d,[c]:{..._,pin_count:_.pin_count?Math.max(0,_.pin_count+u):u}}:d;case"BOARD_SECTION_EDIT":return((e,{payload:t})=>eO(e,t))(e,t);case"PIN_ADD":var p=e;let{boardSectionId:E}=t.payload;return E&&p[E]?eO(p,{id:E,pin_count:(p[E].pin_count??0)+1}):p;case"PIN_DELETE":var S=e;let{boardSectionId:y}=t.payload;return y&&S[y]?eO(S,{id:y,pin_count:(S[y].pin_count??0)-1}):S;case"PIN_EDIT":var T=e;let{sectionId:m,source:R}=t.payload;return eN(T,R&&R.sectionId||null,m,1);case"PINS_MOVE":var f=e;let{pinIds:A,source:{sectionId:g},target:{sectionId:I}}=t.payload;return eN(f,g,I,A.length);default:return e}}),ew={currentStep:{index:0,canProceed:!1},businessGoals:[],businessName:"",businessVertical:"",numberEmployees:"",hasWebsite:"",website:"",country:"",locale:"",advertisingIntent:null,accountType:"",agencyRole:"",agencyClients:"",agencyContent:"",agencyService:"",agencyServiceOther:"",firstName:"",lastName:"",fullName:"",email:"",countryCode:"",phoneNumber:"",worksWithAgency:null,leadId:"",whatsAppConsent:!1,calendlyUpsellEligible:!1,shouldShowCalendlyModal:!1,businessSettingsUtmsEnabled:!0};function eb(e,t){switch(e=e||ew,t.type){case"UPDATE_BIZ_NUX_FIELD":return{...e,[t.field]:t.value,currentStep:{...e.currentStep}};case"SET_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:t.indexValue}};case"INCREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index+1}};case"DECREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index-1}};case"UPDATE_BIZ_NUX_CAN_PROCEED":return{...e,currentStep:{...e.currentStep,canProceed:t.value}};default:return e}}let eU={experience:void 0,newPin:void 0,originalPinId:void 0,shouldOpenModal:!1},eG=(e,t)=>{if(e=e||eU,"OPEN_CHANGE_MODAL"===t.type){let{experience:a,newPin:r,originalPinId:n,showChangeBoardModal:s}=t.payload;if(r)return{...e,experience:a,newPin:r,originalPinId:n,shouldOpenModal:s}}else if("CLOSE_CHANGE_MODAL"===t.type){let{showChangeBoardModal:a}=t.payload;return{...e,shouldOpenModal:a}}else if("CLEAR_BOARD_EDU_EXPERIENCE"===t.type){let{experience:a}=t.payload;if(e.experience?.id===a.id)return{...e,experience:void 0}}return e},eM=(0,em.Z)("contactrequests",(e,t)=>{switch(e=e||{},t.type){case eA.zP:let{payload:{normalizedResponse:a,resource:r,options:n}}=t;if("ApiResource"===r&&n?.url==="/v3/users/contact_requests/"&&a)return{...a.entities.contactrequests};return e;case"UPDATE_CONTACT_REQUEST_STATUS":let{contactRequestId:s,hasDeclined:o,hasBlocked:i}=t.payload;if(s)return{...e,[s]:{...e[s],hasDeclined:o,hasBlocked:i}};return e;case"REMOVE_CONTACT_REQUESTS":let{contactRequestIds:l}=t.payload;return Object.keys(e).reduce((t,a)=>(l.includes(a)||(t[a]=e[a]),t),{});default:return e}}),ek={};function eB(e,t){if(e=e||ek,"SEARCH_QUERY_STARTED"===t.type){let{query:a}=t.payload;if(!e[a]||"valid"===e[a].status){let t=e[a]&&e[a].pinIds||[];return{...e,[a]:{...e[a],status:"valid",pinIds:t}}}}else if("SEARCH_PIN_CLOSEUP_VIEWED"===t.type){let{pinId:a,query:r}=t.payload;if(e[r]&&"valid"===e[r].status){let t=e[r].pinIds||[];return{...e,[r]:{...e[r],pinIds:t.concat(a)}}}}else if("SEARCH_QUERY_INVALIDATED"===t.type)return{...e,[t.payload.query]:{status:"invalid"}};return e}var eF=a(124228);let ex=e=>e||[],eV={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:ex,BoardSectionPinsResource:ex,BoardContentRecommendationResource:ex,TodayArticleFeedResource:e=>Array.isArray(e)?e.filter(e=>"story"===e.type).map(({user:e,...t})=>e?{...t,user:e.id}:t):e||[],TodayTabResource:ex},eH=(e,t)=>{if(e=e||{},t.type===eA.zP||t.type===eA.aW){let{resource:a}=t.payload,{data:r}=t.payload.response.resource_response;if(a in eV){let t=eV[a](r)||[],n={...e};return t.forEach(e=>{"story"===e.type&&(n[e.id]=e)}),n}}if(t.type===eF.v){let a=t.payload,r={...e};return a.forEach(e=>{"story"===e.type&&(r[e.id??""]=e)}),r}return e};var eY=a(360033),ej=a(730056);let eW=(e,t)=>{let a=(0,ej.Z)(e,t);return(0,eY.ZP)(e,a)?e:a},eZ={},e$=function(e,t){if(e=e||eZ,t.type===eA.zP||t.type===eA.aW){let{resource:a}=t.payload,{data:r}=t.payload.response.resource_response;if("AggregatedActivityFeedResource"===a||"DidItUserFeedResource"===a){let t=(r||[]).reduce((t,a)=>(t[a.id]=eW(e[a.id],a),t),{});return{...e,...t}}if("DidItActivityResource"===a&&r)return{...e,[r.id]:eW(e[r.id],r)};if("NewsHubDetailsResource"===a&&r&&r.length>0&&r[0].content_items){let t={};return r.forEach(e=>{e.content_items.forEach(e=>{"userdiditdata"===(e.content_object&&e.content_object.type)&&(t[e.content_object.id]=e.content_object)})}),{...e,...t}}if("UnifiedCommentsResource"===a&&r&&r.length>0){let t=r.filter(e=>"userdiditdata"===e.type).reduce((t,a)=>(t[a.id]=eW(e[a.id],a),t),{});return{...e,...t}}else if("UnifiedCommentsPreviewResource"===a&&r&&r.length>0){let t=r[0].user_did_it_data,a=t?{[t.id]:eW(e[t.id],t)}:{};return{...e,...a}}}else if("USER_DID_IT_DATA_CREATE"===t.type){let{payload:{user_did_it_data:a}}=t;return{...e,[a.id]:a}}else if("USER_DID_IT_DATA_UPDATE"===t.type){let{payload:{user_did_it_data:a}}=t;return{...e,[a.id]:eW(e[a.id],a)}}else if("USER_DID_IT_DATA_DELETE"===t.type){let{payload:{id:a}}=t,r={...e};return delete r[a],r}else if("USER_DID_IT_DATA_UPDATE_COMMENT_COUNT"===t.type){let{payload:{id:a,increment:r}}=t,n=e[a].comment_count??0;return{...e,[a]:eW(e[a],{comment_count:n+r})}}else if("USER_DID_IT_DATA_LIKE_TOGGLED"===t.type){let{payload:{id:a,liked_by_me:r}}=t;if(e[a].like_count||0===e[a].like_count){let t=e[a].like_count;return{...e,[a]:eW(e[a],{liked_by_me:r,like_count:r?t+1:t-1})}}}else if("USER_DID_IT_DATA_HELPFUL_TOGGLED"===t.type){let{payload:{id:a,marked_helpful_by_me:r}}=t,n=e[a],s=n.helpful_count||0,o={...n,marked_helpful_by_me:r,helpful_count:r?s+1:s-1};return{...e,[a]:o}}return e},ez=(e={})=>e;var eq=a(658337);let eK=(e,t)=>{if(e=e||{},"SET_FLASHLIGHT_CROP_SOURCE"===t.type){let{payload:{cropSource:a}}=t;return{...e,cropSource:a}}return e},eQ=(e,t)=>{if(e=e||{activeTabBoardId:"",activeTabIndex:0},"SET_ACTIVE_HOMEFEED_TAB"===t.type){let{payload:{boardId:a,index:r}}=t;return{...e,activeTabBoardId:a,activeTabIndex:r}}return e};function eX(e,t){switch(e=e||Object.freeze({}),t.type){case"SHOW_TOAST_CONTACT_REQUEST_UNDO":return{...e,showToastForContactRequest:t.payload.contactRequestId};case"SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST":let a={contactRequestId:t.payload.contactRequestId,modalAction:t.payload.modalAction};return{...e,blockModalContactRequest:a};default:return e}}var eJ=a(871962);let e0={canProceed:!0,topBusinessGoal:"",dailyAdsBudget:"",customDailyAdsBudget:void 0,weeklyAddToCarts:0,weeklyLeads:0,weeklyCheckouts:0,hasFeed:!1,defaultCatalogId:null,defaultFeedProfileId:null,shouldShowGoalsStep:!0,isSurveyOpen:!1,isCalendlyModalOpen:!1,marketingPlanName:"",marketingPlanSuggestion:[],showCustomBudgetField:!1,showCustomBudgetFieldError:!1};function e1(e,t){switch(e=e||e0,t.type){case"UPDATE_PMP_FIELD":return{...e,[t.field]:t.value};case"UPDATE_PMP_INITIAL_STATE":return{...t.value};default:return e}}function e4(e,t){let a=e||{};if(t.type===eA.zP||t.type===eA.aW){let{resource:e}=t.payload,{data:r}=t.payload.response.resource_response;if("BaseSearchResource"===e){let e=(r||{}).results||[],t={...a};return e.forEach(e=>{"module"===e.type&&(t[e.id]=e)}),t}}return a}function e2(e,t){if(e=e||null,"MOST_RECENT_BOARD"!==t.type)return e;{let{id:a,name:r,url:n}=t.payload;return{...e,id:a,name:r,url:n}}}let e3=(0,em.Z)("notifications",(e,t)=>{if(e=e||{},t.type===eA.zP||t.type===eA.aW){let{normalizedResponse:e}=t.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:t})=>{Object.keys(e??{}).forEach(a=>{let r=e[a];r.content_items&&r.content_items.forEach(e=>{if(e.content_object){let{id:a,schema:r}=e.content_object;"pin"===r&&(e.trackingParams=t[a]?t[a].tracking_params:void 0)}})})})(e.entities)}return e}),e7={dirtyFields:[],description:"",link:"",title:"",board:null,descriptionError:null,linkError:null,titleError:null};var e5=a(590940);let e6=Object.freeze({assets:[],createdPinIds:[],fonts:[],layoutMode:0,pinDraftIdUploadStatusMap:{},pinDraftIds:[],selectedPinDraftIds:[],isBatchEditMode:!1,entryPoint:null,closeupImageSignature:null,pinEditorPinDraft:null,showDisabledPinCreationBanner:!1,showFeedbackModal:!1});var e8=a(937656);let e9={altText:null,altTextError:null,apiError:null,apiErrorCode:null,boardError:null,interestTags:[],isAdIneligible:!1,isCommentsAllowed:!0,isShoppingRecAllowed:!0,lastEditedTime:null,lastSavedTime:null,mediaError:null,mode:"create",pinId:null,pinItemIds:[],pinItemIndex:-1,pinIsAdsOnly:!1,pinItemShareable:!0,publishingStatus:"notAttempted",publishOption:"publish-immediately",scheduledPin:null,scheduledDate:null,scheduledDateError:null,scheduledTime:null,scheduledTimeError:null,selectedItem:null,status:"created",storyPin:null,storyPinDraftId:null,storyPinMetadata:null,storyPinUploadManager:null,storyPinSelectedPinItemIds:[],type:"single",uploadStartTime:null,urlCreationSource:null,view:"upload",websiteLink:"",websiteLinkError:null,websiteMedia:[],websiteDefaultImageUrl:null,createMethod:null,showcaseBannerError:null,creativeStudioPinParams:null};var te=a(497223);let tt={id:null,link:"",linkError:null,pinTagKey:null,status:"created",taggedObjectIds:[],x:-1,y:-1},ta={id:null,link:"",media:null,status:"created",pin:null,type:null},tr={edits:{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},error:null,media:null,text:"",type:"story_pin_paragraph_block"},tn=(e,t)=>{switch(e=e||tr,t.type){case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_UPDATE_BLOCK":let{storyPinItemBlock:a}=t.payload;return{...e,...a};case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":let{playing:r}=t.payload;return{...e,playing:r};case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":let{edits:n}=t.payload;return{...e,edits:{...e.edits,...n}};case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":{let{media:a}=t.payload;return{...e,media:e.media?(0,ej.Z)(e.media,a):null}}default:return e}},ts={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",description:"",descriptionError:null,dominantColors:[],isEditable:!0,isTaggable:!0,layout:null,linkBlock:{text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},linkError:null,media:null,pinTagIds:[],publishProgress:void 0,selectedBlockId:null,selectedPinTagId:null,signals:{},tagError:null,title:"",titleError:null};Object.freeze({...e6,batchDraftCreationIds:[],batchEditModeFields:e7,pinDrafts:{},pinItems:{},pinTags:{},storyPinItemBlocks:{},storyPinItems:{},taggedObjects:{}});let to=(0,b.combineReducers)({assets:(e=e6.assets,t)=>"PIN_BUILDER_ADD_ASSET"===t.type?[t.payload.asset,...e??[]]:e??[],batchDraftCreationIds:(e=[],t)=>{switch(t.type){case"BATCH_DRAFT_CREATION_SET_IDS":let{pinDraftIds:a}=t.payload;return a;case"BATCH_DRAFT_CREATION_REMOVE_ID":let{pinDraftId:r}=t.payload;return[...(e??[]).filter(e=>e!==r)];default:return e}},batchEditModeFields:(e,t)=>{switch(e=e||e7,t.type){case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION":{let{description:a}=t.payload;return{...e,description:a}}case"BATCH_PIN_EDIT_MODE_SET_LINK":{let{link:a}=t.payload;return{...e,link:a}}case"BATCH_PIN_EDIT_MODE_SET_TITLE":{let{title:a}=t.payload;return{...e,title:a}}case"BATCH_PIN_EDIT_MODE_SET_BOARD":{let{board:a}=t.payload;return{...e,board:{...a}}}case"BATCH_PIN_EDIT_MODE_ADD_DIRTY_FIELD":{let{field:a}=t.payload;return{...e,dirtyFields:[...e.dirtyFields,a]}}case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION_ERROR":{let{descriptionError:a}=t.payload;return{...e,descriptionError:a}}case"BATCH_PIN_EDIT_MODE_SET_LINK_ERROR":{let{linkError:a}=t.payload;return{...e,linkError:a}}case"BATCH_PIN_EDIT_MODE_SET_TITLE_ERROR":{let{titleError:a}=t.payload;return{...e,titleError:a}}case"BATCH_PIN_EDIT_MODE_RESET_ALL_FIELDS":return{...e,...e7};default:return e}},closeupImageSignature:(e=e6.closeupImageSignature,t)=>{if("PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE"!==t.type)return e;{let{closeupImageSignature:e}=t.payload;return e}},createdPinIds:(e=e6.createdPinIds,t)=>{if("PIN_BUILDER_ADD_CREATED_PIN_ID"!==t.type)return e??[];{let{pinId:a}=t.payload;return(e??[]).concat(a)}},entryPoint:(e=e6.entryPoint,t)=>{if("PIN_BUILDER_ENTRY_POINT"!==t.type)return e;{let{entryPoint:e}=t.payload;return e}},fonts:(e=e6.fonts,t)=>{if(t.type===eA.zP){let{resource:e,options:a={}}=t.payload,{data:r}=t.payload.response.resource_response;if("ApiResource"===e&&"/v3/storypins/fonts/"===a.url)return(r?.all||[]).map(e5.Z)}return e??[]},isBatchEditMode:(e=e6.isBatchEditMode,t)=>{if("PIN_BUILDER_SET_BATCH_EDIT_MODE"!==t.type)return!!e;{let{isBatchEditMode:e}=t.payload;return e}},layoutMode:(e=e6.layoutMode,t)=>(t.type,e),pinDraftIds:(e=e6.pinDraftIds,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT":{let{pinDraftId:a,options:r={}}=t.payload,{insertBefore:n,isAppend:s}=r;if(n){let t=e.indexOf(r.insertBefore);if(t>=0){let r=[...e??[]];return r.splice(t,0,a),r}}if(s)return[...e??[],a];return[a,...e??[]]}case"PIN_BUILDER_DELETE_PIN_DRAFT":case"PIN_BUILDER_REMOVE_PIN_DRAFT_ID":{let{pinDraftId:a}=t.payload;return[...(e??[]).filter(e=>e!==a)]}case"PIN_BUILDER_CLEAR_PIN_DRAFTS":return[];default:return e??[]}},pinDraftIdUploadStatusMap:(e=e6.pinDraftIdUploadStatusMap,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD":{let{pinDraftId:a,pinItemId:r,upload:n}=t.payload;if(!e?.[a])return{...e,[a]:{items:{[r]:n},status:"uploading"}};return{...e,[a]:{...e?.[a]||{items:{},status:"uploading"},items:{...e?.[a]?.items??{},[r]:n}}}}case"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS":{let{pinDraftId:a,status:r}=t.payload;return{...e,[a]:{...e?.[a]||{items:{},status:"uploading"},status:r}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS":{let{pinDraftId:a,pinItemId:r,status:n}=t.payload,s=e?.[a]&&"items"in e[a]?e[a].items:{};return{...e,[a]:{...e[a],items:{...s,[r]:{...s[r],status:n}}}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR":{let{pinDraftId:a,pinItemId:r,xhr:n}=t.payload,s=e?.[a]&&"items"in e[a]?e[a].items:{};return{...e,[a]:{...e[a],items:{...s,[r]:{...s[r],xhr:n}}}}}case"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD":{let{pinDraftId:a,pinItemId:r}=t.payload,n={...e[a].items};return delete n[r],{...e,[a]:{...e[a],items:n}}}case"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD":{let{pinDraftId:a}=t.payload,r={...e};return delete r[a],r}default:return e}},pinDrafts:(e,t)=>{switch(e=e||{},t.type){case"PIN_BUILDER_DELETE_PIN_DRAFT":{let{pinDraftId:a}=t.payload,r={...e};return delete r[a],r}case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"PIN_DRAFT_ADD_WEBSITE_MEDIA":case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":case"PIN_DRAFT_REMOVE_PIN_ITEM":case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_API_ERROR":case"PIN_DRAFT_SET_BOARD_ERROR":case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":case"PIN_DRAFT_SET_LAST_EDITED_TIME":case"PIN_DRAFT_SET_LAST_SAVED_TIME":case"PIN_DRAFT_SET_MEDIA_ERROR":case"PIN_DRAFT_SET_PIN_ID":case"PIN_DRAFT_SET_PIN_ITEM_IDS":case"PIN_DRAFT_SET_PIN_ITEM_INDEX":case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":case"PIN_DRAFT_SET_PUBLISHING_STATUS":case"PIN_DRAFT_SET_PUBLISH_OPTION":case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":case"PIN_DRAFT_SET_SCHEDULED_DATE":case"PIN_DRAFT_SET_SCHEDULED_PIN":case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":case"PIN_DRAFT_SET_SCHEDULED_TIME":case"PIN_DRAFT_SET_SELECTED_ITEM":case"PIN_DRAFT_SET_STATUS":case"PIN_DRAFT_SET_STORY_PIN":case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_UPLOAD_START_TIME":case"PIN_DRAFT_SET_URL_CREATION_SOURCE":case"PIN_DRAFT_SET_VIEW":case"PIN_DRAFT_SET_CREATE_METHOD":case"PIN_DRAFT_SET_WEBSITE_LINK":case"PIN_DRAFT_UPDATE_DATA":case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":case"PIN_DRAFT_ADD_INTEREST_TAG":case"PIN_DRAFT_REMOVE_INTEREST_TAG":case"PIN_DRAFT_SET_INTEREST_TAGS":case"PIN_DRAFT_CLEAR_INTEREST_TAGS":case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":case"PIN_DRAFT_SET_ALT_TEXT":case"PIN_DRAFT_SET_ALT_TEXT_ERROR":case"PIN_DRAFT_SET_ADS_ONLY_STATUS":case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinDraftId:a}=t.payload;return{...e,[a]:((e=e9,t)=>{switch(t.type){case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_DRAFT_UPDATE_DATA":{let{pinDraft:a}=t.payload;return{...e,...a}}case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":return{...e,isUploadDraft:void 0};case"PIN_DRAFT_ADD_PIN_ITEM":{let{pinItemId:a,options:r}=t.payload,n=[...e.pinItemIds,a];return{...e,pinItemIds:[...e.pinItemIds,a],pinItemIndex:r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length,type:n.length>1&&"story"!==e.type?"carousel":e.type}}case"PIN_DRAFT_ADD_STORY_PIN_ITEM":{let{pinItemId:a,options:r}=t.payload,n=[...e.pinItemIds,a],s=r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length;return{...e,pinItemIds:n,pinItemIndex:s,storyPinSelectedPinItemIds:[n[s]]}}case"PIN_DRAFT_REMOVE_PIN_ITEM":{let{pinItemId:a}=t.payload,r=e.pinItemIds.findIndex(e=>e===a),n=e.pinItemIds.filter(e=>e!==a),s=e.pinItemIndex<=r?Math.min(e.pinItemIndex,n.length-1):e.pinItemIndex-1,o=s>=0?[n[s]]:[];return{...e,pinItemIds:n,pinItemIndex:s,storyPinSelectedPinItemIds:o,type:n.length<=1&&"story"!==e.type?"single":e.type}}case"PIN_DRAFT_SET_PIN_ID":{let{pinId:a}=t.payload;return{...e,pinId:a}}case"PIN_DRAFT_SET_ADS_ONLY_STATUS":{let{pinIsAdsOnly:a}=t.payload;return{...e,pinIsAdsOnly:a}}case"PIN_DRAFT_SET_SCHEDULED_PIN":{let{scheduledPin:a}=t.payload;return{...e,scheduledPin:a}}case"PIN_DRAFT_SET_STORY_PIN":{let{storyPin:a}=t.payload;return{...e,storyPin:a}}case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":{let{storyPinDraftId:a}=t.payload;return{...e,storyPinDraftId:a}}case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":{let{storyPinMetadata:a}=t.payload;return{...e,storyPinMetadata:{...e.storyPinMetadata,...a}}}case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":{let{pinItemIds:a}=t.payload;return{...e,storyPinSelectedPinItemIds:a}}case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":return{...e,storyPinSelectedPinItemIds:[e.pinItemIds[e.pinItemIndex]]};case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":{let{isCommentsAllowed:a}=t.payload;return{...e,isCommentsAllowed:a}}case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":{let{isShoppingRecAllowed:a}=t.payload;return{...e,isShoppingRecAllowed:a}}case"PIN_DRAFT_SET_PIN_ITEM_INDEX":{let{pinItemIndex:a}=t.payload;return{...e,pinItemIndex:a}}case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":{let{pinItemShareable:a}=t.payload;return{...e,pinItemShareable:a}}case"PIN_DRAFT_SET_URL_CREATION_SOURCE":{let{urlCreationSource:a}=t.payload;return{...e,urlCreationSource:a}}case"PIN_DRAFT_SET_VIEW":{let{view:a}=t.payload;return{...e,view:a}}case"PIN_DRAFT_SET_CREATE_METHOD":{let{createMethod:a}=t.payload;return{...e,createMethod:a}}case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":{let{isAdIneligible:a}=t.payload;return{...e,isAdIneligible:a}}case"PIN_DRAFT_SET_PUBLISHING_STATUS":{let{publishingStatus:a}=t.payload;return{...e,publishingStatus:a}}case"PIN_DRAFT_SET_PUBLISH_OPTION":{let{publishOption:a}=t.payload;return{...e,publishOption:a}}case"PIN_DRAFT_SET_STATUS":{let{status:a}=t.payload;return{...e,status:a}}case"PIN_DRAFT_SET_SCHEDULED_DATE":{let{scheduledDate:a}=t.payload;return{...e,scheduledDate:a}}case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":{let{scheduledDateError:a}=t.payload;return{...e,scheduledDateError:a}}case"PIN_DRAFT_SET_SCHEDULED_TIME":{let{scheduledTime:a}=t.payload;return{...e,scheduledTime:a}}case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":{let{scheduledTimeError:a}=t.payload;return{...e,scheduledTimeError:a}}case"PIN_DRAFT_SET_MEDIA_ERROR":{let{mediaError:a}=t.payload;return{...e,mediaError:a}}case"PIN_DRAFT_SET_LAST_EDITED_TIME":{let{lastEditedTime:a}=t.payload;return{...e,lastEditedTime:a}}case"PIN_DRAFT_SET_LAST_SAVED_TIME":{let{lastSavedTime:a}=t.payload;return{...e,lastSavedTime:a}}case"PIN_DRAFT_SET_WEBSITE_LINK":{let{websiteLink:a,error:r,websiteDefaultImageUrl:n}=t.payload;return{...e,websiteLink:a,websiteLinkError:r,websiteDefaultImageUrl:n}}case"PIN_DRAFT_SET_SELECTED_ITEM":let{selectedItem:a}=t.payload;return{...e,selectedItem:{...a},boardError:null};case"PIN_DRAFT_SET_UPLOAD_START_TIME":let{uploadStartTime:r}=t.payload;return{...e,uploadStartTime:r};case"PIN_DRAFT_SET_BOARD_ERROR":let{boardError:n}=t.payload;return{...e,boardError:n};case"PIN_DRAFT_ADD_WEBSITE_MEDIA":{let{media:a}=t.payload;return{...e,websiteMedia:[...e.websiteMedia,a]}}case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":{let{mediaUrl:a}=t.payload;return{...e,websiteMedia:e.websiteMedia.filter(e=>e.src!==a)}}case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":return{...e,websiteMedia:[]};case"PIN_DRAFT_SET_PIN_ITEM_IDS":return{...e,pinItemIds:t.payload.pinItemIds};case"PIN_DRAFT_SET_API_ERROR":return{...e,apiError:t.payload.apiError,apiErrorCode:t.payload.apiErrorCode};case"PIN_DRAFT_ADD_INTEREST_TAG":{let{tag:a}=t.payload;return{...e,interestTags:[...e.interestTags,a]}}case"PIN_DRAFT_REMOVE_INTEREST_TAG":{let{id:a}=t.payload;return{...e,interestTags:[...e.interestTags.filter(e=>e.id!==a)]}}case"PIN_DRAFT_SET_INTEREST_TAGS":{let{tags:a}=t.payload;return{...e,interestTags:[...a]}}case"PIN_DRAFT_CLEAR_INTEREST_TAGS":return{...e,interestTags:[]};case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":{let{uploadManager:a}=t.payload;return{...e,storyPinUploadManager:a}}case"PIN_DRAFT_SET_ALT_TEXT":{let{altText:a}=t.payload;return{...e,altText:a}}case"PIN_DRAFT_SET_ALT_TEXT_ERROR":{let{altTextError:a}=t.payload;return{...e,altTextError:a}}case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":{let{showcaseBannerError:a}=t.payload;return{...e,showcaseBannerError:a}}case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":return{...e,lastEditedTime:new Date,status:e8.qm.includes(e.status)?e.status:"edited"};default:return e}})(e[a],t)}}case"PIN_DRAFT_CLEAR_STATE":return{};default:return e}},pinEditorPinDraft:(e=e6.pinEditorPinDraft,t)=>{if("PIN_EDITOR_SET_PIN_DRAFT"===t.type){let{payload:e}=t;return e.editedPinDraftId}return e},pinItems:(e,t)=>{switch(e=e||{},t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_ITEM_SET_DESCRIPTION":case"PIN_ITEM_SET_DESCRIPTION_ERROR":case"PIN_ITEM_SET_IS_TAGGABLE":case"PIN_ITEM_SET_LINK_ERROR":case"PIN_ITEM_SET_LINK":case"PIN_ITEM_SET_MEDIA":case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":case"PIN_ITEM_SET_TAG_ERROR":case"PIN_ITEM_SET_TITLE":case"PIN_ITEM_SET_TITLE_ERROR":case"PIN_ITEM_UPDATE_MEDIA":case"PIN_ITEM_UPDATE_DATA":case"PIN_ITEM_SET_EDITED_IMAGE":let{pinItemId:a}=t.payload;return{...e,[a]:(0,te.Z)(e[a],t)};default:return e}},pinTags:(e,t)=>{switch(e=e||{},t.type){case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"PIN_TAG_SET_COORDINATES":case"PIN_TAG_SET_LINK":case"PIN_TAG_SET_STATUS":let{pinTagId:a}=t.payload;return{...e,[a]:((e,t)=>{switch(e=e||tt,t.type){case"PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTag:a}=t.payload;return{...e,...a}}case"PIN_ITEM_REMOVE_PIN_TAG":return{...e,status:"created"!==e.status?"deleted":e.status};case"PIN_TAG_ADD_TAGGED_OBJECT":{let{taggedObjectId:a}=t.payload;return{...e,taggedObjectIds:[...e.taggedObjectIds,a],status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_REMOVE_TAGGED_OBJECT":{let{taggedObjectId:a}=t.payload;return{...e,taggedObjectIds:e.taggedObjectIds.filter(e=>e!==a),status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_COORDINATES":{let{x:a,y:r}=t.payload;return{...e,x:a,y:r,status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_LINK":{let{link:a,error:r}=t.payload;return{...e,link:a,linkError:r}}case"PIN_TAG_SET_STATUS":{let{status:a}=t.payload;return{...e,status:a}}default:return e}})(e[a],t)};default:return e}},selectedPinDraftIds:(e=e6.selectedPinDraftIds,t)=>{switch(t.type){case"PIN_BUILDER_SELECT_PIN_DRAFT":{let{pinDraftId:a}=t.payload;return[...e??[],a]}case"PIN_BUILDER_DESELECT_PIN_DRAFT":{let{pinDraftId:a}=t.payload;return(e??[]).filter(e=>e!==a)}case"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS":return[];default:return e??[]}},showDisabledPinCreationBanner:(e=e6.showDisabledPinCreationBanner,t)=>{if("PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER"===t.type){let{showDisabledPinCreationBanner:e}=t.payload;return e}return!!e},showFeedbackModal:(e=e6.showFeedbackModal,t)=>{if("PIN_BUILDER_SHOW_FEEDBACK_MODAL"===t.type){let{payload:e}=t;return e.showFeedbackModal}return e},storyPinItemBlocks:(e,t)=>{switch(e=e||{},t.type){case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_UPDATE_BLOCK":{let{blockId:a}=t.payload;if(!(a in e))return e;return{...e,[a]:tn(e[a],t)}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:a}=t.payload;return{...e,[a]:tn(e[a],t)}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:a}=t.payload;if(!(a in e))return e;let r={...e};return delete r[a],r}default:return e}},storyPinItems:(e,t)=>{switch(e=e||{},t.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_BLOCK_IDS":case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":case"STORY_PIN_ITEM_SET_DESCRIPTION":case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":case"STORY_PIN_ITEM_SET_EDITED_IMAGE":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_SET_LINK_ERROR":case"STORY_PIN_ITEM_SET_MEDIA":case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":case"STORY_PIN_ITEM_SET_TITLE":case"STORY_PIN_ITEM_SET_TITLE_ERROR":case"STORY_PIN_ITEM_UPDATE_DATA":case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":case"STORY_PIN_ITEM_UPDATE_MEDIA":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":let{pinItemId:a}=t.payload;return{...e,[a]:((e,t)=>{switch(e=e||ts,t.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinItem:a}=t.payload;return{...e,...a}}case"STORY_PIN_ITEM_SET_DESCRIPTION":{let{description:a}=t.payload;return{...e,description:a}}case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:a}=t.payload;return{...e,descriptionError:a}}case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":{let{linkBlock:a}=t.payload;return{...e,linkBlock:{...e.linkBlock,...a}}}case"STORY_PIN_ITEM_SET_LINK_ERROR":{let{linkError:a}=t.payload;return{...e,linkError:a}}case"STORY_PIN_ITEM_SET_MEDIA":{let{media:a}=t.payload,r=a?.type!=="localVideo"&&(!!a&&!e.linkBlock||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:a,pinTagIds:[],selectedPinTagId:null}}case"STORY_PIN_ITEM_UPDATE_MEDIA":{let{media:a}=t.payload;return{...e,media:e.media?(0,ej.Z)(e.media,a):null}}case"STORY_PIN_ITEM_SET_TITLE":{let{title:a}=t.payload;return{...e,title:a}}case"STORY_PIN_ITEM_SET_TITLE_ERROR":{let{titleError:a}=t.payload;return{...e,titleError:a}}case"STORY_PIN_ITEM_SET_BLOCK_IDS":{let{blockIds:a}=t.payload;return{...e,blockIds:a}}case"STORY_PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:a,canvasJson:r}=t.payload;return{...e,media:a,canvasJson:r}}case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":{let{blockId:a}=t.payload;return{...e,selectedBlockId:a}}case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":{let{backgroundColor:a}=t.payload;return{...e,backgroundColor:a}}case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":{let{coverImgSignature:a}=t.payload;return{...e,coverImgSignature:a}}case"STORY_PIN_ITEM_SET_LAYOUT":{let{layout:a}=t.payload;return{...e,layout:a}}case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":{let{dominantColors:a}=t.payload;return{...e,dominantColors:a}}case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":{let{publishProgress:a}=t.payload;return{...e,publishProgress:a}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:a,index:r}=t.payload,{blockIds:n}=e,s=[...n];return s.splice("number"==typeof r?r:n.length,0,a),{...e,blockIds:s}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:a}=t.payload,{blockIds:r}=e;return{...e,blockIds:[...r.filter(e=>e!==a)]}}case"STORY_PIN_ITEM_REORDER_BLOCKS":{let{blockIds:a}=t.payload;return{...e,blockIds:a}}case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:a}=t.payload;return{...e,pinTagIds:[...e.pinTagIds,a]}}case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:a}=t.payload;return{...e,selectedPinTagId:a}}default:return e}})(e[a],t)};default:return e}},taggedObjects:(e,t)=>{switch(e=e||{},t.type){case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"TAGGED_OBJECT_SET_STATUS":let{taggedObjectId:a}=t.payload;return{...e,[a]:((e,t)=>{switch(e=e||ta,t.type){case"PIN_TAG_ADD_TAGGED_OBJECT":let{taggedObject:a}=t.payload;return{...e,...a};case"PIN_TAG_REMOVE_TAGGED_OBJECT":return{...e,status:"created"!==e.status?"deleted":e.status};case"TAGGED_OBJECT_SET_STATUS":let{status:r}=t.payload;return{...e,status:r};default:return e}})(e[a],t)};default:return e}}}),ti=(e,t,a)=>({...e,[t]:{...e[t]||{},...a}}),tl=(e={},t)=>{let a=e||{};switch(t.type){case eA.zP:{let{payload:{resource:e,response:r,options:n}}=t;if("FindPinImagesResource"===e&&n?.source==="pin_create"){let e={...r.resource_response.data};return e.items=e.items.slice(0,50),ti(a,n?.url||"",e)}return a}case"PIN_BUILDER_LOADED_IMAGES":{let{payload:{loadedImages:e,scrapedWebsite:r}}=t;return ti(a,r,{loadedImages:e})}case"UPDATE_PIN_BUILDER_INPUT":return{...a,...t.payload};default:return a}};function td(e=null,t){let a=e||null;return"PIN_NAV_CONTEXT_CREATE"===t.type?{...a,...t.payload}:"PIN_NAV_CONTEXT_DELETE"===t.type?null:a}var tc=a(802844);let tu=(e,t)=>{let a=e||{};if(t.type===eA.zP){let{resource:e,options:r={},response:n}=t.payload;if("VisualSearchFlashlightUnifiedResource"===e){let e=r.pin_id,{x:t,y:s,w:o,h:i}=r.crop,l=r.is_shopping,d=`related-products-unified:${e}:${t}:${s}:${o}:${i}:${l}`,{data:c}=n.resource_response,u={[d]:{priceFilters:c.price_filters,domainFilters:c.domain_filters,categoryFilters:c.category_filters}};if(Object.values(u[d]).filter(Boolean).length)return{...a,...u}}}return a},t_={promoId:"",startDate:"",endDate:"",startTime:"00:00",endTime:"",discountGroup:void 0,discountType:void 0,title:"",templateValues:{},showPromoCode:!1,modalStep:a(331738).Ab.CREATE,isLoading:!0,promoCode:void 0,errorMessages:{},activeCampaigns:[],selectedCampaignIds:[],allCampaignIds:[],campaignIdToAdGroupMap:{},isRowOpen:{},promotionsEmailRedirect:""};function tp(e=t_,t){switch(t.type){case"UPDATE_PROMO_MODAL_FIELD":return{...e,[t.field]:t.value};case"UPDATE_PROMO_CODE":return{...e,promoCode:t.value};case"UPDATE_DISCOUNT_GROUP":return{...e,discountGroup:t.value};case"UPDATE_DISCOUNT_TYPE":return{...e,discountType:t.value};case"UPDATE_INITIAL_CAMPAIGNS_STATE":{let{eligibleCampaignIds:a,filteredCampaigns:r,adGroups:n}=t.value,s={};a.forEach(e=>{s[e]=!1});let o=a.reduce((e,t)=>(e[t]={},e),{});return(n||[]).forEach(e=>{let{campaign_id:t,id:r}=e||{campaign_id:"",id:""};r&&t&&a.includes(t)&&(Object.prototype.hasOwnProperty.call(o,t)?o[t]={...o[t],[r]:{adGroupResponse:e,selected:!0}}:o[t]={[r]:{adGroupResponse:e,selected:!0}})}),{...e,isLoading:!1,activeCampaigns:r,isRowOpen:s,selectedCampaignIds:a,allCampaignIds:a,campaignIdToAdGroupMap:o}}default:return e}}let tE=(0,em.Z)("reactions",(e,t)=>{switch(e=e||{},t.type){case eA.zP:if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse&&t.payload.normalizedResponse.entities&&t.payload.normalizedResponse.entities.reactions)return{...e,...t.payload.normalizedResponse.entities.reactions};return e;case eA.AF:let a,r,{options:n}=t.payload,{reaction_type:s,reaction_pin_id:o,user_id:i}=n;return a=e,r={user:i,id:`${o}:${i}:${s}`,reaction_type:s,type:"userreaction"},{...a,[r.id]:{...a[r.id],...r}};default:return e}}),tS=[],ty=(e,t)=>{let a=0,r=e.length-1;for(;a<=r;){let n=a+Math.floor((r-a)/2);e[n].scheduled_ts>t.scheduled_ts?r=n-1:e[n].scheduled_ts<=t.scheduled_ts&&(a=n+1)}return a},tT=(e,t)=>{if(e=e||tS,t.type===eA.zP||t.type===eA.aW){let{resource:e}=t.payload,{data:a}=t.payload.response.resource_response;if("ScheduledPinsResource"===e)return a||[]}else if("SCHEDULED_PIN_DELETE_COMPLETE"===t.type||"SCHEDULED_PIN_PUBLISH_COMPLETE"===t.type){let{payload:{scheduledPinId:a}}=t;return e.filter(e=>e.id!==a)}else if("SCHEDULED_PIN_CREATE_COMPLETE"===t.type){let{payload:{scheduledPin:a}}=t,r=ty(e,a),n=[...e];return n.splice(r,0,a),n}else if("SCHEDULED_PIN_UPDATE_COMPLETE"===t.type){let{payload:{title:a,scheduledPinId:r,scheduledTimestamp:n}}=t,s=e.find(e=>e.id===r),o=e.filter(e=>e.id!==r);if(s){let e={...s,title:a??"",scheduled_ts:n},t=ty(o,e),r=[...o];return r.splice(t,0,e),r}}return e};var tm=a(42676),tR=a(729475);let tf={animated:!1,currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},tA=(e,t)=>{let a=e.recentPersonalSearches.filter(e=>!t.find(t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentPersonalSearches:t.concat(a).slice(0,tR._9)}},tg=(e,t)=>({...e,...tA(e,t)}),tI=(e,t)=>{let a=e.recentSearches.filter(e=>!t.find(t=>(t.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentSearches:t.concat(a).slice(0,tR._9)}},th=(e,t)=>({...e,...tI(e,t)}),tC=(e,t,a)=>({...e,currentSearch:{query:a||"",scope:t||"pins"}}),tP=(e,t,a)=>t?t.startsWith("my_")?tg(e,[{query:a,type:"recent_personal_searches",id:a,is_verified_merchant:!1,label:a,url:""}]):th(e,[{query:a,type:"recent_query",id:a,is_verified_merchant:!1,label:a,url:""}]):e,tv=(e,t,a,r)=>{if(!t.length){if("recent_unauth_search_suggestions"===a){let t=tI(e,[]).recentSearches.filter(({type:e})=>"recent_query"===e);return{...e,recentSearches:t.concat(r).slice(0,tR._9)}}if((a||"").split(",").length>1){let t=[],a=[];return r.forEach(e=>{"recent_personal_searches"===e.type?t.push(e):a.push(e)}),{...e,...tA(e,t),...tI(e,a)}}return"recent_personal_searches"===a?tg(e,r):th(e,r)}return{...e,typeaheadCache:{...e.typeaheadCache,[t]:r}}},tO=(e,t)=>{switch(e=e||tf,t.type){case eA.zP:{let{resource:r,response:n}=t.payload;if("AdvancedTypeaheadResource"===r){let{term:a,recent_queries_tags:r}=t.payload.options??{};return tv(e,a,r,n.resource_response.data.items)}if("SearchTabResource"===r){let t,a;return t=e,a=n.resource_response.data,{...t,recommendedSearches:[...t.recommendedSearches,...a]}}if("BaseSearchResource"===r){let r,{scope:s,query:o}=t.payload.options||{},i=(0,tm.Tb)(t.payload.options),l=n.resource_response.data.productFilters,d={filters:n.resource_response.data.filters,guides:n.resource_response.data.guides,nags:n.resource_response.data.nag,oneBarModules:n.resource_response.data.oneBarModules,rankedGuides:n.resource_response.data.rankedGuides,sensitivity:n.resource_response.data.sensitivity,typo:n.resource_response.data.typo};var a=tP(tC({...r=e,queries:{...r.queries,[i]:d}},s,o),s,o);let c=`${o}-${s}`,u=a.productFilters[c];return u?l?{...a,productFilters:{...a.productFilters,[c]:Object.entries(u).reduce((e,t)=>{let a=t[0],r=t[1],n=l[a];return Array.isArray(r)&&Array.isArray(n)?e[a]=r.concat(n.filter(e=>!r.some(t=>t.label===e.label))):r&&!Array.isArray(r)&&n&&!Array.isArray(n)&&(e[a]={...r,max_value:Math.max(r.max_value,n.max_value),min_value:Math.min(r.min_value,n.min_value),suggested_max_value:Math.max(r.suggested_max_value,n.suggested_max_value)}),e},{})}}:a:{...a,productFilters:{...a.productFilters,[c]:l}}}if("SearchResource"===r){let{query:a,scope:r}=t.payload.options||{};return tP(e,r,a)}if("VisualLiveSearchResource"===r){let{data:a}=n.resource_response;return{...e,visualSearches:{...e.visualSearches,[t.payload.options.pin_id]:a.annotations}}}return e}case"CLEAR_RECENT_SEARCH":{let a,{query:r}=t.payload;return{...a=e,recentSearches:a.recentSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_SEARCHES":return{...e,recentSearches:[]};case"CLEAR_RECENT_PERSONAL_SEARCH":{let a,{query:r}=t.payload;return{...a=e,recentPersonalSearches:a.recentPersonalSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_PERSONAL_SEARCHES":return{...e,recentPersonalSearches:[]};case"RELOAD_VISUAL_SEARCH_ANNOTATIONS":let r,n;return r=e,n=t.payload.pinId,{...r,visualSearches:{...r.visualSearches,[n]:[]}};case"UPDATE_CURRENT_SEARCH":{let{query:a,scope:r}=t.payload;return tC(e,r,a)}case"UPDATE_RECENT_SEARCHES":{let{query:a,scope:r}=t.payload;return tP(e,r,a)}case"UPDATE_RECENT_SEARCHES_BATCH":{let{data:a}=t.payload;return{...e,recentSearches:a.slice(0,tR._9)}}case"UPDATE_TYPEAHEAD_CACHE":{let{items:a,term:r,recent_queries_tags:n}=t.payload;return tv(e,r,n,a)}default:return e}},tN={},tD=new Set(["BoardResource","PinResource","RepinResource"]),tL=(e,t)=>{switch(e=e||tN,t.type){case"REPLACE_STATE":return{...e,...t.payload.session};case"SET_LOGIN_SIGNUP_FROM":if(t.payload.from!==e.loginSignupFrom)return{...e,loginSignupFrom:t.payload.from};return e;case"SET_UNAUTH_SAVE_PIN_ID":return{...e,unauthSavePinId:t.payload.unauthSavePinId};case"DISMISS_UNAUTH_SAVE":return{...e,unauthSavePinId:void 0};case"COMPLETE_UNAUTH_SAVE_ACTION":return{...e,hasSavedUnauthPin:!0};case"AUTHENTICATE_USER":case"REGISTER_USER":return{...e,isAuthenticated:!0,userId:t.payload.user.id};case"SET_VIEWED_IMAGE":let{viewedImageSignature:a}=t.payload,{viewedImages:r}=e,n=[a].concat((r||[]).slice(0,10).filter(e=>e!==a));return{...e,viewedImages:n};case"SET_VIEWED_SHARED_PINS":return{...e,viewedSharedPins:t.payload.pins};case"SHOW_BIZ_NUX_HOMEFEED_LOADER":return{...e,isBizNuxHomefeedLoadShown:t.payload};case"SHOW_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!0};case"HIDE_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!1};case"SHOW_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!0};case"HIDE_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!1};case"SET_NUM_SIGNUP_STEPS":return{...e,numSignupSteps:t.payload.steps};case"HIDE_NAV_FOOTER":return{...e,shouldHideNavBar:!0};case"SHOW_NAV_FOOTER":return{...e,shouldHideNavBar:!1};case"BOARD_DELETE":case"BOARD_SECTION_DELETE":case"PIN_DELETE":return{...e,isProfilePinsStale:!0};case"CREATE_COMPLETE":let{resource:s}=t.payload;return tD.has(s)?{...e,isProfilePinsStale:!0}:e;case"SET_OWN_PROFILE_PINS_REFRESH":return{...e,isProfilePinsStale:!1};case"DISMISS_UNAUTH_APP_UPSELL":return{...e,unauthInterstitialDismissed:!0};case"LOGGED_OUT_USER_INFO_FOUND":return{...e,loggedOutUserInfo:t.payload};case"LOGGED_OUT_USER_INFO_NOT_FOUND":return{...e,loggedOutUserInfo:null};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":if(e.isAuthenticated)return{...e,firstHomeFeedRequestAfterNux:t.payload};return e;case"SET_LANDING_PAGE_TYPE":return{...e,landingPageType:t.payload};default:return e}},tw=(e,t)=>{if(e=e||{},t.type===eA.zP||t.type===eA.aW){let{payload:{response:a,resource:r,options:n={}}}=t;if("CountriesResource"===r)return{...e,countryOptions:a.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("LocalesResource"===r)return{...e,localeOptions:a.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("ApiResource"===r&&"/v3/settings/news/"===n.url)return{...e,newsSettings:a.resource_response.data};if("ApiResource"===r&&"/v3/settings/push/"===n.url)return{...e,pushSettings:a.resource_response.data}}if("SETTINGS_CHANGE"===t.type){let{id:a,value:r}=t.payload,{newsSettings:n,pushSettings:s}=e,o=n?.map(e=>(e.options=e.options.map(e=>(e.id===a&&(e.value=r),e)),e))??[],i=s?.map(e=>(e.options=e.options.map(e=>(e.id===a&&(e.value=r),e)),e))??[];return{...e,newsSettings:o,pushSettings:i}}return e},tb=e=>e.trim().toLowerCase(),tU=(0,em.Z)("stories",(e,t)=>{switch(e=e||{},t.type){case eA.AF:case eA.aW:if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let{name:a,board_id:r}=t.payload.options??{};return(({state:e,boardId:t,name:a})=>{let r=tb(a);return Object.keys(e).reduce((a,n)=>{let s=e[n];return{...a,[n]:"section_title_recommendations"===s.story_type&&s?.objects?.find(e=>"board"===e.schema&&e.id===t)?{...s,objects:s.objects?.filter(e=>"board_section_name_recommendation"!==e.type||tb(e.name||"")!==r)}:s}},{})})({state:e,boardId:r,name:a})}return e;case eA.zP:if("BoardsFeedResource"===t.payload.resource){let a=t.payload.response.resource_response.data.filter(e=>"story"===e.type).reduce((e,t)=>({...e,[t.id]:t}),{});return{...e,...a}}return e;default:return e}}),tG=(e,t)=>{switch(e=e||{},t.type){case eA.zP:case eA.aW:{let{response:a,resource:r}=t.payload,{data:n}=a.resource_response;if("StoryPinDraftsResource"===r){let t=(n||[]).filter(Boolean).reduce((e,t)=>(e[t.id]=t,e),{});return{...e,...t}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:a}=t.payload,r={...e};return delete r[a],r}default:return e}};var tM=a(834322);let tk={},tB=(e,t)=>{if(e=e||tk,t.type===eA.zP||t.type===eA.aW){let{response:{resource_response:{data:a}},resource:r}=t.payload;if(["RelatedArticlesResource","TodayTabInterestFeedResource","TodayTabResource"].includes(r)&&a){let t=a.reduce((e,t)=>((0,tM.Y_)(t)&&(e[t.id]=t),e),{});return{...e,...t}}if("TodayArticleResource"===r&&a?.id){let t={[a.id]:a};return{...e,...t}}if("TodayArticleFeedResource"===r&&a&&(0,tM.nx)(a)){let t=a.reduce((e,t)=>(Array.isArray(t.objects)&&t.objects.forEach(t=>{(0,tM.Y_)(t)&&(e[t.id]=t)}),e),{});return{...e,...t}}}return e},tF=(0,em.Z)("todayArticles",(e,t)=>(e=e||{},t.type,e)),tx=(e,t)=>({...e,[t.id]:{...e[t.id],...t}}),tV=(0,em.Z)("topics",(e,t)=>{switch(e=e||{},t.type){case"TOPIC_FOLLOW":let{payload:{id:a,value:r}}=t;return tx(e,{id:a,is_followed:r});case eA.zP:let{payload:{options:n,resource:s,response:o}}=t,i=o.resource_response.data,l="ApiResource"===s&&n?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//);if(("PinInterestsResource"===s||l)&&i?.length)return i.reduce((e,t)=>tx(e,t),e);return e;default:return e}}),tH=(0,em.Z)("triedits",(e,t)=>(e=e||{},t.type,e));var tY=a(793746),tj=a(143426);let tW={vmpBannerLastDismissedAt:{},vmpWelcomeBannerDismissCount:{},vmpCelebrationBannerDismissed:{}};function tZ(e,t){if(e=e||tW,t.type!==eA.zP)return e;{let{payload:{response:a,resource:r,options:n}}=t,s=a.resource_response.data,o=n?.userId||"";return"VerifiedMerchantResource"===r&&s?{...e,[o]:s}:e}}function t$({viewingUser:e}){return{adminUser:s,articles:eR,billing:ef,boards:ev,boardsections:eL,businessAccess:eT,businessNux:eb,underageConfirmation:n,changeBoardFromToast:eG,contactRequests:eM,createBoardUpsell:eB,currentUserTracker:S,desktopStories:eH,didItData:e$,experiences:y.D,experiencesMulti:y.G,explore:ez,feeds:eq.Z,flashlight:eK,guidance:R,homefeedTabUI:eQ,inbox:eX,invites:eJ.Z,marketingPlan:e1,modules:e4,mostRecentBoard:e2,notifications:e3,pinbuilder:to,pinbuilderMobile:tl,pinNavContext:td,pins:tc.Z,productFilters:tu,promotionsUpsell:tp,reactions:tE,resources:f.Z,scheduledPins:tT,search:tO,session:tL,settings:tw,stories:tU,storyPinData:tG,todayarticles:tB,todayArticles:tF,topics:tV,triedits:tH,ui:tY.rh,users:(0,tj.ZP)(e),verifiedMerchants:tZ,upsell:w}}},871962:function(e,t,a){a.d(t,{U:()=>n,Z:()=>o});var r=a(427002);let n=e=>`${e.board}:${e.invited_user??""}`,s=(e,t)=>({...e,[n(t)]:{...e[n(t)],...t,invited_user:t.invited_user??e[n(t)].invited_user}}),o=(0,r.Z)("collaboratorinvite",(e,t)=>{switch(e=e||{},t.type){case"BOARD_COLLABORATOR_DELETE":return s(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:a,viewingUser:r,status:o,collaboratingUsers:i}=t.payload;return i.map(e=>e?.id).filter(Boolean).reduce((e,t)=>{let i={access:["delete"],board:a,invited_user:t,invited_by_user:r,status:o,type:"collaboratorinvite"},l=n(i);return e[l]&&"not_invited"!==e[l].status?e:s(e,i)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return s(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let l=t.payload.isRequestToJoin?"accepted":"new";return s(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id??"",status:l});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=n({board:t.payload.boardId,invited_user:t.payload.userId}),{[d]:c,...u}=e;return u;default:return e}})},497223:function(e,t,a){a.d(t,{E:()=>n,Z:()=>s});var r=a(730056);let n={pinAdditionalNote:"",pinAdditionalNoteError:null,description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]},s=(e,t)=>{switch(e=e||n,t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":{let{pinItem:a}=t.payload;return{...e,...a,signals:{...e.signals,...a?.signals}}}case"PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:a}=t.payload;return{...e,pinTagIds:[...e.pinTagIds,a]}}case"PIN_ITEM_REMOVE_PIN_TAG":{let{pinTagId:a}=t.payload;return{...e,pinTagIds:e.pinTagIds.filter(e=>e!==a)}}case"PIN_ITEM_SET_DESCRIPTION":{let{description:a}=t.payload;return{...e,description:a}}case"PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:a,signals:r}=t.payload;return{...e,descriptionError:a,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_IS_TAGGABLE":{let{isTaggable:a}=t.payload;return{...e,isTaggable:a}}case"PIN_ITEM_SET_LINK":{let{link:a}=t.payload;return{...e,link:a}}case"PIN_ITEM_SET_LINK_ERROR":{let{linkError:a,signals:r}=t.payload;return{...e,linkError:a,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_MEDIA":{let{media:a}=t.payload,r=a?.type!=="localVideo"&&(!!a&&!e.link||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:a,...null===a?{originalMedia:null}:{},pinTagIds:[],selectedPinTagId:null}}case"PIN_ITEM_UPDATE_MEDIA":{let{media:a}=t.payload;return{...e,media:e.media?(0,r.Z)(e.media,a):null}}case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:a}=t.payload;return{...e,selectedPinTagId:a}}case"PIN_ITEM_SET_TAG_ERROR":{let{tagError:a}=t.payload;return{...e,tagError:a}}case"PIN_ITEM_SET_TITLE":{let{title:a}=t.payload;return{...e,title:a}}case"PIN_ITEM_SET_TITLE_ERROR":{let{titleError:a,signals:r}=t.payload;return{...e,titleError:a,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:a,canvasJson:r}=t.payload;return{...e,media:a,originalMedia:e.originalMedia||e.media,canvasJson:r}}default:return e}}},802844:function(e,t,a){a.d(t,{Z:()=>R});var r=a(422578),n=a(172045),s=a(360033),o=a(730056),i=a(184661),l=a(176783),d=a(427002),c=a(834322);let u=e=>e||[],_=e=>e?e.reduce((e,t)=>t?.objects?e.concat(t.objects):e.concat([t].filter(Boolean)),[]):[],p=e=>e&&Array.isArray(e)?e.map(e=>e.content_pin).filter(e=>!!e):[],E={ApiResource:e=>{if(e&&Array.isArray(e)){let t=[];return e.forEach(e=>{e.call_to_create_source_pin_id?t.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)?e.objects.forEach(e=>{t.push(e)}):"pin"===e.type&&t.push(e)}),t}return[]},BaseSearchResource:e=>e?_(e.results):[],BoardContentRecommendationResource:u,BoardFeedResource:u,BoardlessPinsResource:u,BoardSectionPinsResource:u,BoardShopSavedProductsFeedResource:u,BrandCatalogFeedResource:u,CategoryFeedResource:u,DomainFeedResource:u,InterestResource:e=>e?e.results:[],LiveSessionProductsResource:e=>e?Object.values(e).reduce((e,t)=>e.concat(t),[]):[],NewsHubDetailsResource:e=>e?e.reduce((e,t)=>t.content_items?e.concat(t.content_items.map(e=>e.content_object).filter(Boolean)):e,[]):[],RelatedModulesResource:_,RelatedPinFeedResource:u,RelatedStreamResource:u,SearchResource:u,TaggedObjectsResource:_,TodayArticleFeedResource:e=>(0,c.nx)(e)?e.reduce((e,t)=>{if(Array.isArray(t.objects)){let a=[];return t.objects.forEach(e=>{"todayarticle"===e.type&&e.content_pin?.type==="pin"?a.push(e.content_pin):"pin"===e.type&&a.push(e)}),e.concat(a)}return e},[]):e||[],TodayTabInterestFeedResource:p,TodayTabResource:p,TopicFeedResource:u,UserHomefeedResource:_,UserActivityPinsResource:u,UserRecentActivityResource:u,UserStoryPinsFeedResource:u,UserPinsResource:u,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:u,VisualLinkVisualSearchResource:u,VisualSearchFlashlightUnifiedResource:e=>e?_(e.results):[],BestPinsFeedAltResource:u,StoryFeedResource:_};var S=a(74259);let y=(e,t,a=!1)=>{let r=(0,o.Z)(e,t,a?(e,t)=>null===t?e:void 0:void 0);return(0,s.ZP)(e,r)?e:r},T=(e,t)=>({...e,[t.id]:{...e[t.id]||{},...t}});function m(e,t){let a=(0,S.Ig)();switch(t.type){case"CHANGE_CAROUSEL_SLOT_INDEX":{let{id:a,index:r}=t.payload;if(a===e.id&&e.carousel_data)return{...e,carousel_data:{...e.carousel_data,index:r}};return e}case"SET_PIN_COMMENTS_DISABLED":{let{id:a,pinCommentsDisabled:r}=t.payload;if(a===e.id)return{...e,comments_disabled:r,is_eligible_for_aggregated_comments:!r};return e}case"PIN_SAVE":{let{boardId:n,localPinId:s,id:o,title:i,url:l,nodeId:d}=t.payload;if(o===e.id)return a&&d&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(d);t||(t=e.create(d,"Pin"));let a=t.getOrCreateLinkedRecord("savedInfo","SaveTarget");a.setValue(n,"boardId"),a.setValue(s,"localPinId"),a.setValue(null,"score"),a.setValue(null,"sectionId"),a.setValue__UNSAFE(i,"title"),a.setValue(null,"type"),a.setValue(l,"url")}),{...e,savedInfo:{boardId:n,title:i,url:l,localPinId:s}};return e}case"PIN_UNSAVE":{let{id:n,nodeId:s}=t.payload;if(n===e.id){a&&s&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(s);t&&t.setValue(null,"savedInfo")});let{savedInfo:t,...n}=e;return n}return e}case"PIN_SHOW_SUGGESTED_CREATOR_RECS":if(t.payload.id===e.id)return{...e,show_suggested_creator_recs:t.payload.value};return e;case"PIN_QUICK_SAVE":{let{pinId:n,boardId:s,localPinId:o,title:i,url:l,nodeId:d}=t.payload;if(n===e.id)return a&&d&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(d);t||(t=e.create(d,"Pin"));let a=t.getOrCreateLinkedRecord("savedInfo","SaveTarget");a.setValue(s,"boardId"),a.setValue(o,"localPinId"),a.setValue(null,"score"),a.setValue(null,"sectionId"),a.setValue__UNSAFE(i,"title"),a.setValue(null,"type"),a.setValue(l,"url")}),{...e,savedInfo:{boardId:s,localPinId:o,title:i,url:l}};return e}case"PIN_SHOW_FEEDBACK":{let{id:s,value:o,text:i,nodeId:l}=t.payload;if(s===e.id)return a&&l&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(l);t||(t=e.create(l,"Pin")),t.setValue(o,"showFeedback");let a=t.getOrCreateLinkedRecord("feedbackText","FeedbackText");a.setValue__UNSAFE(i?.title,"title"),a.setValue__UNSAFE(i?.subTitle,"subTitle");let{unfollow:r,undoCallbackProps:s}=i??{},d=a.getOrCreateLinkedRecord("unfollow","Unfollow");d.setValue(r?.action,"action"),d.setValue__UNSAFE(r?.title,"title"),d.setValue__UNSAFE(r?.subTitle,"subTitle");let c=a.getOrCreateLinkedRecord("undoCallbackProps","UndoCallbackProps");c.setValue(s?.action,"action"),c.setValue(s?.viewType,"viewType"),c.setValue(s?.viewParameter,"viewParameter");let u=(t,a)=>{let r=t.getOrCreateLinkedRecord("actionOptions","ActionOptions");if(r.setValue(a?.board_id,"boardId"),r.setValue(a?.interest_id,"interestId"),r.setValue(a?.interest_list,"interestList"),r.setValue(a?.complaint_reason,"complaintReason"),r.setValue(a?.feedback_type,"feedbackType"),r.setValue(a?.pin_id,"pinId"),r.setValue(a?.pin_type,"pinType"),r.setValue(a?.pin,"pin"),r.setValue(a?.promoted,"promoted"),r.setValue(a?.recommendation_reason_id,"recommendationReasonId"),r.setValue(a?.undo,"undo"),r.setValue(a?.user_id,"userId"),r.setValue(a?.query,"query"),r.setValue(a?.news_id,"newsId"),r.setValue(a?.through_id,"throughId"),r.setValue(a?.client_tracking_params,"clientTrackingParams"),r.setValue(a?.is_third_party_ad,"isThirdPartyAd"),a?.through_properties){let t=Object.entries(a.through_properties).map(([t,a])=>{let r=e.create((0,n.Z)(),"ThroughProperties");return r?.setValue(a,"data"),r?.setValue(t,"key"),r});r.setLinkedRecords(t,"throughProperties")}};u(d,r?.actionOptions),u(c,s?.actionOptions)}),{...e,showFeedback:o,feedbackText:i};return e}case"PIN_UPDATE_COMMENT_COUNT":{let{id:a,increment:r}=t.payload;if(a===e.id&&e.aggregated_pin_data){let t={...e.aggregated_pin_data,comment_count:(e.aggregated_pin_data.comment_count||0)+r};return{...e,aggregated_pin_data:t}}return e}case"PIN_DID_IT":{let{id:a,value:r}=t.payload;if(a===e.id){let t=(e.aggregated_pin_data||{}).did_it_data,a={...t,images_count:(t?.images_count||0)+(r?1:-1)},n={...e.aggregated_pin_data,did_it_data:a};return{...e,aggregated_pin_data:n,done_by_me:r}}return e}case"PIN_SHOW_FEEDBACK_OVERLAY":{let{id:n,value:s,nodeId:o}=t.payload;if(n===e.id)return a&&o&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(o);t||(t=e.create(o,"Pin")),t.setValue(s,"showFeedbackOverlay")}),{...e,showFeedbackOverlay:s};return e}case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":if(t.payload.id===e.id)return{...e,show_fewer_weight_loss_ads:t.payload.value};return e;case"APPROVE_PIN_SPONSORSHIP":{let{isApproved:a,pinId:r}=t.payload;if(r===e.id)return{...e,sponsorship:{...e.sponsorship,sponsor:a?e.sponsorship?.sponsor:void 0,status:a?1:2}};return e}case"DELETE_PIN_SPONSORSHIP":{let{pinId:a,userId:r}=t.payload;if(a===e.id){if(r===e.sponsorship?.creator?.id)return{...e,sponsorship:void 0};else if(r===e.sponsorship?.sponsor?.id)return{...e,sponsorship:{...e.sponsorship,sponsor:void 0,status:3}}}return e}case"PIN_UPDATE_REACTION_COUNT":{let{id:a,increment:r,reactionType:n}=t.payload;if(a===e.id){let{reaction_counts:t={}}=e,a=t[n]||0,s=r?a+1:Math.max(a-1,0),o=r?n:0;if(0!==s)return{...{...e,reaction_counts:{...t,[n]:s},reaction_by_me:o}};{let a={...e,reaction_counts:{...t},reaction_by_me:o};return delete a.reaction_counts[n],{...a}}}return e}case"PIN_BETTER_SAVE":{let{pinId:n,boardId:s,localPin:o,localPinId:i,sectionId:l,title:d,type:c,url:u,nodeId:_}=t.payload;if(n===e.id)return a&&_&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(_);t||(t=e.create(_,"Pin"));let a=t.getOrCreateLinkedRecord("savedInfo","SaveTarget");a.setValue(s,"boardId"),a.setValue(i,"localPinId"),a.setValue(null,"score"),a.setValue(l,"sectionId"),a.setValue__UNSAFE(d,"title"),a.setValue(c,"type"),a.setValue(u,"url")}),{...e,savedInfo:{boardId:s??"",localPinId:i||o&&o.id,sectionId:l,title:d,type:c,url:u}};return e}case"PIN_BETTER_SAVE_CUTOUT":{let{pinId:n,boardId:s,localPinId:o,title:i,type:l,url:d,nodeId:c}=t.payload;if(n===e.id)return a&&c&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(c);t||(t=e.create(c,"Pin"));let a=t.getOrCreateLinkedRecord("savedCutout","SaveTarget");a.setValue(s,"boardId"),a.setValue(o,"localPinId"),a.setValue__UNSAFE(i,"title"),a.setValue(l,"type"),a.setValue(d,"url")}),{...e,savedCutout:{boardId:s??"",localPinId:o,title:i,type:l,url:d}};return e}case"PIN_BETTER_UNSAVE":{let{pinId:n,nodeId:s}=t.payload;if(n===e.id){a&&s&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(s);t&&t.setValue(null,"savedInfo")});let{savedInfo:t,...n}=e;return n}return e}case"PIN_BETTER_UNSAVE_CUTOUT":{let{pinId:n,nodeId:s}=t.payload;if(n===e.id){a&&s&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(s);t&&t.setValue(null,"savedCutout")});let t={...e};return delete t.savedCutout,{...t}}return e}case"PIN_BETTER_SELECT_BOARD_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":{let{pinId:n,boardId:s,sectionId:o,score:i,title:l,type:d,url:c,nodeId:u}=t.payload;if(n===e.id)return a&&u&&(0,r.commitLocalUpdate)(a,e=>{let t=e.get(u);t||(t=e.create(u,"Pin"));let a=t.getOrCreateLinkedRecord("selectedItem","SaveTarget");a.setValue(s,"boardId"),a.setValue(null,"localPinId"),a.setValue(i,"score"),a.setValue(o,"sectionId"),a.setValue__UNSAFE(l,"subTitle"),a.setValue(d,"type"),a.setValue(c,"url")}),{...e,selectedItem:{boardId:s??"",sectionId:o,score:i,title:l,type:d,url:c}};return e}case"DELETE_PIN_MENTION":{let{pinId:a,userId:r}=t.payload;if(a===e.id){let{story_pin_data:t}=e;if(!t)return e;let{pages:a=[]}=t,n=a.map(e=>{let{blocks:t=[]}=e,a=t.map(e=>e.type===l.h8.MENTION_STICKER&&e.user_id===r?{...e,is_removed:!0}:e);return{...e,blocks:a}});return{...{...e,story_pin_data:{...t,pages:n}}}}return e}case"PIN_FAVORITE":{let{id:a,increment:r,value:n}=t.payload,{favorite_user_count:s=0}=e;if(a===e.id)return{...e,favorited_by_me:n,favorite_user_count:s+r};return e}default:return e}}let R=(0,d.Z)("pins",(e,t)=>{let a=e||{},n=(0,S.Ig)();switch(t.type){case i.zP:case i.aW:{let{options:e,resource:r,response:{resource_response:{data:n}}}=t.payload,{isDesktop:s}=e||{};if(r in E){let e=E[r](n)||[],t={...a};return e.forEach(e=>{if(!e.type||"pin"===e.type){let r="Magnite"===e.promoted_partnership_attribution_name;e.is_third_party_ad&&r&&!e.is_video&&e.videos?.video_list&&(e.is_video=!0),t[e.id]=y(a[e.id],e,!0)}}),t}if(("PinResource"===r||"PinPageResource"===r)&&n){let{preserve_component_state:t=!1}=e??{},r=n||{};return{...a,[r.id]:t?y(r,a[r.id]):y(a[r.id],r)}}if("ApiResource"===r&&e?.url?.match(/\/v3\/pins\/([0-9]|[a-z]|[A-Z])+\/board_title_suggestions\//)){if(t.type===i.zP&&t.payload.options?.pin_id)return T(a,{id:t.payload.options.pin_id,boardTitleSuggestions:t.payload.response.resource_response.data.map(e=>e.title)})}else if("BoardPickerBoardsResource"!==r||s){if("PinInterestsResource"===r){if(t.type===i.zP&&t.payload.options?.pinId){let{options:e,response:r}=t.payload,n=r.resource_response.data;if(n?.length)return T(a,{id:e.pinId,related_interest_ids:n.map(e=>e.id)})}}else if("StoryPinTaggedProductsResource"===r&&t.type===i.zP){let{response:e}=t.payload,r=e.resource_response.data;if(r?.[0])return r.reduce((e,t)=>T(e,t),a)}}else if(t.type===i.zP&&t.payload.normalizedResponse&&t.payload.options?.pin_id){let e=t.payload.options.pin_id,{boards_shortlist:r}=t.payload.normalizedResponse.result;return T(a,{id:e,boards_shortlist:r})}return a}case i.AF:let{payload:s}=t,o=({name:e,url:t,privacy:a,boardNodeId:s,boardId:o,nodeId:i})=>{n&&i&&(0,r.commitLocalUpdate)(n,r=>{let n=r.get(i);n||(n=r.create(i,"Pin")),a&&n.setValue(a,"privacy");let l=r.get(s);l||((l=r.create(s,"Board")).setValue(o,"entityId"),l.setValue(e,"name"),l.setValue(t,"url"),l.setValue("board","type")),n.setLinkedRecord(l,"pinnedToBoard")})};if("RepinResource"===s.resource){let{pin_id:e,board_id:t}=s.options,{board:r,images:n}=s.response.resource_response.data,{name:i,url:l,privacy:d,node_id:c}=r;return o({name:i,url:l,privacy:d,boardNodeId:c,nodeId:a?.[e]?.node_id,boardId:t}),T(a,{id:e,pinned_to_board:{id:t,name:i,url:l,node_id:c,type:"board"},privacy:d,...n&&!a?.[e]?.images?{images:n}:{}})}if("BoardResource"===s.resource&&s.options.initial_pins){let e=s.options.initial_pins[0],{name:t,id:r,url:n,node_id:i}=s.response.resource_response.data;return o({name:t,url:n,boardNodeId:i,nodeId:a?.[e]?.node_id,boardId:r}),T(a,{id:e,pinned_to_board:{id:r,name:t,url:n,node_id:i,type:"board"}})}return a;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":case"PIN_FAVORITE":case"PIN_UPDATE_REACTION_COUNT":{let{id:e}=t.payload;if(!a[e])return a;return{...a,[e]:m(a[e],t)}}case"PIN_BETTER_SAVE":{let{payload:{localPin:e,pinId:r,nodeId:n}}=t,s={...a};return e&&"pin"===e.type&&(s[e.id]=e),s[r]=m(a[r]??{id:r,node_id:n??void 0,type:"pin"},t),s}case"PIN_BETTER_SAVE_CUTOUT":{let{payload:{localPin:e,pinId:r,nodeId:n}}=t,s={...a};return e&&"pin"===e.type&&(s[e.id]=e),a&&(s[r]=m(a[r]??{id:r,node_id:n,type:"pin"},t)),s}case"PIN_BETTER_SELECT_BOARD_CUTOUT":{let{pinId:e,nodeId:r}=t.payload,n={...a};return a&&(n[e]=m(a[e]??{id:e,node_id:r,type:"pin"},t)),n}case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_UNSAVE_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":{let{pinId:e}=t.payload;if(!a[e])return a;return{...a,[e]:m(a[e],t)}}case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":{let{payload:{newPin:e}}=t;if(e&&"pin"===e.type)return{...a,[e.id]:e};return a}case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":{let{payload:{blocksIds:e,pinId:r}}=t,n={...a},s=n[r];return s={...s,story_pin_data:{...s.story_pin_data,pages:s.story_pin_data?.pages?.map(t=>(t.blocks=t.blocks?.map(t=>("story_pin_product_sticker_block"===t.type&&e.includes(t.pin_id||"")&&(t.is_removed=!0),t)),t))??[]}},n[r]=s,n}case"UPDATE_PIN_REACTION_COUNT":let{pinId:l,increment:d,reactionType:c}=t.payload;if(!a[l])return a;let u=a[l].reaction_counts??{},_=u[c]??0,p=d?_+1:Math.max(_-1,0);return 0===p?(delete a[l].reaction_counts?.[c],T(a,{id:l,reaction_counts:{...u}})):T(a,{id:l,reaction_counts:{...u,[c]:p}});case"PIN_DELETE":{let{pinId:e}=t.payload;return{...Object.keys(a).reduce((t,r)=>(r!==e&&(t[r]=a[r]),t),{})}}case"PIN_EDIT":{let{pinId:e,description:r,boardId:n,sectionId:s,title:o}=t.payload;return T(a,{id:e,closeup_user_note:r,board:{id:n,type:"board"},section:{id:s},title:o,unified_user_note:r})}case"ONE_TAP_SAVE":{let{boardId:e,localPinId:s,pinId:o,nodeId:i}=t.payload;if(a[o])return n&&i&&(0,r.commitLocalUpdate)(n,t=>{let a=t.get(i);a||(a=t.create(i,"Pin"));let r=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(e,"boardId"),r.setValue(s,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue__UNSAFE(null,"title"),r.setValue(null,"type"),r.setValue(null,"url")}),T(a,{id:o,savedInfo:{boardId:e,localPinId:s}})}return a;case"ONE_TAP_UNSAVE":{let{pinId:e,nodeId:s}=t.payload,o=a[e];if(!o)return a;n&&s&&(0,r.commitLocalUpdate)(n,e=>{let t=e.get(s);t&&t.setValue(null,"savedInfo")});let{savedInfo:i,...l}=o;return{...a,[e]:l}}default:return a}})},793746:function(e,t,a){a.d(t,{XT:()=>d,rh:()=>u,Cp:()=>c,xw:()=>_});var r=a(14890);let n={current:null,locationToErrorMap:{}},s={step:"welcome"},o={images:[]},i={images:[]},l={recentSaves:[],recentUpsell:{}},d={mainComponent:(e,t)=>{if(e=e||n,"SET_LOCATION_TO_ERROR_MAP_ENTRY"===t.type){let a={...e.locationToErrorMap};return a[t.payload.pathname]=t.payload.renderError,{...e,locationToErrorMap:a}}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===t.type){let a={...e.locationToErrorMap};return delete a[t.payload.pathname],{...e,locationToErrorMap:a}}return e}},c={nuxSelectedInterestImages:(e,t)=>(e=e||o,"SET_NUX_SELECTED_INTEREST_IMAGES"===t.type)?{...e,images:t.payload.images}:e,nuxSelectedPinImages:(e,t)=>(e=e||i,"SET_NUX_SELECTED_PIN_IMAGES"===t.type)?{...e,images:t.payload.images}:e,nuxProgress:(e,t)=>(e=e||s,"SET_NUX_PROGRESS"===t.type)?{...e,step:t.payload.step}:e,postRepinMoreIdeasUpsell:(e,t)=>{switch(e=e||l,t.type){case"PIN_BETTER_SAVE":{let{localPin:a,boardId:r}=t.payload;if(!a||!r)return e;return{...e,recentSaves:[{boardId:r},...e.recentSaves]}}case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":{let{boardId:a}=t.payload;return{...e,recentUpsell:{...e.recentUpsell,[a]:Date.now()}}}default:return e}}},u=(0,r.combineReducers)({...d,...c}),_=(0,r.combineReducers)(d)},143426:function(e,t,a){a.d(t,{ZP:()=>c});var r=a(184661),n=a(427002);let s=["SearchResource","UserFollowingResource"],o=(e,t)=>({...e,[t.id]:{...e[`${t.id}`],...t}}),i=(e,t)=>t.reduce((e,t)=>{let{type:a}=t;return a&&"user"!==a?e:o(e,t)},{...e});function l(e,t){switch(t.type){case"UPDATE_USER_PIN_COUNT":{let{payload:{increment:a}}=t;return{...e,pin_count:(e.pin_count||0)+a}}case"USER_FOLLOW":let{value:a}=t.payload;return{...e,explicitly_followed_by_me:a,follower_count:(e.follower_count??0)+(a?1:-1)};case"USER_FOLLOWING_COUNT":let{following:r}=t.payload;return{...e,following_count:(e?.following_count??0)+(r?1:-1)};case"USER_BLOCK":return{...e,blocked_by_me:t.payload.value,...t.payload.value?{explicitly_followed_by_me:!1}:{}};default:return e}}function d(e){let t=(e&&e.id)??"";return{[t]:{...e||{},id:t}}}function c(e){let t=(e&&e.id)??"";return(0,n.Z)("users",(a=d(e),n)=>{let c=t?a[t]:void 0;switch(n.type){case"REPLACE_STATE":return{...a,...n.payload.users};case"BOARD_SECTION_DELETE":{let{userId:e,pinCount:t}=n.payload,r=a[e]?.pin_count??0;return o(a,{id:e,pin_count:r-t})}case r.AF:{let{options:e,resource:t,response:r}=n.payload,s=e.user_id;if(s){let{board_count:n=0,pin_count:i=0}=a[s]||{},{resource_response:l}=r;if("BoardResource"===t){let{initial_pins:t}=e,{owner:r={}}=l.data;return o(a,{id:s,pin_count:r.pin_count||i+t.length,board_count:n+1,last_repin_id:t[0]})}if("RepinResource"===t||"PinResource"===t&&"uploaded"===e.method){let{pin_id:r}=e,{pinner:n={}}=l.data;return o(a,{id:s,..."PinResource"===t&&{pin_count:(n.pin_count||i)+1},last_repin_id:r})}}return a}case r.zP:case r.aW:let{resource:u,normalizedResponse:_,options:p,response:{resource_response:{data:E}}}=n.payload;if(n.type===r.zP&&"BoardPickerBoardsResource"===u&&_)return o(a,{id:p?.user_id||"",recent_boards:_.result.boards_shortlist});if("UserResource"===u&&E)return o(a,E);if(s.includes(u)&&E)return i(a,E);if("TodayArticleResource"===u&&E?.article_creator_user)return o(a,E.article_creator_user);if("TodayArticleFeedResource"===u&&Array.isArray(E))return i(a,E.filter(e=>"story"===e.type&&e.user?.type==="user").map(e=>e.user));return a;case"USER_BLOCK":let{payload:{id:S}}=n;if(a[S])return{...a,[S]:l(a[S],n)};return a;case"USER_FOLLOW":let{payload:{id:y}}=n;if(a[y])return{...a,[y]:l(a[y],n)};return a;case"USER_FOLLOWING_COUNT":let{payload:{id:T}}=n;if(a&&a[T])return{...a,[T]:l(a[T],n)};return a;case"USER_BULK_FOLLOW":let{ids:m,value:R}=n.payload,f={...a};return m.forEach(e=>{let t=a[e];f[e]={...t,explicitly_followed_by_me:R}}),f;case"USER_SETTING_CHANGE":return o(a,{id:n.payload.id,[n.payload.field]:n.payload.value});case"USER_PARTNER_SETTING_CHANGE":let A;return A={id:n.payload.id,partner:{[n.payload.field]:n.payload.value}},{...a,[A.id]:{...a[A.id],partner:{...a[A.id].partner,...A.partner}}};case"UPDATE_USER_PIN_COUNT":{let{payload:{userId:e}}=n;if(a[e])return{...a,[e]:l(a[e],n)};return a}case"UPDATE_USER_SCHEDULED_PIN_COUNT":{let{payload:{userId:e,increment:t}}=n,r=a[e],s=r.scheduled_pin_count||0;return{...a,[e]:{...r,scheduled_pin_count:s+t}}}case"PROFILE_COVER_SOURCE":let{payload:{coverSource:g,id:I}}=n,h=a[I]||{};return{...a,[I]:{...h,profile_cover:g}};case"BOARD_CREATE_COMPLETE":if(c&&!c.has_quicksave_board)return{...a,[c.id]:{...c,board_count:void 0===c.board_count?void 0:c.board_count+1}};return a;case"BOARD_DELETE":if(c){let{boardPinCount:e}=n.payload,t=c.pin_count??0;return{...a,[c.id]:{...c,board_count:c.board_count?c.board_count-1:c.board_count,pin_count:t-(e??0)}}}return a;case"PIN_DELETE":return o(a,{id:n.payload.userId,pin_count:(a[n.payload.userId]?.pin_count??0)-1});case"PIN_ADD":let{pinnerId:C}=n.payload;return o(a,{id:C,pin_count:(a[C]?.pin_count??0)+1});case"SET_PERSONALIZATION_COOKIES":if(c){let{payload:e}=n;return{...a,[c.id]:{...c,allow_personalization_cookies:e.value}}}return a;case"SET_ANALYTICS_COOKIES":if(c){let{payload:e}=n;return{...a,[c.id]:{...c,allow_analytic_cookies:e.value}}}return a;case"SET_MARKETING_COOKIES":if(c){let{payload:e}=n;return{...a,[c.id]:{...c,allow_marketing_cookies:e.value}}}return a;case"ALLOW_ALL_COOKIES":if(c)return{...a,[c.id]:{...c,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0}};return a;case"REJECT_ALL_COOKIES":if(c)return{...a,[c.id]:{...c,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1}};return a;case"AUTHENTICATE_USER":case"REGISTER_USER":let P=n.payload.user.id;return t=P,{...a,[P]:{...a[P],...n.payload.user}};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":let v=n.payload;if(c&&c.firstHomeFeedRequestAfterNux!==v)return{...a,[c.id]:{...c,firstHomeFeedRequestAfterNux:v}};return a;case"UPDATE_USER_SET":if(c){let e=n.payload.partner?{...c.partner,...n.payload.partner}:c.partner;return{...a,[c.id]:{...c,...n.payload,partner:e}}}return a;case"UPDATE_USER_SOCIAL_NETWORK":if(c){let e=n.payload.socialNetworkName;return{...a,[c.id]:{...c,[`connected_to_${e}`]:n.payload.connected}}}return a;case"UPDATE_HAS_QUICKSAVE_BOARD":let{createdQuicksaveBoard:O}=n.payload;if(c&&c.has_quicksave_board!==O){let{createdQuicksaveBoard:e}=n.payload;return{...a,[c.id]:{...c,has_quicksave_board:e}}}return a;case"UPDATE_USER_SAVE_BEHAVIOR":let{saveBehavior:N}=n.payload;if(c&&c.save_behavior!==N)return{...a,[c.id]:{...c,save_behavior:N}};return a;case"USER_DOMAIN_VERIFIED":if(c&&c.verified_user_websites){let{verifiedWebsite:e}=n.payload;return{...a,[c.id]:{...c,verified_user_websites:[...c.verified_user_websites,e],is_any_website_verified:!0}}}return a;case"USER_DOMAIN_UNVERIFIED":if(c&&c.verified_user_websites){let{verifiedWebsite:e}=n.payload,t=c.verified_user_websites&&c.verified_user_websites.indexOf(e),r=c.verified_user_websites&&c.verified_user_websites.slice(0);return r&&r.splice(t,1),{...a,[c.id]:{...c,verified_user_websites:r,isAnyWebsiteVerified:r&&r.length>0}}}return a;default:return a}})}},32214:function(e,t,a){function r(e){let{users:t}=e;if(!t)return;let a=Object.keys(t).find(e=>void 0!==t[e].login_state);return a?t[a]:void 0}a.d(t,{Z:()=>r})},590940:function(e,t,a){a.d(t,{Z:()=>n});var r=a(978097);function n(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},701943:function(e,t,a){function r(){return{}}a.d(t,{kr:()=>r}),a.g.__AsyncLocalStorage__&&new a.g.__AsyncLocalStorage__},810752:function(e,t,a){function r(e){let[t,a]=e.split(/\/(.*)+/);return{filepath:a||"",site:t||""}}function n(e,t){return t?`${e||""}/${t}`:`/${e||""}`}a.d(t,{ac:()=>r,ke:()=>n})},503387:function(e,t,a){a(418282),a(767415),a(638353),e=a.hmd(e)},314551:function(e,t,a){let r;a.d(t,{Z:()=>e2});var n=a(667294),s=a(620745),o=a(312048),i=a(802617),l=a(767415),d=a(484243),c=a(617120),u=a(183230),_=a(178355);class p extends Error{constructor(e){super(`Unexpected nested index.js found at "${e}". Create a file with the name for the path that you want instead "${e.replace(/index\.js$/,"")}.js"`)}}var E=a(167912),S=a(244311),y=a(549760),T=a(74259),m=a(810752),R=a(969809),f=a(547314),A=a(496807);let g=["web_sw_specify_hostname","web_sw_with_early_hydration","www_isolated_build","web_install_sw_on_unauth_landing","web_sw_without_workbox","delta_compressed_mjs","web_sw_serve_locales"],I=["web_sw_specify_hostname","web_sw_with_early_hydration","www_isolated_build","web_install_sw_on_unauth_landing","web_sw_without_workbox","delta_compressed_mjs","web_sw_serve_locales"],h=e=>/webapp\/.*\.m?js$/.test(e),C=e=>/webapp\/.*\.css$/.test(e);async function P({didLoadNewFiles:e,files:t=[],handlerId:a,isAuthenticated:r,isInitialLoad:n,country:s}){let o=a===(0,_.H)(),i=(0,R.Z)(s),l={didLoadNewFiles:e,handler:a,isCurrentHandler:o,isAuthenticated:r,isInitialLoad:n,serviceWorker:(0,A.Z)()?"true":"false"};if((0,f.El)({eventName:"pws.clientLoader.cacheHits",value:1,tags:l,sampleRate:1,annotateExperiments:I}),window.performance&&window.performance.getEntriesByType){(0,d.Z)("logCacheHitsStart");let e=[];n?function({resourceEntries:e,tags:t,sampleRate:a}){let r=e=>/webapp\/.*\.m?js$/.test(e),n=new Set(e.filter(e=>r(e.name)).map(e=>e.name)),s=Array.from(document.querySelectorAll("script[src]")).map(e=>e.src).filter(e=>r(e)),o=s.filter(e=>!n.has(e)),i=e.length;(0,f.yI)({eventName:"pws.clientLoader.debug.domScriptCount",value:s.length,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.yI)({eventName:"pws.clientLoader.debug.resourceTimingScriptCount",value:n.size,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.yI)({eventName:"pws.clientLoader.debug.missingFromTimingsCount",value:o.length,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.yI)({eventName:"pws.clientLoader.debug.totalResourceBufferSize",value:i,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.El)({eventName:"pws.clientLoader.debug.isAtBufferCapacity",value:1,tags:{...t,isAtBufferCapacity:i>=150,isAtLegacyLimit:i>=150,isAtModernLimit:i>=250},sampleRate:a,annotateExperiments:g});let l=e.filter(e=>r(e.name)),d=0,c=0,u=0;l.forEach(e=>{let t=e.workerStart&&e.workerStart>0,a=0===e.transferSize;0===e.responseStart&&(d+=1),a&&t?c+=1:a&&!t&&(u+=1)}),(0,f.yI)({eventName:"pws.clientLoader.debug.taoRestrictedCount",value:d,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.yI)({eventName:"pws.clientLoader.debug.swInterceptedZeroTransfer",value:c,tags:t,sampleRate:a,annotateExperiments:g}),(0,f.yI)({eventName:"pws.clientLoader.debug.nonSwZeroTransfer",value:u,tags:t,sampleRate:a,annotateExperiments:g})}({resourceEntries:e=window.performance.getEntriesByType("resource"),tags:l,sampleRate:1}):e=window.performance.getEntriesByType("resource").filter(e=>!!t.find(t=>e.name.endsWith(t)));let a=(0,c.bC)(),r=a?.precacheDataPromise,s={},u=[],_={};if(r)try{let{storageInfo:e,cacheHitData:t}=await r;(0,d.Z)("endGetDataFromServiceWorkerPromise"),s=e,u=t,_=function(e){if(!e)return{};let t=Object.entries(e).filter(([,e])=>e?.evictionType==="cacheEviction"&&e?.cacheDelta!==void 0);if(t.length>=1){let e=t.sort(([,e],[,t])=>{let a=Math.abs(e.cacheDelta);return Math.abs(t.cacheDelta)-a})[0];if(e){let a,[r,n]=e,s=parseInt(r,10);if(s<2e4){let e=500*Math.floor(s/500);a=`${e}-${e+499}`}else a="over20s";return{hasSingleCacheEviction:1===t.length,hasMultipleCacheEvictions:t.length>1,cacheEvictionCount:t.length,cacheEvictionTimeBucket:a,isPrecacheWipe:!!n.isPrecacheWipe}}}return{hasSingleCacheEviction:!1,hasMultipleCacheEvictions:!1,cacheEvictionCount:0}}(s)}catch(e){(0,f.El)({eventName:"pws.clientLoader.cacheHits.precacheDataPromise.error",value:1,tags:l,sampleRate:1,annotateExperiments:I})}else(0,f.El)({eventName:"pws.clientLoader.cacheHits.precacheDataPromise.notFound",value:1,tags:l,sampleRate:1,annotateExperiments:I});u.forEach(e=>{let t=e.slice(e.lastIndexOf("/")+1),a=t.slice(0,t.lastIndexOf("-"));(0,f.El)({eventName:`pws.clientLoader.precachedResource.${a}`,value:1,tags:{...l},sampleRate:1,annotateExperiments:I})});let p=0,E=0,S=0,y=0,T=0,m=0,R=0,A=0;e.forEach(e=>{if(!/\.mjs$/.test(e.name))return;if(E+=1,0===e.responseStart){S+=1;return}let t=e.name.slice(e.name.lastIndexOf("/")+1),a=t.slice(0,t.lastIndexOf("-")),r=a.replace(/^_+/,"").split("_")[0];p+=1;let n={...l,assetName:r||"unknown",assetFoundInPrecache:u.includes(t),outdatedAssetInPrecache:u.some(e=>e.startsWith(a))&&!u.includes(t),interceptedBySW:e.workerStart&&e.workerStart>0},s={...l,assetName:r||"unknown",region:i};e.workerStart&&e.workerStart>0&&(R+=1,(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepted",value:1,tags:n,annotateExperiments:I}),(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepted.tags",value:1,tags:s,annotateExperiments:I})),e.workerStart&&e.workerStart>0&&"fetch-event"!==e.workerFinalSourceType&&u.includes(t)&&(A+=1,(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMiss",value:1,tags:{...n,..._,isTransferSizeZero:0===e.transferSize},annotateExperiments:I}),(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMiss.tags",value:1,tags:{...s,..._,isTransferSizeZero:0===e.transferSize},annotateExperiments:I})),"number"==typeof e.transferSize&&e.transferSize>0?(y+=1,(0,f.El)({eventName:"pws.clientLoader.scripts.cacheMiss",value:1,tags:n,annotateExperiments:I}),(0,f.El)({eventName:"pws.clientLoader.scripts.cacheMiss.tags",value:1,tags:s,annotateExperiments:I})):0===e.transferSize&&e.workerStart&&e.workerStart>0&&"fetch-event"===e.workerFinalSourceType?(T+=1,(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHit",value:1,tags:n,annotateExperiments:I}),(0,f.El)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHit.tags",value:1,tags:s,annotateExperiments:I})):0===e.transferSize&&(m+=1,(0,f.El)({eventName:"pws.clientLoader.scripts.localCacheHit",value:1,tags:n,annotateExperiments:I}),(0,f.El)({eventName:"pws.clientLoader.scripts.localCacheHit.tags",value:1,tags:s,annotateExperiments:I}))}),"number"==typeof p&&(0,f.yI)({eventName:"pws.clientLoader.scripts.numScripts",value:p,tags:l,sampleRate:1,annotateExperiments:I}),"number"==typeof E&&(0,f.El)({eventName:"pws.clientLoader.scripts.numScriptsUnfiltered",value:E,tags:l,sampleRate:1,annotateExperiments:I}),"number"==typeof m&&((0,f.yI)({eventName:"pws.clientLoader.scripts.localCacheHits",value:m,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.yI)({eventName:"pws.clientLoader.scripts.localCacheHits.tags",value:m,tags:{...l,region:i},sampleRate:1,annotateExperiments:I})),"number"==typeof T&&((0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHits",value:T,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHits.tags",value:T,tags:{...l,region:i},sampleRate:1,annotateExperiments:I})),"number"==typeof y&&((0,f.yI)({eventName:"pws.clientLoader.scripts.cacheMisses",value:y,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.yI)({eventName:"pws.clientLoader.scripts.cacheMisses.tags",value:y,tags:{...l,region:i},sampleRate:1,annotateExperiments:I})),"number"==typeof R&&((0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepts",value:R,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepts.tags",value:R,tags:{...l,region:i},sampleRate:1,annotateExperiments:I})),"number"==typeof S&&(0,f.El)({eventName:"pws.clientLoader.scripts.skippedResourceTimings",value:S,tags:l,sampleRate:1,annotateExperiments:I}),"number"==typeof A&&((0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMisses",value:A,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.yI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMisses.tags",value:A,tags:{...l,region:i},sampleRate:1,annotateExperiments:I}));let h="";y===p?h="cold":0===y&&m+T===p?h="warm":(m>0||T>0)&&(h="partialWarm"),(0,f.El)({eventName:`pws.clientLoader.${h}Start`,value:1,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.El)({eventName:`pws.clientLoader.${h}Start.tags`,value:1,tags:{...l,region:i},sampleRate:1,annotateExperiments:I});let C="";C=R===p?"all":R>0?"some":"none",(0,f.El)({eventName:`pws.clientLoader.serviceWorkerIntercepted.${C}`,value:1,tags:l,sampleRate:1,annotateExperiments:I}),(0,f.El)({eventName:`pws.clientLoader.serviceWorkerIntercepted.${C}.tags`,value:1,tags:{...l,region:i},sampleRate:1,annotateExperiments:I}),o&&(0,c._A)({startType:h})}(0,d.Z)("logCacheHitsEnd")}function v(e){return e.reduce((e,t)=>{if(t.encodedBodySize){let a=t.encodedBodySize/1e3;h(t.name)?e.scriptSize+=a:C(t.name)&&(e.styleSize+=a)}return e},{scriptSize:0,styleSize:0})}a(503387);class O extends Error{constructor(...e){var t,a;super(...e),(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="name","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:"LoaderError",enumerable:!0,configurable:!0,writable:!0}):this[t]="LoaderError"}}function N(){let e,t=new Promise(t=>{e=t});return{resolve:e,promise:t}}class D extends Error{constructor(...e){var t,a;super(...e),(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="name","string"))?a:a+"")in this?Object.defineProperty(this,t,{value:"PlatformError",enumerable:!0,configurable:!0,writable:!0}):this[t]="PlatformError"}}var L=a(631517);let w=[],b=!1,U=!1;function G(e,t){(0,l.nP)("pws.initializeClient.elementFound",{tags:{phase:t,selector:e,documentReadyState:document.readyState,windowLoaded:U,domContentLoaded:b,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}})}function M(e,t){(0,l.nP)("pws.initializeClient.elementNotFound",{tags:{phase:t,selector:e,documentReadyState:document.readyState,windowLoaded:U,domContentLoaded:b,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}})}async function k(e){let t=document.querySelector(e);if(t)return G(e,"initial"),t;if(U)return M(e,"initial"),null;M(e,"initial");let a=new Promise(t=>{w.push({selector:e,resolve:t})});return r||((r=new MutationObserver(()=>{w=w.filter(({selector:e,resolve:t})=>{let a=document.querySelector(e);return!a||(G(e,"mutationObserver"),t(a),!1)})})).observe(document,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",()=>{b=!0}),window.addEventListener("load",()=>{U=!0,r?.disconnect(),w=w.filter(({selector:e,resolve:t})=>{let a=document.querySelector(e);return a?(G(e,"onLoad"),t(a)):(M(e,"onLoad"),t(null)),!0})})),a}async function B(){let[e]=await Promise.all([k(`#${L.lq}`),k(`#${L.hC}`)]);if(!e)throw(0,l.LY)("pws.initializeClient.initialPropsDOMElementNotFound",performance.now(),{sampleRate:1,tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),new D(`#${L.lq} not found in DOM after ${performance.now()}ms. Can't start app.`);return(0,l.LY)("pws.initializeClient.initialPropsDOMElementFound",performance.now(),{tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),JSON.parse(e.textContent??"{}")}async function F(){let[e]=await Promise.all([k(`#${L.gD}`),k(`#${L.iF}`)]);if(!e)throw new D(`#${L.gD} not found in DOM. Can't start app.`);return JSON.parse(e.textContent||"{}")}async function x(){let e=await k(`#${L.dV}`);if(!e)throw new D(`#${L.dV} not found in DOM. Can't start app.`);return e}async function V(){let[e]=await Promise.all([k(`#${L.p2}`),k(`#${L.tN}`)]);if(!e)throw new D(`#${L.p2} could not be found.  Can't start app`);return JSON.parse(e.textContent)}var H=a(785893);(0,n.lazy)(()=>a.e("15218").then(a.bind(a,529289)));var Y=a(500559),j=a(27399),W=a(97092),Z=a(839308),$=a(705460),z=a(659541),q=a(385372),K=a(204807),Q=a(173202),X=a(49831);let J=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let a=t.pattern.split("/").filter(e=>""!==e),r=e.split("/").filter(e=>""!==e);if(a.length!==r.length)return!1;for(let e=0;e<a.length;e+=1)if(!a[e].startsWith(":")&&r[e]!==a[e])return!1;return!0});return t?t.name:"unknown"},ee=function(){let e,t=!1,a=new Set;return function(r){if(e)return void r(e);a.add(r),t||(t=!0,(0,q.NO)(t=>{for(let r of(e=t,a))r(t),a.delete(r)}))}}();var et=a(774303),ea=a(267398),er=a(449896),en=a(217472);let es=(e,t)=>{let a="cls"===t?e.nodeName:e.tagName;return e?a||null!==e.parentElement?"HTML"===a&&null===e.parentElement?"HTML":"BODY"===a&&e.parentElement?.tagName==="HTML"?"BODY":e instanceof HTMLElement&&(void 0!==e.dataset.layoutShiftBoundaryID||void 0!==e.dataset.testId)?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?es(e.parentElement,t):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED"};var eo=a(240083),ei=a(479901);let el=(e,t,a)=>{t<1e5&&(0,l.LY)(e,t,a)},ed=["pin_closeup","board","profile","topic","homefeed","search_landing_page","search_results"],ec=["web_early_hydration"],eu=["web_early_hydration","unauth_dweb_closeup_redesign"];function e_(e,t){return t?`${e}.${t.experimentName}.${t.experimentGroup?.value}`:e}a(638353);let ep=!1;var eE=a(94082),eS=a(316491),ey=a(354139),eT=a(715587),em=a(653015),eR=a(553298);async function ef(e=()=>{}){let t=[],a=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__");if(a?.textContent&&(t=JSON.parse(a.textContent)),!t.length)return;let r=!1;await new Promise(e=>{window.modernJsonp=window.modernJsonp||[];let a=window.modernJsonp;void 0!==window.legacyJsonp&&(a=window.legacyJsonp);let n=a.push.bind(a);function s(){t.every(e=>a.some(([t])=>t.indexOf(e)>-1))&&!r&&(r=!0,e())}a.push=(...e)=>{n(...e),s()},s()}),e()}var eA=a(686659),eg=a(616550),eI=a(433069),eh=a(774838),eC=a(405933),eP=a(454020),ev=a(177433),eO=a(413073),eN=a(470205),eD=a(501010);function eL({children:e}){return(0,n.useEffect)(()=>{window.pwsRouteReady=!0},[]),e}function ew(){let e=(0,ev.Zv)(),t=(0,eh.B)();return(0,l.nP)("earlyHydrationDebug.routeWrapper.suspend",{sampleRate:1,tags:(0,ey.M3)({handlerId:e,requestContext:t})}),null}function eb({children:e}){(0,n.useEffect)(()=>{(0,eA.Z)("RouteWrapper","/pws/react/RouteWrapper.tsx")},[]);let{isAuthenticated:t,isBot:a,userAgent:r}=(0,eh.B)(),s=r.isMobile||r.isTablet,{group:i,optimizedClient:d}=(0,ey.DB)(),c=(0,o.TH)(),u=(0,n.useRef)(!0),p=(0,ev.Zv)(),{checkExperiment:E}=(0,eD.Z)(),S=E("build_with_rspack").group;return(0,_.V)(p),(0,n.useEffect)(()=>{(0,l.nP)("webapp.request.client",{tags:{handler:p,isAuthenticated:t,isInitialLoad:u.current,isMobile:s}}),u.current&&(S&&(0,l.nP)("webapp.request.client.debugRspackExp",{tags:{handler:p,isAuthenticated:t,isMobile:s,rspackExpGroup:S}}),(0,l.LY)("earlyHydrationDebug.routeWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:i,handler:p,isAuthenticated:t,isBot:a,isMobile:s}}),u.current=!1)},[i,p,t,a,s,c,S]),(0,H.jsx)(eN.Z,{name:p,type:"critical",children:d?(0,H.jsx)(n.Suspense,{children:(0,H.jsx)(eL,{children:e})}):(0,H.jsx)(eL,{children:e})})}let eU={www:["/:username/:slug/_tools/organize","/:username/:slug/:section_slug/_tools/organize","/board/:id/edit","/board/:id/organize","/board/:id/create_section","/boardsection/:id/organize","/business/catalogs","/pin/:id/edit","/pin/:id/repin"]},eG=[];var eM=a(676627);function ek({children:e,routeTable:t}){let a=(0,eP.zy)(),r=(0,n.use)(o.Us).navigator,s=(0,eh.B)(),i=(0,n.useCallback)(e=>{e.location&&(e=e.location);let r=function(e,t){for(let a=0;a<e.length;a+=1){let{route:r,handlerId:n}=e[a],s=(0,o.LX)({path:r,end:!0},t.pathname);if(s)return{handlerId:n,routerMatch:s}}return null}(t,e);r&&(eM.ZP[r.handlerId]??[]).filter(({check:e})=>e({checkExperiment:s.experimentsClient.checkExperiment,requestContext:s})).forEach(({query:e,variables:t})=>{a.preloadQuery({query:e,variables:t({match:r.routerMatch,requestContext:s})})})},[a,s,t]);return(0,n.useEffect)(()=>{let e=r.listen(i);return()=>{e()}},[r,i]),e}var eB=a(473727),eF=a(209377),ex=a(109571);function eV({children:e}){let t=(0,o.TH)(),a=(0,n.useMemo)(()=>t,[]);return(0,H.jsx)(ex.t,{value:a,children:e})}function eH({children:e,initialLocation:t,inV6Experiment:a}){(0,n.useEffect)(()=>{(0,eA.Z)("Router","/pws/router/Router.tsx")},[]);let r=(0,H.jsx)(eV,{children:e});return a?(0,H.jsx)(eF.VK,{children:r}):(0,H.jsx)(eB.VK,{children:(0,H.jsx)(eF.tn,{children:r})})}function eY({children:e,appRootComponent:t}){let a=t&&"object"==typeof t&&"then"in t?(0,n.use)(t):t;if(!a)throw Error("Unexpected null or undefined AppRootComponent on the client");return a?(0,H.jsx)(a,{children:e}):null}function ej({appRootComponent:e,element:t,handlerId:a}){return(0,H.jsx)(eI.G,{children:(0,H.jsx)(ev.wH,{value:a,children:(0,H.jsx)(n.Suspense,{fallback:(0,H.jsx)(ew,{}),children:(0,H.jsx)(eY,{appRootComponent:e,children:(0,H.jsx)(eb,{children:t})})})})})}function eW({appRootComponent:e,initialLocation:t,loader:a,queryPreloader:r,relayEnvironment:s,requestContext:i,routeTable:l,site:d}){(0,n.useEffect)(()=>{(0,eA.Z)("PWSApp","/pws/react/PWSApp.tsx")},[]);let c=i.experimentsClient.checkExperiment("web_react_router_v6").anyEnabled,u=l;c&&(u=l.map(e=>{let t=eU[d]?.find(t=>e.route.startsWith(t));if(t){if(eG.includes(t))return null;eG.push(t),e.route=`${t}/*`}return e}).filter(Boolean));let _=(0,n.useMemo)(()=>u.map(({element:t,handlerId:a,route:r})=>c?(0,H.jsx)(o.AW,{element:(0,H.jsx)(ej,{appRootComponent:e,element:t,handlerId:a}),path:r},"route"):(0,H.jsx)(eg.AW,{exact:!0,path:r,children:(0,H.jsx)(ej,{appRootComponent:e,element:t,handlerId:a})},"route")),[e,c,u]);(0,n.useEffect)(()=>{window.pwsAppReady=!0},[]);let p=c?o.Z5:eg.rs;return(0,H.jsx)(E.RelayEnvironmentProvider,{environment:s,children:(0,H.jsx)(eP.h_,{value:r,children:(0,H.jsx)(eO.Z,{value:a,children:(0,H.jsx)(eH,{initialLocation:t,inV6Experiment:c,children:(0,H.jsx)(eh.P2,{initialValue:i,children:(0,H.jsx)(eC.$,{children:(0,H.jsx)(ek,{routeTable:l,children:(0,H.jsx)(p,{children:_})})})})})})})})}function eZ(e){return e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}var e$=a(399353);function ez(){let e=(0,eI.b)(),t=(0,ev.Zv)(),a=(0,eh.B)();return(0,n.useEffect)(()=>{e&&(0,l.nP)("earlyHydrationDebug.clientRouteLoader.fallback",{sampleRate:1,tags:(0,ey.M3)({handlerId:t,requestContext:a})})},[]),(0,H.jsx)(e$.xH,{accessibilityLabel:"Loading....",show:!0})}function eq({componentPromise:e}){let t=(0,n.use)(e);return(0,H.jsx)(t,{})}function eK(){let e=function(e){let t=(0,eO.U)(),a=(0,n.useRef)(e),[r,s]=(0,n.useState)({Comp:t?.loadFromCache?.(e)}),[o,i]=(0,n.useState)(),{Comp:l}=r;if((0,n.useEffect)(()=>{if(!(a.current!==e||!l))return;a.current=e;let r=t?.loadFromCache?.(e);r||(async()=>{try{let a=await t?.load(e);a&&s({Comp:a})}catch(e){i(e)}})(),r!==l&&s({Comp:r})},[l,e,t]),o)throw o;return l}((0,ev.Zv)());return e?(0,H.jsx)(e,{}):(0,H.jsx)(ez,{})}function eQ(){(0,n.useEffect)(()=>{(0,eA.Z)("ClientRouteLoader","/pws/router/ClientRouteLoader.tsx")},[]);let e=(0,ev.Zv)(),t=(0,eO.U)(),{optimizedClient:a}=(0,ey.DB)();if(a){let a=function(e,t){if(!t)throw Error("Loader is not available in context");let a=t.loadFromCache?.(e);if(a){let e=Promise.resolve(a);return e.status="fulfilled",e.value=a,e}return eZ(t.load(e))}(e,t);return(0,H.jsx)(n.Suspense,{fallback:(0,H.jsx)(ez,{}),children:(0,H.jsx)(eq,{componentPromise:a})})}return(0,H.jsx)(eK,{})}function eX(e){return!!e.match(/\[[\w]+\]/)}function eJ(e){return(e.match(/\./g)||[]).length}if((0,u.Z)(),window.__ENABLE_RSC__){let{createFromFetch:e}=a(217775);console.log(e)}let e0=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__")?new Promise(e=>{ef(e)}):Promise.resolve(),e1=async({routeManifest:e,site:t})=>Object.keys(e);function e4(){return(0,l.nP)("pws.pageRoot.suspend",{sampleRate:1,tags:{handler:(0,_.H)(),environment:"client"}}),null}async function e2(e){var t,r;let u=new URLSearchParams(window.location.search);if(window.location?.hostname==="webcache.googleusercontent.com"||u.has("server_only"))return;(0,d.Z)("initialAppLoad");let A=document.getElementById(L.DC);if(A){let{message:e,stack:t}=JSON.parse(A.textContent),a=new D(e);throw a.stack=t,a}let g=[e0],w=await F(),{context:b,experiments:U,initialHandlerId:G,site:M}=w,k=function(e){let{context:t,context:{user:a={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,appTypeDetailed:t.app_type_detailed,country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,deepLink:t.deep_link,experimentsClient:e.experimentsClient,facebookToken:t.facebook_token,fullPath:t.full_path,inviteCode:t.invite_code,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isInternalIP:t.is_internal_ip||!1,isPerfMetricsBot:t.is_perf_metrics_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:"rtl"===t.text_direction,isSocialBot:!!t.social_bot,language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:a.login_state||void 0,origin:t.origin,referrerFromCookie:t.referrer,referrerFromHeader:t.http_referrer,regionFromIp:t.region_from_ip,requestIdentifier:t.request_identifier,stage:t.stage,sterlingOnSteroidsLdap:t.sterling_on_steroids_ldap,theme:t.theme,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserType:t.browser_type,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],osName:t.analysis_ua?t.analysis_ua.os_name:"",raw:t.user_agent}}}({context:b,experimentsClient:(t=U.active,r=U.triggerable,(!t||!r)&&(0,l.nP)("webapp.buildExperimentsClient.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!r)}}),{experimentsClient:new i.Z(t,r,!0)}).experimentsClient}),{experimentsClient:ef,isAuthenticated:eA,isBot:eg,isInternalIP:eI,country:eh}=k,eC=b.is_mobile_agent||b.is_tablet_agent,eP={handler:G,browserName:k.userAgent.browserName,isAuthenticated:eA,isBot:eg,isMobile:eC,country:k.country};(0,c.Z4)({requestContext:k}),(0,d.Z)("beginGetDataFromServiceWorker");let ev=new Promise(e=>{let t="initializeClientApp.getDataFromServiceWorker.getPrecacheData",a={storageInfo:{},cacheHitData:[]};(0,l.nP)(t,{sampleRate:1,tags:eP});let r=navigator.serviceWorker,n=r?.controller;if(!r||!n){(0,l.nP)(`${t}.noServiceWorker`,{sampleRate:1,tags:eP}),e(a);return}let s=new MessageChannel,o=!1,i=setTimeout(()=>{o||(o=!0,(0,l.nP)(`${t}.timeout`,{sampleRate:1,tags:eP}),e(a))},3e3);s.port1.onmessage=t=>{o||(o=!0,clearTimeout(i),t.data&&void 0!==t.data.cacheHitData?(Array.isArray(t.data.cacheHitData)?t.data.cacheHitData.length>0?((0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonEmpty",{sampleRate:1,tags:eP}),(0,l.QX)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.size",t.data.cacheHitData.length,{sampleRate:1,tags:eP})):(0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.empty",{sampleRate:1,tags:eP}):(0,l.nP)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonArray",{sampleRate:1,tags:eP}),(0,l.nP)("initializeClientApp.getDataFromServiceWorker.getPrecacheData.success",{sampleRate:1,tags:eP}),e({storageInfo:t.data.storageInfo||{},cacheHitData:t.data.cacheHitData})):((0,l.nP)("initializeClientApp.getDataFromServiceWorker.getPrecacheData.noCacheData",{sampleRate:1,tags:eP}),e(a)))};try{(0,l.nP)(`${t}.postMessage`,{sampleRate:1,tags:eP}),n.postMessage({name:"getPrecacheData"},[s.port2])}catch(r){o||(o=!0,clearTimeout(i),(0,l.nP)(`${t}.postMessage.error`,{sampleRate:1,tags:{...eP,errorCode:r instanceof Error&&"code"in r?String(r.code):"no_code"}}),e(a))}});(0,c._A)({precacheDataPromise:ev});let eO=(0,ey.SS)({experimentsClient:ef,handlerId:G}),{anyEnabled:eN,group:eD="none"}=eO,eL=(0,ey.M3)({handlerId:G,requestContext:k});if((0,l.LY)("earlyHydrationDebug.initializeClientApp.start",performance.now(),{tags:eL}),function(e,t,a){if(e&&t.has("disable_experiments")){let e=t.get("disable_experiments"),{active:r,triggerable:n}=a,s=Object.keys({...n,...r}).sort();if(0===s.length)return!1;let o=s.length-1,i=e=>{let t=new URL(window.location.href);t.searchParams.set("disable_experiments",`${e}_${o}`),window.location.href=t.toString()};if(!e||!/^(\d+)_(\d+)$/.test(e))return i(0),!0;{let[t,a]=e.split("_").map(e=>parseInt(e,10)),r=t??0,n=a??0,l=Math.min(r,n),d=Math.max(r,n);if(d>o)return i(l>o?0:l),!0;console.log(`[disable_experiments] Disabled the following experiments in range "${l},${d}":`,s.slice(l,d+1))}}return!1}(eI,u,U))return;!function(e,t,r){var n,s,o,i,d,c;!function(){let e={},t=new Set,r=a.e,n=a.ruid?.includes("rspack"),[s,o]=[200,6];async function i({chunkId:a,retriesLeft:s,retryDelay:d}){let c=Date.now();try{await r(a),delete e[a],t.delete(a),(0,l.LY)("webapp.chunkLoad.success",Date.now()-c,{sampleRate:.1,tags:{tries:o-s,name:a}})}catch(r){if(t.add(a),(0,l.LY)("webapp.chunkLoad.error",Date.now()-c,{sampleRate:.1,tags:{name:a,retriesLeft:s,isRspackRuntime:n}}),s<=0)throw(0,l.LY)("webapp.chunkLoad.fail",Date.now()-c,{sampleRate:.1,tags:{name:a,isRspackRuntime:n}}),delete e[a],r;await new Promise(e=>setTimeout(e,d)),await i({chunkId:a,retriesLeft:s-1,retryDelay:2*d})}}if(a.e=async function(t){e[t]||(e[t]=i({chunkId:t,retriesLeft:o-1,retryDelay:s})),await e[t]},a.f?.prefetch){let e=a.f.prefetch;a.f.prefetch=async function(a,r){try{await e(a,r)}catch(e){if(t.has(a))(0,l.nP)("webapp.webpackPrefetch.duplicateError",{sampleRate:1,tags:{name:a,isRspackRuntime:n}});else throw(0,l.nP)("webapp.webpackPrefetch.missingError",{sampleRate:1,tags:{name:a,isRspackRuntime:n}}),e}}}}(),e.enableAdaptiveStatsLoggingFlush&&(0,eS.m)();let u=e.context.user;if(u?.id&&u.is_partner){let e=!!u.partner;(0,l.nP)("pws.renderClient.debugPartnerData",{sampleRate:1,tags:{hasPartnerData:e,isFromAppShell:window.isFromInstantLoadingIndicatorAppShell??!1}})}let _=e.context.is_mobile_agent||e.context.is_tablet_agent,p=function(){if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;{if("msMaxTouchPoints"in navigator)return navigator.msMaxTouchPoints>0;let e=window.matchMedia?window.matchMedia("(pointer:coarse)"):void 0;if(e?.media==="(pointer:coarse)")return!!e.matches;{if("orientation"in window)return!0;let e=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}}(),E=navigator.userAgent.indexOf("Mobi")>0,S=function(){let e=window.innerWidth;return e<640?"xs":e>=640&&e<768?"sm":e>=768&&e<1024?"md":e>=1024&&e<1280?"lg":e>=1280&&e<1536?"xl":e>=1536&&e<2048?"2xl":e>=2048&&e<2560?"3xl":e>=2560&&e<3060?"4xl":e>=3060&&e<3560?"5xl":e>=3560&&e<4060?"6xl":e>=4060&&e<4560?"7xl":e>=4560&&e<5e3?"8xl":e>=5e3?"9xl":void 0}(),y=function(){let e=window.innerHeight;return e<500?"vh1":e>=500&&e<600?"vh2":e>=600&&e<700?"vh3":e>=700&&e<800?"vh4":e>=800&&e<900?"vh5":e>=900&&e<1e3?"vh6":e>=1e3&&e<1500?"vh7":e>=1500&&e<2e3?"vh8":e>=2e3&&e<2500?"vh9":e>=2500?"vh10":void 0}();(0,l.nP)("pws.renderClient.screenHeight",{sampleRate:1,tags:{screenHeight:window.innerHeight}}),(0,l.nP)("pws.renderClient.validateUA",{sampleRate:1,tags:{serverDeviceType:_?"mobile":"desktop",screenHeight:y,screenSize:S,touchEnabled:p,uaContainsMobi:E}}),function({currentAppVersion:e,deviceType:t,site:a}){let r=window.fetch;window.fetch=async(...n)=>{let s,o=n[0],i="string"==typeof o&&o.startsWith("/");try{s=await r(...n)}catch(t){let e=s?.headers;throw t.extraData={...t.extraData,fetchUrl:o,fetchResponseAccessControlHeaders:e&&{allowCredentials:e.get("access-control-allow-credentials"),allowHeaders:e.get("access-control-allow-headers"),allowOrigin:e.get("access-control-allow-origin")}},t}return i&&(s.headers.get("pinterest-version")===e||ep||((0,l.nP)("pws.renderClient.newVersionAvailable",{sampleRate:1,tags:{deviceType:t,site:a}}),ep=!0)),s}}({currentAppVersion:e.appVersion,deviceType:_?"mobile":"desktop",site:e.site}),(0,j.N)(e.context.user,t,Y.Z),n=e.context,s=t.locale,o=e.initialHandlerId,i=t.isAuthenticated,t.locale?eE.i.preload({localeCode:t.locale.split("-").join("_"),children:()=>null}):(0,l.nP)("pws.renderClient.missingLocale",{sampleRate:1,tags:{browserLocale:n.browser_locale,contextLocale:s,country:t.country,deviceType:_?"mobile":"desktop",handler:o,isAuthenticated:i,language:t.language,origin:t.origin}}),d=t.isAuthenticated,c=e.daysToExpiration,d&&(c<=90&&c>0?fetch("/refresh_token"):c<=0&&fetch("/refresh_stored_accounts"));let T=(0,Z.Z)({browserName:t.userAgent.browserName,browserType:t.userAgent.browserType,browserVersion:t.userAgent.browserVersion,userAgentString:t.userAgent.raw,isBotRequest:t.isBot,isInternalIP:t.isInternalIP});if(!function({handler:e,browserName:t,isAuthenticated:a,isBot:r,isMobile:n,country:s,isPrefetch:o,isModernBundleCapable:i,requestContext:d}){let c=(0,et.Ex)(e),u=(0,Q.Z)({requestContext:d}),{getExperimentGroup:_}=u,p={handler:e,isAuthenticated:a,isBot:r,isMobile:n,domain:(0,K.xR)(document.domain||"unknown"),isModernBundleCapable:i},E=J(window.location.pathname);function S(e,t){try{if("number"!=typeof t||!Number.isFinite(t))return void c(`Invalid CWV value for ${e}: ${t} (type: ${typeof t})`);if("string"!=typeof e||!e)return void c(`Invalid CWV metric name: ${e} (type: ${typeof e})`);if(!E)return void c(`Missing initialSurface when reporting ${e} metric`);let r={type:"core_web_vitals",name:`cwv_${E}_${e.toLowerCase()}`,navigationType:"client_route_push",surface:E,isAuthenticated:a},n=(0,ea.W)({annotateExperiments:ec,constraintMap:{},endTime:"CLS"===e?1e3*t:t,imageTimings:[],metricId:r,pwtMeasures:(0,ei.zU)(),pwtStaticContext:u,startTime:0,traceId:(0,eo.Z)(),spans:[]});(0,en.Z)({metricId:r,pwtStaticContext:u,result:n,isAuth:a})}catch(t){c(`Failed to report ${e} metric: ${t}`)}}let y=[];ee(t=>{if(!ed.includes(E))return;let{entries:a,value:r,navigationType:n}=t,{url:s}=a[a.length-1],i=s?.includes("i.pinimg");c(`------ ${e} onLCP ${r} navigationType:${n} -----`);let d=e=>{el(e_("pws.renderClient.lcp",e),r,{sampleRate:1,tags:{...p,version:"1"}}),el(e_("pws.renderClient.isPrefetch.lcp",e),r,{sampleRate:1,tags:{...p,isPrefetch:o}}),(0,l.QX)(e_("pws.renderClient.cwv.lcpElements",e),1,{sampleRate:1,tags:{...p,isImage:i}})};d(),Object.entries((0,er.E9)(eu,_)).forEach(([e,t])=>{d({experimentName:e,experimentGroup:t})}),S(t.name,r)});let T=e=>({value:e,entries:[],boundaryScores:{}}),m=0,f=0,A=[],g=[],I=T(0);function h(){m+=1}function C(e){(0,l.QX)("pws.renderClient.clsAllObservedShifts",1,{sampleRate:.01,tags:{...p,shiftCount:e.length}}),e.forEach(e=>{if(e.hadRecentInput)return;let t=A[0],a=A[A.length-1],r={value:e.value,boundary:(e=>{if(!e||0===e.length)return"NO_SOURCES_FOUND";let t=e.find(e=>null!==e.node)?.node||null;return t?es(t,"cls"):"NO_NODE_FOUND"})(e.sources),surface:J(window.location.pathname)||"no_surface_match"};f&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(f+=e.value,A.push(e),g.push(r)):(f=e.value,A=[e],g=[r])}),f>I.value&&((I=T(f)).entries=A.slice(),g.forEach(e=>{let{boundary:t,surface:a,value:r}=e;t&&(I.boundaryScores[t]?(I.boundaryScores[t].cumulativeScore+=r,I.boundaryScores[t].surface=a):I.boundaryScores[t]={cumulativeScore:r,surface:a})}))}window.addEventListener("resize",h);let P=null;window.PerformanceObserver&&(P=new PerformanceObserver(e=>{C(e.getEntries())})),(0,q.a4)(({value:t,navigationType:a})=>{ed.includes(E)&&(P&&P.observe({type:"layout-shift"}),c(`------ ${e} onFCP ${t} navigationType:${a} -----`),el("pws.renderClient.fcp",t,{sampleRate:1,tags:p}))}),(0,q.mw)(t=>{if(!ed.includes(E))return;let{name:r,value:o,navigationType:l,rating:d}=t,u={isAuth:a,isMobile:n,handler:e,region:(0,R.Z)(s),CWVBucket:d,domain:(0,K.xR)(document.domain||"unknown"),isModernBundleCapable:i,cpu:navigator.hardwareConcurrency||"unknown"};if(c(`------ ${e} onCLS ${o} navigationType:${l} -----`),el("pws.renderClient.cls",o,{sampleRate:1,tags:p}),P){C(P.takeRecords()),P.disconnect();let e=Object.entries(I.boundaryScores).map(([e,t])=>({boundary:e,cumulativeScore:t.cumulativeScore,surface:t.surface}));e.sort((e,t)=>t.cumulativeScore-e.cumulativeScore);for(let t=0;t<e.length&&t<5;t+=1){let a=e[t];el("pws.renderClient.clsCumulativeBoundaryScore",1e3*a.cumulativeScore,{sampleRate:.05,tags:{...u,boundary:a.boundary,surface:a.surface}})}}S(r,o)});let v={},O=e=>{window.removeEventListener("resize",h);let{timeStamp:t,target:a}=e,r=a?es(a,"inp"):"NODE_REMOVED",{pathname:n}=window.location,s=J(n)||"no_surface_match",o=t.toString();v[o]||(v[o]={boundary:"",surface:""},v[o].boundary=r,v[o].surface=s)};if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.addEventListener(e,O,{capture:!0})}),(0,q.Yn)(t=>{if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.removeEventListener(e,O,{capture:!0})}),!ed.includes(E))return;let{value:r,navigationType:o,rating:d}=t,{interactionTime:_,interactionType:p}=t.attribution,y=(0,R.Z)(s),T=_<100?"0-100ms":_<250?"100-250ms":_<500?"250-500ms":_<1e3?"500-1000ms":_<2e3?"1000-2000ms":_<3e3?"2000-3000ms":_<4e3?"3000-4000ms":_<5e3?"4000-5000ms":_<6e3?"5000-6000ms":_<7e3?"6000-7000ms":_<8e3?"7000-8000ms":_<9e3?"8000-9000ms":_<1e4?"9000-10000ms":_<15e3?"10000-15000ms":_<2e4?"15000-20000ms":_<25e3?"20000-25000ms":"25000+ms",m=(0,K.xR)(document.domain||"unknown"),f=navigator.hardwareConcurrency||"unknown",{getExperimentGroup:A}=u,g=(0,er.E9)(ec,A),I={isAuth:a,isMobile:n,handler:e,region:y,CWVBucket:d,eventTimeGroup:T,interactionType:p,domain:m,isModernBundleCapable:i,surface:v[_]?v[_].surface:"interactionTime_invalid",boundary:v[_]?v[_].boundary:"interactionTime_invalid",cpu:f};if(c(`------ ${e} onINP ${r} navigationType:${o} -----`),t.attribution){["inputDelay","processingDuration","presentationDelay"].forEach(e=>{el(`pws.renderClient.inp.${e}`,t.attribution[e],{sampleRate:1,tags:I}),Object.keys(g).forEach(a=>{let r=g[a]?.value;el(`pws.renderClient.inp.${e}.${a}.${r}`,t.attribution[e],{sampleRate:1,tags:I})})});let e=v[_]?v[_].boundary:null;e&&(0,l.nP)("pws.renderClient.inpPersistedBoundary",{sampleRate:1,tags:{...I,INPBoundary:e}}),"today"===E&&(E="profile"),el(`pws.renderClient.${E}.INP`,r,{sampleRate:1,tags:{isMobile:n,domain:m}}),el(`pws.renderClient.${E}.detailed.INP`,r,{sampleRate:1,tags:I}),S(t.name,r)}}),window.PerformanceObserver)try{if(e.includes("/pin/")||"www/_username_/_slug__js"===e){let e=(0,er.E9)(eu,_);new PerformanceObserver(a=>{a.getEntries().forEach(a=>{y.forEach(r=>{if(!(r.url&&a.url))return;let n=a.url.split("/"),s=n[n.length-1],o=n[3],i=r.url?.split("/")||"",d=i[n.length-1],c=i[3],u=r.size,_="unknown",E="unknown";if("number"==typeof a.size&&"number"==typeof u){let e=a.size-u;0===e?_="0":e>0&&e<100?_="0-100":e>=100&&e<1e3?_="100-1000":e>=1e3&&e<1e4?_="1000-10000":e>=1e4&&(_="10000+")}if("number"==typeof a.startTime&&"number"==typeof r.startTime){let e=a.startTime-r.startTime;0===e?E="0":e>0&&e<500?E="0-500":e>=500&&e<2e3?E="500-2000":e>=2e3&&e<7e3?E="2000-7000":e>=7e3&&(E="7000+")}if(s===d&&a.startTime!==r.startTime){let a=e=>{(0,l.QX)(e_("pws.renderClient.cwv.allLCPCandidates.repaints",e),1,{sampleRate:.01,tags:{...p,browserName:t,finalResolution:o,lcpCandidateCount:y.length+1,previousResolution:c,renderedSizeDeltaBucket:_,resizeCount:m,timeDeltaBucket:E}})};a(),Object.entries(e).forEach(([e,t])=>{a({experimentName:e,experimentGroup:t})})}});let r=a.element?a.element.nodeName:"unknown",n=e=>{(0,l.QX)(e_("pws.renderClient.cwv.allLCPCandidates",e),1,{sampleRate:1,tags:{...p,browserName:t,lcpCandidateCount:y.length+1,elementType:r??"unknown",resizeCount:m}})};n(),Object.entries(e).forEach(([e,t])=>{n({experimentName:e,experimentGroup:t})});let s=y.filter(e=>e.startTime===a.startTime);0===s.length&&y.push(a),c(a)})}).observe({buffered:!0,type:"largest-contentful-paint"})}if(X.jn){let e=new PerformanceObserver(function(e){e.getEntries().forEach(e=>{c(e)})});e.observe({buffered:!0,type:"largest-contentful-paint"}),e.observe({buffered:!0,type:"paint"})}}catch(e){(0,l.QX)("pws.renderClient.cwv.observer.failed",1,{sampleRate:1,tags:p})}}({...r,isPrefetch:e.isPrefetch,isModernBundleCapable:T,requestContext:t}),function({handler:e,browserName:t,isAuthenticated:a,isBot:r,isMobile:n,country:s,isModernBundleCapable:o}){if(!(window.navigator&&window.navigator.connection))return;let{connection:i}=window.navigator,d={handler:e,browserName:t,isAuthenticated:a,isBot:r,isMobile:n,country:s,domain:(0,K.xR)(document.domain||"unknown"),isModernBundleCapable:o},{rtt:c=1/0}=i;c<50?(0,l.nP)("rtt.50",{sampleRate:1,tags:d}):c<200?(0,l.nP)("rtt.200",{sampleRate:1,tags:d}):c<500?(0,l.nP)("rtt.500",{sampleRate:1,tags:d}):c<1e3?(0,l.nP)("rtt.1000",{sampleRate:1,tags:d}):(0,l.nP)("rtt.max",{sampleRate:1,tags:d})}({...r,isModernBundleCapable:T}),function(e,t,a){let r=window.innerHeight,n=window.innerWidth,s=()=>{let o=window.innerHeight!==r,i=window.innerWidth!==n,d={deviceType:e?"mobile":"desktop",handler:t,isAuthenticated:a.isAuthenticated,platform:a.userAgent.platform??"unknown"};(0,l.nP)("pws.renderClient.handleResize",{sampleRate:1,tags:{...d,heightChanged:o,widthChanged:i}}),o&&(0,l.S0)("pws.renderClient.resizeHeightDelta",Math.abs(window.innerHeight-r),{sampleRate:1,tags:d}),i&&(0,l.S0)("pws.renderClient.resizeWidthDelta",Math.abs(window.innerWidth-n),{sampleRate:1,tags:d}),window.removeEventListener("resize",s)};window.addEventListener("resize",s)}(_,e.initialHandlerId,t),(0,z.J)(t),(0,$.DG)(t),(0,W.gE)(),t.fullPath&&t.fullPath.startsWith("/pin/")){let e=function(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let a=t.split("/")[3];return a?"feedback"===a||"sent"===a?a:null:"default"}(t.fullPath);e&&(0,l.nP)(`pwt.renderClient.pinType.${e}`,{tags:{isAuthenticated:t.isAuthenticated,isBot:t.isBot,isMobile:_}})}}(w,k,eP);let ew=(0,T.ZP)(),eb=function({relayEnvironment:e}){let t=[];return{preloadQuery:function(a){let r=(0,E.loadQuery)(e,(0,S.getRequest)(a.query),a.variables??{});return t=t.concat({descriptor:a,queryRef:r}),r},ensureFlushed:async function(e){throw Error("ensureFlushed should not be called on the client")},findPreloadedQuery:function(e){return t.find(({descriptor:t})=>(function(e,t){let a=(0,S.getRequest)(e.query),r=(0,S.getRequest)(t.query);return a.operation.name===r.operation.name&&a.hash===r.hash&&(0,y.L)(e.variables,t.variables)})(t,e))}}}({relayEnvironment:ew}),eU=await V(),eG=(await e1({routeManifest:eU,site:M})).concat().sort((e,t)=>(function e(t,a){if(t.length!==a.length)return t.length<a.length?-1:1;if(0===t.length||0===a.length)return 0;let[r,...n]=t,[s,...o]=a,i=function(e,t){let a=eX(e),r=eX(t);if(a&&!r)return 1;if(!a&&r)return -1;let n=eJ(e),s=eJ(t);return n>s?-1:n<s?1:e.localeCompare(t)}(r,s);return 0===i?e(n,o):i})(`/${e}/`.split("/").filter(Boolean),`/${t}/`.split("/").filter(Boolean))).map(e=>({handlerId:(0,m.ke)(M,e),route:function(e){if(/index\.[tj]sx?$/.test(e)){if(e.includes("/"))throw new p(e);return"/"}return`/${e.replace(/.[tj]sx?$/,"").split("/").map(e=>e.replace(/\[(.*)\]/,":$1")).join("/")}`}(e)})),eM=function({isAuthenticated:e,isMobile:t,manifest:a,site:r,country:n}){let s="noModule"in document.createElement("script"),o={},i={},d=!0,c={};async function u([e,t]){c[e]||(c[e]=N()),c[e].resolve?.(t)}async function _(r){let o=r.replace(/.js$/,"");c[o]||(c[o]=N());let u=!1,{filepath:_}=(0,m.ac)(r),{css:p,js:E,mjs:S}=a[_].dependencies.reduce((e,t)=>{let a=t.split(".").pop();if(e[a])e[a].add(t);else throw new O(`Unsupported extension ${a} encountered: ${t}`);return e},{css:new Set,js:new Set,mjs:new Set}),y=[...p,...S.size>0?S:E],T=S.size>0?"modern":"legacy";await Promise.all(y.map(async e=>{/\.m?js$/.test(e)&&!document.querySelector(`script[src^="${e}"]`)?(i[e]=function(e){let{head:t}=document;if(!t)throw new O("document.head is undefined");return new Promise((a,r)=>{let n=document.createElement("script");n.crossOrigin="anonymous",n.charset="utf-8",n.onload=a,n.onerror=r,n.src=e,t.appendChild(n)})}(e),u=!0):/\.css$/.test(e)&&!document.querySelector(`link[rel=stylesheet][href^="${e}"]`)&&(i[e]=function(e){let{head:t}=document;if(!t)throw new O("document.head is undefined");return new Promise((t,a)=>{let{head:r}=document;if(!r)throw new O("document.head is undefined");let n=document.createElement("link");n.crossOrigin="anonymous",n.rel="stylesheet",n.href=e,n.onload=t,n.onerror=a,r.appendChild(n)})}(e),u=!0),i[e]&&(await i[e],delete i[e])})),P({didLoadNewFiles:u,files:y,handlerId:r,isAuthenticated:e,isInitialLoad:d,country:n}),d&&(!function({browserType:e,isAuthenticated:t,isMobile:a,handlerId:r}){if(!(window.performance&&window.performance.getEntriesByType))return;let n={browserType:e,handler:r,isAuthenticated:t,isMobile:a},{scriptSize:s,styleSize:o}=v(window.performance.getEntriesByType("resource").filter(e=>h(e.name)&&!/locale-/.test(e.name)||C(e.name)));s&&(0,f.yI)({eventName:"pws.clientLoader.initialPageLoad.scripts",value:s,tags:n,sampleRate:.1,annotateExperiments:I}),o&&(0,f.yI)({eventName:"pws.clientLoader.initialPageLoad.styles",value:o,tags:n,sampleRate:.1,annotateExperiments:I})}({browserType:T,handlerId:r,isAuthenticated:e,isMobile:t}),d=!1),u&&function({browserType:e,files:t=[],isAuthenticated:a,isMobile:r,handlerId:n}){if(!(window.performance&&window.performance.getEntriesByType))return;let s=window.performance.getEntriesByType("resource").filter(e=>!!t.find(t=>e.name.endsWith(t))),o={browserType:e,handler:n,isAuthenticated:a,isMobile:r},{scriptSize:i,styleSize:l}=v(s);i&&(0,f.yI)({eventName:"pws.clientLoader.clientNavigation.scripts",value:i,tags:o,sampleRate:.1,annotateExperiments:I}),l&&(0,f.yI)({eventName:"pws.clientLoader.clientNavigation.styles",value:l,tags:o,sampleRate:.1,annotateExperiments:I})}({browserType:T,handlerId:r,isAuthenticated:e,isMobile:t,files:y}),(s&&0===S.size||!s&&S.size>0)&&(0,l.nP)("pws.clientLoader.moduleSupportMismatch",{sampleRate:1,tags:{assetType:S.size>0?"mjs":"js",hasModuleSupport:s}});let R=await c[o].promise;if(!R)throw new O(`Unable to load module for handler: ${r}`);return R()}async function p(e){let{filepath:t}=(0,m.ac)(e),n=(0,m.ke)(r,t);try{if(!o[t]){a[t];let e=_(n);e.then(e=>{o[t]=e}),o[t]=e}return o[t]}catch(a){delete o[t],(0,l.nP)("webapp.clientLoader.fail",{sampleRate:1,tags:{error:a.name,handler:n}});let e=new O(a.message);throw e.stack=a.stack,e}}async function E(e){try{await p(e)}catch(e){}}return window.__PWS_LOADED_HANDLERS__||(window.__PWS_LOADED_HANDLERS__=[]),window.__PWS_LOADED_HANDLERS__.forEach(([e,t])=>{u([e,t])}),window.__PWS_LOADED_HANDLERS__.push=u,{loadFromCache(e){let{filepath:t}=(0,m.ac)(e);if(!o[t])return E(e),null;let a=o[t];return"object"==typeof a&&"function"==typeof a.then?null:a},load:p,preload:E}}({isAuthenticated:eA,isMobile:eC,manifest:eU,site:M,country:eh}),ek=await x(),eB=ek.childElementCount>0,eF=(async()=>{let t=await B();return(0,l.LY)("earlyHydrationDebug.initializeClientApp.initialProps",performance.now(),{tags:eL}),e({initialServerContext:b,initialProps:t,requestContext:k,ssrIsEnabled:eB,handler:G}).rootComponent})(),ex=eG.find(({route:e})=>(0,o.LX)({path:e,end:!0},window.location.pathname));if(ex){let{handlerId:e}=ex;(0,_.V)(e);let t=eM.load(e);g.push(t)}let eV=eG.map(({handlerId:e,route:t})=>({element:(0,H.jsx)(eQ,{},t),handlerId:e,route:t})),eH=(0,H.jsx)(n.Suspense,{fallback:(0,H.jsx)(e4,{}),children:(0,H.jsx)(eT.Z,{value:eO,children:(0,H.jsx)(eW,{appRootComponent:eN?eZ(eF):await eF,initialLocation:new URL(window.location.href),loader:eM,queryPreloader:eb,relayEnvironment:ew,requestContext:k,routeTable:eV,site:M})})});!function({handlerId:e,requestContext:t}){let a={isAuthenticated:t.isAuthenticated,isBot:t.isBot,isDesktop:!t.userAgent.isMobile&&!t.userAgent.isTablet,handler:e};if((0,l.nP)("webapp.isFromInstantLoadingIndicatorAppShell",{sampleRate:1,tags:{...a,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}),window.isFromInstantLoadingIndicatorAppShell&&window.PerformanceObserver){let e=new PerformanceObserver(t=>{t?.getEntries?.().forEach(t=>{if(!t?.name.startsWith("pwt__instantLoadingIndicator"))return;let{name:r,startTime:n}=t,[,s]=r.split(".");(0,l.LY)(`webapp.instantLoadingIndicator.timing.${s}`,n,{sampleRate:1,tags:a}),"pwt__instantLoadingIndicator.done"===t.name&&e.disconnect()})});e?.observe({type:"mark",buffered:!0})}}({handlerId:G,requestContext:k}),(0,l.nP)("pws.initializeClientApp",{sampleRate:1,tags:{handler:G,isAuthenticated:eA,isBot:eg,isMobile:eC}}),(0,d.Z)("RenderReactContainer"),eB?(eN||await Promise.all(g),(0,n.startTransition)(()=>{eN||(window.__PWS_CLIENT_RENDER_INIT__=!0),(0,l.LY)("earlyHydrationDebug.initializeClientApp.hydrate",performance.now(),{tags:eL}),(0,s.hydrateRoot)(ek,eH,{onRecoverableError:(e,t)=>{!(0,em.Z)(e)&&((0,l.nP)("pws.renderClient.onRecoverableError",{tags:{error:e.message.replace(/([^a-zA-Z0-9\-_/])/g,"_"),handler:G,isAuthenticated:eA,isBot:eg,isMobile:eC,earlyHydrationGroup:eD}}),(0,eR.f)({type:"hydration",payload:{error:e,errorInfo:t}})&&console.error("Unexpected hydration error",e.message,t.componentStack)),(0,l.nP)("earlyHydrationDebug.initializeClientApp.onRecoverableError",{tags:eL})}})})):((0,l.LY)("earlyHydrationDebug.initializeClientApp.render",performance.now(),{tags:eL}),(0,s.createRoot)(ek).render(eH))}},638353:function(e,t,a){a(418282),a(767415)},177433:function(e,t,a){a.d(t,{Zv:()=>o,uo:()=>i,wH:()=>s});var r=a(213491),n=a(810752);let{Provider:s,get:o}=(0,r.Z)("HandlerId");function i(){let e=o();return(0,n.ac)(e).site}},778830:function(e,t,a){function r(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}a.d(t,{N:()=>r}),(0,a(701943).kr)()},9065:function(e,t,a){a.d(t,{Z:()=>u});var r=a(667294),n=a(774838),s=a(317109),o=a(767415),i=a(354139),l=a(177433);function d(e){if(e&&a.m[e])return a(e).default}a(778830);var c=a(785893);function u(e,t,a,u,_){let p=t?.ssr??!0?r.Suspense:s.Z,E=new Map,S=new Map;function y(e){return u&&t?.dynamicRequestKey&&e?u.replace("[request]",e[t.dynamicRequestKey]):u}function T(e){return a?a(e):y(e)??"static"}function m({children:e,chunkName:t}){let a=(0,l.Zv)(),s=(0,n.Ts)();return(0,r.useEffect)(()=>{(0,o.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:{...(0,i.M3)({handlerId:a,requestContext:s}),chunkName:t}})},[]),e}function R(n){t?.dynamicRequestKey;let s=T(n),l=(0,i.DB)(),u=y(n);if(!S.has(s)){let t=a?.(n);S.set(s,function({chunkName:e,dynamicImport:t,earlyHydrationEnabled:a,getDependentChunkNames:n,moduleId:s,props:i}){let l,c=(0,r.lazy)(()=>t(i));if(a){var u;l=(u=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(n?.(),e))&&u.every(e=>(function(e){let t=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp;return t?.some(t=>t[0].includes(e))??!1})(e))?d(s):void 0}else l=d(s);let _=!!l;return(0,o.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:_,moduleId:s??"unknown"}}),l||c}({chunkName:u,dynamicImport:e,earlyHydrationEnabled:l.anyEnabled,getDependentChunkNames:_,moduleId:t,props:n}))}let E=S.get(s);return(0,c.jsx)(p,{fallback:(0,c.jsx)(m,{chunkName:u??"unknown",children:n.fallback||t?.fallback}),children:(0,c.jsx)(E,{...n,ref:n.ref})})}return R.preload=t=>{let a=T(t),r=S.get(a);E.get(a)||r||E.set(a,(async()=>{if(!r){let r=await e(t);S.set(a,r.default),E.delete(a)}})())},R}},413073:function(e,t,a){a.d(t,{U:()=>s,Z:()=>o});var r=a(667294);let n=(0,r.createContext)();function s(){return(0,r.use)(n)}let o=n},715587:function(e,t,a){a.d(t,{Z:()=>r});let r=(0,a(667294).createContext)(null)},804170:function(e,t,a){a.d(t,{g:()=>r});let r={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1}},234178:function(e,t,a){a.d(t,{Z:()=>o});var r=a(667294),n=a(804170),s=a(715587);function o(){return(0,r.use)(s.Z)??n.g}},354139:function(e,t,a){a.d(t,{DB:()=>i,M3:()=>l,SS:()=>o});var r=a(810752),n=a(804170);function s(e,t=!1){let a={...n.g,anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t};switch(e){case"enabled":case"enabled_no_app_shell":return{...a,scriptPlacement:"head"};case"enabled_preload":case"enabled_preload_no_app_shell":return{...a,scriptPlacement:"head",preloadScripts:"low"};case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return{...a,scriptPlacement:"head",preloadScripts:"high"};case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return{...a,scriptPlacement:"body",preloadScripts:"low"};case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return{...a,scriptPlacement:"body",preloadScripts:"high"};case"control":case"control_no_app_shell":return a;default:return n.g}}function o({experimentsClient:e,handlerId:t,skipActivation:a=!1}){let{site:o}=(0,r.ac)(t??"");if("www"!==o)return n.g;if(function({experimentsClient:e,skipActivation:t}){let{group:a,anyEnabled:r}=e?.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:t})??{group:"",anyEnabled:!1};return"control_early_hydration_specify_hostname"===a||"control_early_hydration_reduce_precache"===a||"control_early_hydration_extend_precache"===a||"control_early_hydration"===a||r}({experimentsClient:e,skipActivation:a}))return s("enabled_preload_and_body_scripts",!0);let{group:i}=e?.checkExperiment("web_early_hydration",{dangerouslySkipActivation:a})??{group:""};return s(i,!1)}let i=a(234178).Z;function l({handlerId:e,requestContext:t}){let{group:a,isServiceWorkerExperiment:r}=o({experimentsClient:t.experimentsClient,handlerId:e,skipActivation:!0}),{isAuthenticated:n,isBot:s,userAgent:i}=t;return{earlyHydrationGroup:a||"unknown",environment:"client",handlerId:e,isAuthenticated:n,isBot:s,isDesktop:!i.isMobile&&!i.isTablet,isServiceWorkerExperiment:r,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},553298:function(e,t,a){function r(e){return!("hydration"===e.type&&(e.payload.error.message.includes("Suspense boundary received an update before it finished hydrating")||e.payload.error.message.includes("Minified React error #421")||!e.payload.errorInfo.componentStack))}a.d(t,{f:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/83929.en_GB-db9471af9bf806ed.mjs.map