(self.modernJsonp=self.modernJsonp||[]).push([["90479"],{222078:function(e,t,i){var n,l;i.r(t),i.d(t,{default:()=>a});let r=(l=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:l,storageKey:null}],type:"AdvisoryAction",abstractKey:null});r.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let a=r},5755:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37";let l=n},52950:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c";let l=n},90486:function(e,t,i){var n,l,r;i.r(t),i.d(t,{default:()=>o});let a=(l=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="fa2efeb6b4c660680d9f3a0e156c8007";let o=a},932334:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};l.hash="92b841173868ce353dd00b5fce287546";let r=l},464788:function(e,t,i){i.r(t),i.d(t,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="547e5abdb645851996d6a1b1a4027c56";let l=n},433100:function(e,t,i){i.d(t,{f:()=>w,l:()=>v});var n=i(667294),l=i(178226),r=i(735243),a=i(477738),o=i(148),s=i(252974),d=i(250182),c=i(655068),u=i(531624),_=i(515511),p=i(213491),h=i(360033),f=i(986475),m=i(640200),x=i(785893);let g=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let l=(0,f.Z)(m.Z,!0)(n),r=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[r]?e[r]=l:e.push(l)},b=(e,t,i,n)=>{let l=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(l?.action?.filter){let e=l.action.filter.filterOptions;l.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:y,get:v}=(0,p.Z)("OneBarProductFilters");function w({children:e}){let[t,i]=(0,n.useState)([]),[p,f]=(0,n.useState)(null),m=function(){let{scope:e}=(0,o.n)();return[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(e)}(),v=(0,u.Z)(),w=(0,d.Z)(),j=(0,l.Z)(),S=(0,r.Z)(),C=(0,c.Z)(),A=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let l=e?.filter(({module_type:e})=>17===e||0===e);if(!l||l?.length===0||!n)return;let r=n!==p,a=r?[]:t;(r||!m)&&g(a,l,4),(r||!v)&&g(a,l,1),(r||!w)&&g(a,l,0),(r||!j)&&g(a,l,3),(r||!S)&&g(a,l,6),(r||!C)&&[7,8,9].forEach(e=>{g(a,l,e)}),(0,h.ZP)(a,t)||(i(a),f(n))},[t,j,S,m,w,C,v,p]),P=(0,s.Z)(),{priceMax:B,priceMin:Z,scope:I,brands:k,onSale:T,colors:E,domains:z}=(0,o.n)();(0,n.useEffect)(()=>{if(!P||0===t.length)return;let e=(0,_.Z)(t);if(I!==a.lw.PINS){let t=(0,a.gi)(I),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof B||"string"==typeof Z){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(Z)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(B)}:null].filter(Boolean))}b(new Set([3]),k,"stringValue",e),b(new Set([6]),E,"stringValue",e),b(new Set([0]),z,"stringValue",e),b(new Set([7,8,9]),T,"numericValue",e),(0,h.ZP)(e,t)||i(e)},[t,P,B,Z,I,k,E,z,T]);let F=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,x.jsx)(y,{value:F,children:e})}},310878:function(e,t,i){i.d(t,{N$:()=>T,wy:()=>z,VA:()=>I});var n,l=i(667294),r=i(167912),a=i(433100),o=i(675450),s=i(17832),d=i(856853);let c=(e,t,i)=>i&&(0,s.nZ)(i,t)?o.v.MODIFIED:(0,s.B1)(t,e)||i&&(0,s.Uv)(i,e)||(0,s.Uv)(t,e)?o.v.CLEARED:o.v.APPLIED;function u(e,t){(0,s.ph)(t);let i=e.find(e=>e?.id===t.id),n=i?.rules,l=i?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||n;if(!l)return[e,[]];let r=[],a=[];return e.forEach(e=>{void 0!==e.product_filter_type&&l.includes(e.product_filter_type)?r.push(e):a.push(e)}),[r,a]}function _(e,t){switch(t.type){case"RESET_FILTERS":let[i,n]=t.payload,l=i,r=(0,d.Z)(n)?(0,s.iP)(i):n;return Object.values(r).forEach(e=>{let[t]=u(l,e);l=t}),{models:i,availableFilterModels:l,appliedFilters:n,filters:r,isFetching:!1,pendingDeletedSelections:{},status:c(i,n,r)};case"CLEAR_FILTERS":let a=e.models,_=(0,s.P5)(e.models);return Object.values(_).forEach(e=>{let[t]=u(a,e);a=t}),{...e,filters:_,availableFilterModels:a,pendingDeletedSelections:{},status:c(e.models,e.appliedFilters,_)};case"UPDATE_FILTER":let{payload:p}=t,[h,f]=u(e.models,p),m={...e.filters,[p.id]:p},x={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=x[e.id];t&&(m[e.id]=t,delete x[e.id])}),f.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(x[e.id]=t,delete m[e.id])}),(0,s.ph)(p,e.models.find(e=>e.id===p.id))&&delete m[p.id],{...e,availableFilterModels:h,filters:m,pendingDeletedSelections:x,status:c(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:o.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:o.v.FAILED};case"SUBMIT_COMPLETE":let{filters:g}=e;return{...e,appliedFilters:g,pendingDeletedSelections:{},status:c(e.models,g)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var p=i(178226),h=i(735243),f=i(250182),m=i(655068),x=i(531624),g=i(360033);let b=new Set([1,0,3,6,7,8,9]),y=(e,t,i)=>{let n=t?.find(({product_filter_type:e})=>e===i);if(!n)return;let l=e.findIndex(({product_filter_type:e})=>e===i);e[l]?e[l]=n:e.push(n)},v=(e,t,i)=>{let n=t?.find(({product_filter_type:e})=>e===i);if(!n)return e;let l=e.findIndex(({product_filter_type:e})=>e===i);return e[l]?e[l]=n:e.push(n),e};var w=i(252974),j=i(213491),S=i(661376),C=i(148),A=i(657476),P=i(785893);let B=()=>{},{Provider:Z,getMaybe:I}=(0,j.Z)("UnifiedFiltersContext"),k=({applyInitFilters:e,children:t,filterModels:i,filters:n,isFetching:r,refreshFiltersData:a})=>{let{query:d}=(0,C.n)(),c=(0,w.Z)(),{getCachedFilters:u,cacheUnifiedFilterModelsWithProductFilters:j}=function(){let[e,t]=(0,l.useState)([]),[i,n]=(0,l.useState)(null),r=(0,x.Z)(),a=(0,f.Z)(),o=(0,p.Z)(),s=(0,h.Z)(),d=(0,m.Z)(),c=(0,l.useCallback)(({unifiedFilterModels:l,baseCacheKey:c})=>{let u=l?.filter(({product_filter_type:e})=>void 0!==e&&b.has(e));if(!u||u?.length===0||!c)return;let _=c!==i,p=_?[]:e;(_||!r)&&y(p,u,1),(_||!a)&&y(p,u,0),(_||!o)&&y(p,u,3),(_||!s)&&y(p,u,6),(_||!d)&&[7,8,9].forEach(e=>{y(p,u,e)}),(0,g.ZP)(p,e)||(t(p),n(c))},[e,o,s,a,d,r,i]);return{getCachedFilters:(0,l.useCallback)(t=>{if(!t||t?.length===0)return[];let i=[...t];return r&&(i=v(i,e,1)),a&&(i=v(i,e,0)),o&&(i=v(i,e,3)),s&&(i=v(i,e,6)),d&&[7,8,9].forEach(t=>{i=v(i,e,t)}),i},[e,o,s,a,d,r]),cacheUnifiedFilterModelsWithProductFilters:c}}(),S=e?.(i)||n||{},[A,B]=(0,l.useReducer)(_,{models:i,availableFilterModels:i,appliedFilters:S,filters:S,pendingDeletedSelections:{},isFetching:r,status:(0,s.B1)(S,i)||(0,s.Uv)(S,i)?o.v.CLEARED:o.v.APPLIED}),[I,k]=(0,l.useState)(i);(0,l.useEffect)(()=>{r&&B({type:"LOADING"})},[r]),(0,l.useEffect)(()=>{if(r||A.isFetching&&0===i.length)return;if(!(0,s.a$)(I,i))return void B({type:"LOADING_COMPLETED_OR_FAILED"});let t=i;c||(t=u([...i]),j({unifiedFilterModels:[...i],baseCacheKey:d})),B({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),k(i)},[e,i,I,r,A.isFetching,u,j,d,c]);let T=(0,l.useMemo)(()=>({filterState:A,dispatch:B,refreshFiltersData:a}),[A,a]);return(0,P.jsx)(Z,{value:T,children:t})},T=({bookmark:e="",children:t,generateInitFilterCb:i})=>{let n=(0,w.Z)(),{data:l=null,refresh:r,isLoaded:o}=(0,S.Z)(!n&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,a.l)(),c=d.map(s.tx).filter(Boolean);return(0,P.jsx)(k,{applyInitFilters:i,filterModels:(n?c:l)||[],isFetching:n?0===c.length:!o||!e,refreshFiltersData:r,children:t})},E=(void 0!==n||(n=i(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==n.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),z=({children:e,oneBarModulesKey:t})=>{let{data:i,isFetching:n,isLoaded:a}=(0,A.Z)(),{oneBarModules:s}=i||{},d=(0,r.useFragment)(E,t),c=(0,l.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:n,pendingDeletedSelections:{},status:o.v.CLEARED},refreshFiltersData:B}),[n]),u=(d?[d]:s?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),_=u?.action?.filters;if(!u||!_)return(0,P.jsx)(Z,{value:c,children:e});let p=u.id||"",h={[p]:{id:p,selectedOptionId:_.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,P.jsx)(k,{filterModels:[{filter_component_type:2,filter_options:_.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:p,title:"",product_filter_type:4}],filters:h,isFetching:!a,refreshFiltersData:B,children:e})}},675450:function(e,t,i){i.d(t,{$:()=>n,v:()=>l});let n=50,l={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,i){i.d(t,{Z:()=>c});var n=i(433100),l=i(310878),r=i(17832),a=i(986475),o=i(537701),s=i(629724),d=i(148);function c(){let{brands:e,colors:t,domains:i,onSale:c,priceMax:u,priceMin:_}=(0,d.n)(),p=(0,l.VA)(),{cachedProductFilterOneBarModules:h}=(0,n.l)(),f=Number((0,s.Z)().filter_location);if(1===f){let{filterState:e}=p||{};return e?(0,r.Ax)(e.appliedFilters,e.models):null}if(0===f){let n=(0,a.Z)(o.Z,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,r.vJ)({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:c,priceMaxParam:u,priceMinParam:_,unifiedFilterModels:n})}return null}},178226:function(e,t,i){i.d(t,{Z:()=>r});var n=i(312048),l=i(341687);function r(){return!!(0,l.Z)((0,n.TH)().search).brands}},735243:function(e,t,i){i.d(t,{Z:()=>a});var n=i(312048),l=i(501010),r=i(341687);function a(){let{checkExperiment:e}=(0,l.Z)(),t=(0,n.TH)(),{colors:i}=(0,r.Z)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,i){i.d(t,{Z:()=>l});var n=i(501010);function l(){let{checkExperiment:e}=(0,n.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,i){i.d(t,{Z:()=>r});var n=i(312048),l=i(341687);function r(){return!!(0,l.Z)((0,n.TH)().search).domains}},531624:function(e,t,i){i.d(t,{Z:()=>r});var n=i(312048),l=i(341687);function r(){let e=(0,n.TH)(),{price_max:t,price_min:i}=(0,l.Z)(e.search);return!!(i??t)}},17832:function(e,t,i){i.d(t,{Ak:()=>j,Ax:()=>y,B1:()=>_,LG:()=>w,P5:()=>f,UP:()=>S,Uv:()=>p,a$:()=>c,eF:()=>C,i7:()=>x,iP:()=>h,nZ:()=>d,ph:()=>u,rc:()=>b,tx:()=>v,vJ:()=>g});var n=i(675450),l=i(360033),r=i(477738);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:i})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:i,image_url:n,is_verified:l,numeric_value:r,string_value:a,unit:o})=>({id:e,label:t,count:i,image_url:n,is_verified:l,numeric_value:r,string_value:a,unit:o})),title:i})),o=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,l.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},s=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(s(e)&&s(t))return!1;if(s(e)||s(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let i in e)if(o(e[i],t?.[i]))return!0;return!1},c=(e,t)=>!(0,l.ZP)(a(e),a(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},_=(e,t)=>{try{for(let i in e){let n=e[i],l=t.find(e=>e.id===n?.id);if(n&&!u(n,l))return!1}return!0}catch(e){return!0}},p=(e,t)=>{if(!t||0===t.length)return!1;let i=t[0];if(!i)return!1;switch(i?.filter_component_type){case 2:let n=i.filter_options?.[0];for(let t in e){let i=e[t];if(!i)break;if("selectedOptionId"in i&&i.selectedOptionId===n?.id)return!0}return!1;case 1:for(let t in e){let n=e[t];if(!n)break;if(n.id===i.id&&"selectedOptionIds"in n&&0===n.selectedOptionIds.size)return!0}return!1;default:return!1}},h=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let i=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return i&&i.length>0?{selectedOptionIds:new Set(i),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),f=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let i=t.filter_options?.[0]?.id;return i&&"string"==typeof t.id?{[t.id]:{selectedOptionId:i,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:i,product_filter_type:n}=e,l=t;return"number"==typeof n&&(l+=`_${n}`),i.length>0&&(l+=":",i.forEach((e,t)=>{let{filter_option_id:n,numeric_value:r,string_value:a,unit:o}=e;l+=`${n}`,"number"==typeof r&&(l+=`_${r}`),"string"==typeof a&&(l+=`_${a}`),"string"==typeof o&&(l+=`_${o}`),t<i.length-1&&(l+=",")})),l}).join("|"),x=({brands:e,colors:t,domains:i,onSale:n,priceMax:l,priceMin:a,scope:o,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:_}of s)if(u&&c?.length){if(1===_&&("number"==typeof a||"number"==typeof l)){let[e,t,i,n]=c,r=a??i?.numeric_value??e?.numeric_value??0,o=l??n?.numeric_value??t?.numeric_value??100;d[u]={min:r,max:o,id:u,type:"range",lastChangedLocation:1}}if(0===_&&i&&i.length>0){let e=i.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===_&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===_&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===_&&o){let e=(0,r.gi)(o),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof _&&new Set([7,8,9]).has(_)&&n){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},g=({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:n,priceMaxParam:l,priceMinParam:r,unifiedFilterModels:a})=>{let o=[],s=Number(r),d=Number(l),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,_=i?.split(",").filter(Boolean)??[],p=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:i}of a)if(t&&e?.length){if(1===i&&"number"==typeof c&&"number"==typeof u){let n={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:i};o.push(n)}if(0===i&&_&&_.length>0){let n=_.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(3===i&&p&&p.length>0){let n=p.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(6===i&&h&&h.length>0){let n=h.map(t=>{let i=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return i?i.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};o.push(e)}}if(7===i&&n){let l=e[0]?.id;if(l){let e={filter_id:t,filter_options:[{filter_option_id:l,numeric_value:Number(n)}],location:0,product_filter_type:i};o.push(e)}}}return 0===o.length?null:m(o)},b=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:i})=>{let n=null,l=null,a=!1,o=null,s=null,d=null,c=null,u=null;for(let _ in e){let p=e[_];if(p){let e=i.find(e=>e.id===p.id);if(e)if("range"===p.type&&1===e.product_filter_type)d=p.min,s=p.max;else if("multi"===p.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));o=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));l=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===p.type&&4===e.product_filter_type){let i=e.filter_options?.find(e=>p.selectedOptionId===e.id),n=i&&void 0!==i.search_type?(0,r.zh)(i.search_type):r.lw.PINS;u=n,t&&(u=n===r.lw.PINS_BUYABLE?r.lw.PINS:n,a=n===r.lw.PINS_BUYABLE)}else"single"===p.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let _=i.find(e=>4===e.product_filter_type),p=_?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof p?.search_type&&(u=(0,r.zh)(p.search_type)),{brands:n,colors:l,commerce_only:a,domains:o,max:s,min:d,on_sale:c,scope:u}},y=(e,t)=>{let i=[];return(Object.entries(e).forEach(([e,n])=>{let l=t.find(e=>e.id===n.id);if(!l||4===l.product_filter_type||"number"!=typeof l.product_filter_type||!l.filter_options)return;let r=[];if("range"===n.type){let[e,t]=l.filter_options;if(!e?.id||!t?.id)return;r=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=l.filter_options.find(e=>e.id===n.selectedOptionId);if(!e?.id)return;r=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===n.type){let e=l.filter_options.filter(e=>e.id&&n.selectedOptionIds.has(e.id));if(0===e.length)return;r=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}i.push({filter_id:e,filter_options:r,location:n.lastChangedLocation,product_filter_type:l.product_filter_type})}),i&&0!==i.length)?m(i):null},v=e=>{let{filter:t,title:i}=e.action||{},{title:n}=t||{},l=i||n;if(!t||!l)return null;let{filterComponentType:r,productFilterType:a,id:o}=t,s=(t.filterOptions||[]).filter(Boolean);if(void 0===r||void 0===s||0===s.length||null==a||null==o)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:i,imageUrl:n,isVerified:l,label:r,numericValue:a,searchType:o,stringValue:s,unit:d,rules:c}=e;return null===n||null===n||null===a||null===l||null===s||null===d?null:{id:i||"",label:r||"",count:0,image_url:n,is_verified:l,numeric_value:a,...c?{rules:[...c]}:{},..."number"==typeof o?{search_type:o}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(s);return d?{filter_component_type:r,filter_options:[...d],id:o||"",product_filter_type:a,title:l}:null};function w(e,t,i){let[l,r,a,o]=i,{numeric_value:s=0}=o??l??{},{numeric_value:d=s+n.$}=a??r??{},{unit:c="USD"}=l??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:s,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:s,unit:c,range:u}}function j(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function S(e,t){let i=[];return Object.entries(t).forEach(([t,n])=>{let l=e.find(e=>e?.id===t);if(l){let e=l.aux_data?.module_id;e&&i.push(e);let t=("multi"===n.type?Array.from(n.selectedOptionIds):"single"===n.type?[n.selectedOptionId]:[]).map(e=>{let t=l.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);i.push(...t)}}),i}function C(e,t){let i=[];return Object.keys(t).forEach(t=>{let n=e.find(e=>e?.id===t);if(n){let e=n.product_filter_type;e&&i.push(e)}}),i}},611649:function(e,t,i){i.d(t,{Z:()=>s});var n=i(935059),l=i(501010),r=i(739405),a=i(200619),o=i(601871);function s(e){let t=(0,r.HG)(),{checkExperiment:i}=(0,l.Z)(),s=(0,a.Z)(),d=(0,n.Z)(),c=(0,o.lJ)(d,s),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled;return!c&&(e&&i("sce_lightswitch_organic"),!t||!!u)}},272598:function(e,t,i){i.d(t,{Z:()=>P});var n=i(686659),l=i(667294),r=i(399353),a=i(505633),o=i(290216),s=i(944307),d=i(916559),c=i(465784),u=i(986475),_=i(640200),p=i(721703),h=i(9065),f=i(785893);let m=(0,h.Z)(()=>i.e("88929").then(i.bind(i,775533)),{ssr:!1},e=>775533,void 0,void 0),x=(0,h.Z)(()=>i.e("33629").then(i.bind(i,282842)),{ssr:!1},e=>282842,void 0,void 0),g=(0,h.Z)(()=>Promise.all([i.e("6608"),i.e("74374")]).then(i.bind(i,568432)),{ssr:!1},e=>568432,void 0,void 0),b=(0,h.Z)(()=>i.e("12026").then(i.bind(i,788635)),{ssr:!1},e=>788635,void 0,void 0),y=(0,h.Z)(()=>Promise.all([i.e("15417"),i.e("66276"),i.e("34567"),i.e("34113")]).then(i.bind(i,50415)),{ssr:!1},e=>50415,void 0,void 0),v=(0,h.Z)(()=>i.e("3256").then(i.bind(i,126963)),{ssr:!1},e=>126963,void 0,void 0),w=(0,h.Z)(()=>i.e("1295").then(i.bind(i,826241)),{ssr:!1},e=>826241,void 0,void 0),j=(0,h.Z)(()=>i.e("29376").then(i.bind(i,708459)),{ssr:!1},e=>708459,void 0,void 0),S=(0,h.Z)(()=>i.e("28234").then(i.bind(i,182112)),{ssr:!1},e=>182112,void 0,void 0),C=[505420,505933,506173,506124,506436],A=({complete:e,dismiss:t,experience:i,placementId:n})=>{let{experience_id:l,display_data:o}=i,d=function(e){switch(e){case 504721:return w;case 504569:return v;case 504032:return j;case 502271:return x;case 505093:return S;default:return m}}(l),h=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(l),{setObserverRef:A}=(0,s.NQ)();return(0,f.jsxs)(r.xu,{ref:A,children:[!C.includes(l)&&(0,f.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:h,children:(0,f.jsx)(d,{...(0,u.Z)(_.Z)(o),experienceId:l,handleComplete:e,handleDismiss:t,placementId:n})}),506124===l&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(_.Z)(o)}),(506173===l||506436===l)&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(_.Z)(o)}),505420===l&&(0,f.jsx)(y,{experienceId:505420,onSubmitSurvey:async()=>{(0,a.Z)((0,p.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:n,viewType:251}),505933===l&&(0,f.jsx)(b,{handleComplete:()=>{e(),(0,a.Z)((0,p.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function P({placementId:e}){(0,l.useEffect)(()=>{(0,n.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,d.Z)(e);return(0,f.jsx)(l.Fragment,{children:(0,f.jsx)(o.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:n})=>(0,f.jsx)(A,{complete:t,dismiss:i,experience:n,placementId:e})})})}},270434:function(e,t,i){i.d(t,{Z:()=>S,_:()=>C});var n=i(686659),l=i(667294),r=i(581722),a=i(312048),o=i(376030),s=i(576629),d=i(399353),c=i(935059),u=i(24246),_=i(216975),p=i(748261),h=i(38359),f=i(785893);function m({boardlessPins:e,displayFBCModalContent:t,handleClick:i,imageUrl:r,inFBCExperiment:a,pinRef:o,smallPinRep1:s,smallPinRep2:m,title:x,updateStep:g,onDismiss:b,inResUserFBCExperiment:y=!1,repinData:v}){(0,l.useEffect)(()=>{(0,n.Z)("FBCUpsellIntroStep","/app/common/react/components/save/QuickSave/FBCUpsellIntroStep.tsx")},[]);let w=(0,u.Z)(),j=(0,c.Z)(),S=j.isAuth?j.username:null,C=w.bt("Save it, sort it, find it", "Save it, sort it, find it", "fbc.modal.title", undefined, true),A=w.bt("Boards let you collect and organise your favourite ideas so you can get back to what inspires you.", "Boards let you collect and organize your favorite ideas so you can get back to what inspires you.", "fbc.modal.subtitle", undefined, true),P=w.bt("Create board", "Create board", "fbc.modal.button.text", undefined, true),B=S?(0,_.Wc)(w.bt("@{{ username }}'s Vibe!", "@{{ username }}'s Vibe!", "fbc.modal.board.title", undefined, true),{username:S.charAt(0).toUpperCase()+S.slice(1)}):null,Z={url:v?.image?.url,name:v?.description};return a||y?(0,f.jsx)(d.kC,{alignItems:"center",direction:"column",height:594,justifyContent:"start",width:"540",children:t?(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(d.xu,{marginEnd:2,marginTop:2,padding:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(d.hU,{accessibilityLabel:"Dismiss modal",icon:"close",iconColor:"default",onClick:b,size:"lg"})}),(0,f.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",flex:"grow",justifyContent:"center",width:"100%",children:(0,f.jsxs)(d.xu,{alignItems:"start",color:"default",direction:"column",display:"flex",justifyContent:"center",padding:6,rounding:400,width:369,children:[(0,f.jsx)(p.Z,{images:y?[Z]:e}),B&&(0,f.jsx)(d.xu,{marginTop:1,paddingX:1,width:"100%",children:(0,f.jsx)(d.xv,{children:B})})]})}),(0,f.jsx)(d.kC,{justifyContent:"center",width:"100%",children:(0,f.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:5,width:458,children:[(0,f.jsx)(d.qd,{align:"center",size:"600",children:C}),(0,f.jsx)(d.xu,{marginTop:2,width:"100%",children:(0,f.jsx)(d.xv,{align:"center",children:A})}),(0,f.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:4,paddingX:6,width:"100%",children:(0,f.jsx)(d.zx,{color:"primary",fullWidth:!0,onClick:g,size:"lg",text:P})})]})})]}):(0,f.jsx)(d.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,f.jsx)(d.xH,{show:!0})})}):(0,f.jsxs)(d.iP,{onTap:i,rounding:800,children:[(0,f.jsx)(d.xu,{alignItems:"center","data-test-id":"content-wrapper",display:"flex",justifyContent:"center",marginTop:8,minHeight:h.mE,children:(0,f.jsxs)(d.xu,{display:"flex",justifyContent:"between",overflow:"hidden",rounding:400,children:[(0,f.jsx)(d.xu,{ref:o,height:h.mE,width:h.Kp,children:r&&(0,f.jsx)(d.Ee,{alt:x||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})}),(0,f.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,f.jsx)(d.xu,{ref:s,color:"secondary",height:h.mE/2}),(0,f.jsx)(d.xu,{ref:m,color:"secondary",height:h.mE/2})]})]})}),(0,f.jsx)(d.xu,{padding:8,children:(0,f.jsx)(d.qd,{align:"center",size:"600",children:w.bt("Keep your ideas organised by creating a board", "Keep your ideas organized by creating a board", "quickSave.eduToast.heading", undefined, true)})})]})}var x=i(230201),g=i(290216),b=i(465784),y=i(661376),v=i(893957),w=i(504727),j=i(228612);function S({boardId:e,boardUrl:t,onHide:i,imageUrl:d,title:_,toastDuration:p,firstBoardCreationExperimentEnabled:g=!1,resUserFirstBoardCreationExperimentEnabled:S=!1,showRepinAnimation:C,onComplete:A,repinData:P}){(0,l.useEffect)(()=>{(0,n.Z)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]);let{logContextEvent:B}=(0,x.u)(),Z=(0,u.Z)(),I=(0,a.s0)(),k=(0,l.useRef)(null),T=(0,l.useRef)(null),E=(0,l.useRef)(null),[z,F]=(0,l.useState)("INTRO_STEP"),O=(0,c.Z)(),D=O.isAuth?O.id:"",L=(0,r.v9)(({feeds:e})=>e[`boardless-pins:${O.isAuth?O.id:""}`])||[],R=(0,j.JC)(),{boardlessPinsEnabled:M}=(0,w.Xt)(D),N=(0,y.Z)((g||S)&&M&&D?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:D}}:null),H=!!L&&L.reduce((e,t)=>{let i=R[t.id];return e.push({name:i?.description,url:i?.images?.["236x"]?.url}),e},[])||[],U=(L||[]).length>0&&N?.data||S&&P;(0,v.Z)(()=>{(g||S)&&B({event_type:13,view_type:740,view_parameter:4165})}),(0,l.useEffect)(()=>{B({event_type:9311,element:11934,object_id_str:e}),setTimeout(()=>(()=>{let e=k.current,t=T.current,i=E.current;e&&t&&i&&((0,o.Z)({targets:e,height:[h.Kp+2],duration:600,delay:1e3,easing:"linear"}),(0,o.Z)({targets:[t,i],width:[0,h.Kp/2],height:[h.Kp/2],marginLeft:[2],delay:1e3,duration:600,easing:"linear"}))})(),100);let t=setTimeout(()=>{g||S||i()},p);return()=>clearTimeout(t)},[]);let q=()=>o.Z.remove([k.current,T.current,E.current]),K=()=>{B({event_type:9313,element:11934,object_id_str:e}),(g||S)&&B({event_type:17476,view_type:740,view_parameter:4165}),q(),i()};return(0,f.jsxs)(l.Fragment,{children:["INTRO_STEP"===z&&(0,f.jsx)(b.ZP,{accessibilityModalLabel:Z.bt("Keep your ideas organised by creating a board", "Keep your ideas organized by creating a board", "quickSave.eduToast.modalAccessibilityLabel", undefined, true),onDismiss:K,children:(0,f.jsx)(m,{boardlessPins:H,displayFBCModalContent:!!U,handleClick:()=>{B({event_type:9312,element:11934,object_id_str:e}),q(),i(),I(t)},imageUrl:d,inFBCExperiment:g,inResUserFBCExperiment:S,onDismiss:K,pinRef:k,repinData:P,smallPinRep1:T,smallPinRep2:E,title:_,updateStep:()=>{F("BOARD_CREATE_STEP"),B({event_type:101,view_type:740,view_parameter:4165,element:96})}})}),(g||S)&&"BOARD_CREATE_STEP"===z&&L.length>0&&(0,f.jsx)(s.Z,{boardlessPinsNormalized:L,fetchMore:()=>{},hasBoards:!1,isFirstBoardCreation:g,isResUserFirstBoardCreation:S,lastSavedPin:P,onComplete:A,onDismiss:()=>{B({event_type:17476,view_type:740,view_parameter:4166,element:12284}),i()},showRepinAnimation:C,userId:O.isAuth?O.id:""})]})}function C({experience:e}){return(0,l.useEffect)(()=>{(0,n.Z)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]),(0,f.jsx)(g.a3,{eligibleIds:[508446],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,f.jsx)(S,{boardId:"",boardUrl:"",imageUrl:"",onComplete:e,onHide:t,repinData:{id:i.display_data?.repin_id??"",image:{url:i.display_data?.repin_image?.url??"",height:i.display_data?.repin_image?.height??0,width:i.display_data?.repin_image?.width??0},description:i.display_data?.repin_description??""},resUserFirstBoardCreationExperimentEnabled:!0,title:"",toastDuration:5e3})})}},564023:function(e,t,i){i.d(t,{Z:()=>l});var n=i(47755);let l=async e=>(await (0,n.Z)({url:"/v3/board/{board}/report_reasons/",urlParams:{board:e}})).resource_response.data},711960:function(e,t,i){i.d(t,{Z:()=>l});var n=i(47755);let l=async(e,t)=>await (0,n.Z)({url:"/v3/board/{board}/flag/",urlParams:{board:e},method:"POST",data:t})},59355:function(e,t,i){i.d(t,{Q:()=>s,Z:()=>d});var n=i(667294),l=i(104999),r=i(746868),a=i(730056),o=i(774838);function s(e,t){let{setViewContextData:i}=(0,r.A$)(),{requestIdentifier:s}=(0,o.B)(),d=(0,l.Z)(),{viewData:c}=(0,r.SU)();(0,n.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},81342:function(e,t,i){i.d(t,{Z:()=>L});var n=i(686659),l=i(667294),r=i(270434),a=i(290216),o=i(435092),s=i(115964),d=i(399353),c=i(289935),u=i(24246),_=i(451503),p=i(785893);function h({dismissExperience:e,onClickCreateBoard:t}){(0,l.useEffect)(()=>{(0,n.Z)("BoardUpsellBanner","/app/www/nux/encouragements/BoardUpsellBanner.tsx")},[]);let i=(0,u.Z)(),{navFooterHeight:r,setForceShowNavFooter:a}=(0,_.Q)();(0,l.useEffect)(()=>(a(!0),()=>{a(!1)}),[a]);let o=i.bt("Pin saved! Add it to a board", "Pin saved! Add it to a board", "boardUpsellBanner.header", undefined, true),s=i.bt("Boards keep your ideas organised and easy to find later.", "Boards keep your ideas organized and easy to find later.", "boardUpsellBanner.message", undefined, true),h=i.bt("Create a board", "Create a board", "boardUpsellBanner.buttonLabel", undefined, true);return(0,p.jsx)(d.mh,{zIndex:c.b7,children:(0,p.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:r+8}},paddingX:3,paddingY:2,position:"fixed",right:!0,width:"100%",children:(0,p.jsx)(d.XA,{dismissButton:{accessibilityLabel:i.bt("Dismiss banner", "Dismiss banner", "boardUpsellBanner.dismiss", undefined, true),onDismiss:e},imageData:{component:(0,p.jsx)(d.JO,{accessibilityLabel:i.bt("Pin icon", "Pin Icon", "boardUpsellBanner.pinIcon", undefined, true),color:"primary",icon:"compact-pin-angled",size:20})},message:s,primaryAction:{accessibilityLabel:i.bt("Create board button", "Create board button", "boardUpsellBanner.createBoardButton", undefined, true),label:h,onClick:t},title:o})})})}var f=i(581722),m=i(312048),x=i(104999),g=i(236269),b=i(465784),y=i(924591),v=i(501010),w=i(577356),j=i(464094),S=i(748261),C=i(250704),A=i(39722),P=i(603909),B=i(63959),Z=i(322360),I=i(210730),k=i(914253),T=i(131076),E=i(500912),z=i(427475);function F({completeExperience:e,dismissExperience:t,repinData:i}){(0,l.useEffect)(()=>{(0,n.Z)("FirstBoardCreateHalfSheet","/app/www/save/BoardUpsell/FirstBoardCreateHalfSheet.tsx")},[]);let r=(0,u.Z)(),a=(0,m.TH)(),o=(0,f.I0)(),s=(0,E.n)(),{checkExperiment:c}=(0,v.Z)(),_=(0,x.Z)(),h=(0,z.Z)(),F=(0,A.m)(),O=(0,k.gC)(),{showToast:D}=(0,w.dI)(),[L,R]=(0,l.useState)(!1),[M,N]=(0,l.useState)(""),[H,U]=(0,l.useState)(!1),q=i.id,K={url:i?.image?.url,name:i?.description},$=r.bt("Keep board secret", "Keep board secret", "boardCreationHalfSheet.boardSecret.label", undefined, true),G=r.bt("Create board", "Create Board", "boardCreationHalfSheet.title", undefined, true),W=r.bt("Create", "Create", "boardCreationHalfSheet.createButton.label", undefined, true),J=r.bt("Enter board name", "Enter board name", "boardCreationHalfSheet.boardName.placeholder", undefined, true),V=r.bt("Board name", "Board Name", "boardCreationHalfSheet.boardName.label", undefined, true),X=r.bt("Close board creation modal button", "Close board creation modal button", "boardCreationHalfSheet.boardName.accessibilityLabel", undefined, true),Y=r.bt("Create first board modal", "Create first board modal", "boardCreationHalfSheet.accessibilityModalLabel", undefined, true),Q=r.bt("Board name is too long", "Board name is too long", "boardCreationHalfSheet.boardNameTooLongErrorMessage", undefined, true),ee=async()=>{let t=(0,C.Z)(a.state?.trackingParams||"");try{let i=await h({boardCreateOptions:{name:M,initial_pin_client_tracking_params:[t],privacy:L?"secret":"public"},deprecatedSchemaForNormalization:I.IY}),{url:n="",id:l}=i||{};q&&o((0,Z.w)({checkExperiment:c,i18n:r,logContextEvent:_,pinId:q,boardId:l,trackingParams:{clientTrackingParams:t,pinnedToBoardId:l},historyPush:()=>void 0,savePinId:(e,t)=>(F?.save(e),s?.save(e,t))})),e();let{duration:a,text:d,thumbnail:u}=(0,P.Z)({boardId:l,getReduxBoard:O,isFBC:!0,pinId:q,viewType:3}),{href:f}=(0,T.Z)(n,i.name??"",r);return D(({hideToast:e})=>(0,p.jsx)(B.Z,{duration:a,href:f,onHide:e,text:d,thumbnail:u})),{boardId:l,boardUrl:n}}catch(e){return D(({hideToast:t})=>(0,p.jsx)(y.Z,{duration:5e3,onHide:t,text:(0,g.Z)(e,"message_detail")||(0,g.Z)(e,"message")||r.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "error creating board", undefined, true)})),null}};return(0,p.jsx)(b.ZP,{accessibilityModalLabel:Y,onDismiss:t,children:(0,p.jsxs)(d.xu,{padding:2,children:[(0,p.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1,width:"100%",children:[(0,p.jsx)(d.hU,{accessibilityLabel:X,icon:"close",onClick:t,size:"lg"}),(0,p.jsx)(d.qd,{color:"default",size:"300",children:G}),(0,p.jsx)(d.zx,{color:"primary",disabled:H||!M,onClick:ee,size:"md",text:W})]}),(0,p.jsxs)(d.kC,{direction:"column",children:[(0,p.jsx)(d.xu,{display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,p.jsx)(d.xu,{width:269,children:(0,p.jsx)(S.Z,{fullSize:!0,images:[K]})})}),(0,p.jsxs)(d.xu,{padding:2,children:[(0,p.jsx)(d.nv,{errorMessage:H?Q:void 0,errorMessageDisplay:H?"visible":"hidden",id:"board-name-input",label:V,mobileInputMode:"text",onChange:({value:e})=>{N(e),e.length>=j.Bp?U(!0):U(!1)},placeholder:J,size:"lg",type:"text",value:M}),(0,p.jsxs)(d.xu,{display:"flex",justifyContent:"between",padding:4,children:[(0,p.jsx)(d.xv,{size:"100",children:$}),(0,p.jsx)(d.rs,{id:"secretBoardToggle",onChange:()=>R(!L),switched:L})]})]})]})]})})}function O({complete:e,dismiss:t,experience:i}){let[n,r]=(0,l.useState)(1),a=(0,l.useRef)(!1);(0,l.useEffect)(()=>()=>{a.current||t()},[t]);let o=()=>{a.current=!0,t()};return 1===n?(0,p.jsx)(h,{dismissExperience:o,onClickCreateBoard:()=>r(2)}):(0,p.jsx)(F,{completeExperience:()=>{a.current=!0,e()},dismissExperience:o,repinData:{id:i.display_data?.pin_id??"",image:{url:i.display_data?.pin_image?.url??""},description:i.display_data?.pin_description??""}})}function D({experience:e}){return(0,l.useEffect)(()=>{(0,n.Z)("FirstBoardUpsellExperience","/app/www/save/BoardUpsell/FirstBoardUpsellExperience.tsx")},[]),(0,p.jsx)(s.ZP,{eligibleIds:[508536],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,p.jsx)(O,{complete:e,dismiss:t,experience:i})})}let L=({placementId:e})=>{(0,l.useEffect)(()=>{(0,n.Z)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx")},[]);let{experienceForPlacement:t}=(0,o.oS)(e),{unmountPlacement:i,registerAfterActionPlacement:s}=(0,o.Sc)();return(0,l.useEffect)(()=>(s(e),()=>{i(e)}),[e,i,s]),(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(a.nj,{experience:t}),(0,p.jsx)(a.O9,{experience:t}),(0,p.jsx)(a._f,{experience:t}),(0,p.jsx)(r._,{experience:t}),(0,p.jsx)(D,{experience:t})]})}},935059:function(e,t,i){i.d(t,{$:()=>n,Z:()=>r});let{Provider:n,get:l}=(0,i(213491).Z)("viewer"),r=l},774838:function(e,t,i){i.d(t,{B:()=>r,P2:()=>o,Ts:()=>l,gf:()=>a});let n=i(969634),{getRequestContext:l}=n,{useRequestContext:r}=n,{useUpdateRequestContext:a}=n,{RequestContextProvider:o}=n},969634:function(e,t,i){i.r(t),i.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>s,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var n=i(667294),l=i(659541),r=i(907049),a=i(785893);let o=(0,n.createContext)(null);function s(){return(0,n.use)(o).requestContextState}function d({children:e,initialValue:t}){let[i,s]=(0,n.useState)(t),d=(0,n.useMemo)(()=>({requestContextState:i,updateRequestContext:e=>{let t={...i,...e};(0,r.Z)(i,e)||s(t),(0,l.J)(t)}}),[i]);return(0,a.jsx)(o,{value:d,children:e})}function c(){let e=(0,n.use)(o);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,n.use)(o);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},317109:function(e,t,i){i.d(t,{Z:()=>s});var n=i(686659),l=i(667294),r=i(653015);function a({children:e}){if("undefined"==typeof window)throw Error(r.u);return e}var o=i(785893);function s({children:e,fallback:t}){return(0,l.useEffect)(()=>{(0,n.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,o.jsx)(l.Suspense,{fallback:t,children:(0,o.jsx)(a,{children:e})})}},42676:function(e,t,i){i.d(t,{Tb:()=>s,vW:()=>o});var n=i(99737),l=i(778555),r=i(405897),a=i(34550);function o({searchParams:e,sourceUrl:t,isDesktop:i,isAuthenticated:n,appliedUnifiedFilters:l}){let{autoCorrectionDisabled:r,bubbleId:a,category:o,currentlyAppliedFiltersParamTerm:s,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:h,priceMax:f,priceMin:m,query:x,requestParams:g,rs:b,scope:y,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,topPinIds:S,user:C}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:i,personalizationPinSig:n,inGlobalSearch:l,appliedUnifiedFilters:r,initialCategory:a,initialDomains:o,initialMaxPrice:s,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),h={..._,filters:i,selectedOneBarModules:p,selectedPinImgSig:n};if(l)return d(h);let f={...h,appliedUnifiedFilters:r,appliedProductFilters:function({category:e,domains:t,maxPrice:i,minPrice:n}){return[e,t,i,n].map(e=>e??"").join("-")}({category:a,domains:o,maxPrice:s,minPrice:c})};return u&&(f.domains=o,f.priceMax=s?parseInt(s,10):void 0,f.priceMin=c?parseInt(c,10):void 0),d(f)}({appliedUnifiedFilters:l,autoCorrectionDisabled:r,bubbleId:a,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:o,initialDomains:c,initialMaxPrice:f,initialMinPrice:m,isDuplo:!n||!i,journeyDepth:p,personalizationPinSig:h,query:x,requestParams:g,rs:b,scope:y,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,sourceUrl:t,topPinIds:S,user:C})}function s({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:i,filters:n,journey_depth:l,query:r,rs:a,scope:o,selected_one_bar_modules:s,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:_,user:p}){let h=[e,n,l,r,a,o,s,d,c,u,t,_,p].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+h:h}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:i="pins",appliedUnifiedFilters:o=null,appliedProductFilters:s=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=r.i.DIRECT_NAVIGATION,journeyDepth:h=null,sourceId:f=null,sourceModuleId:m=null,sourceUrl:x=null,selectedOneBarModules:g=null,selectedPinImgSig:b=null,user:y=null,autoCorrectionDisabled:v=!1,seoDrawerEnabled:w=!1,bubbleId:j=null,pageSize:S=null,requestParams:C=null,topPinIds:A=null}=e,P="undefined"!=typeof window?(0,a.M0)().getItem("pwt_performance_testing"):null,B=x&&x.includes("pwt_performance_testing"),Z=!!(!0===P||"true"===P||B);return{query:t,scope:i,appliedProductFilters:s,domains:c,user:y,seoDrawerEnabled:w,applied_unified_filters:o,auto_correction_disabled:v,journey_depth:h,source_id:f,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,i=e.split("?")[1];i&&i.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:r,queryKey:a}=(0,n.Z)((0,l.Z)(e,["request_params"])),o=Object.keys(a).sort().map(e=>t.has(e)?e:`${e}=${a[e]}`).join("&");return o?`${r}?${o}`:r}(x),static_feed:Z,selected_one_bar_modules:g,query_pin_sigs:b,page_size:S,price_max:u,price_min:_,request_params:C,top_pin_ids:A,article:j,corpus:b?"personalize":null,customized_rerank_type:b?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},907049:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(i=>e[i]===t[i])}},537701:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}},739405:function(e,t,i){i.d(t,{HG:()=>u,Kf:()=>a,Wb:()=>c,ZP:()=>_,dA:()=>o,ds:()=>s,ml:()=>d});var n=i(374535),l=i(774838);let r=()=>{let e=(0,l.B)();return(0,n.Z)(e)},a=e=>"phone"===e,o=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>a(r()),c=()=>o(r()),u=()=>s(r()),_=r},118376:function(e,t,i){i.d(t,{Z:()=>s});var n=i(399353),l=i(924591),r=i(24246),a=i(577356),o=i(785893);function s(){let{showToast:e}=(0,a.dI)(),t=(0,r.Z)();return()=>{e(({hideToast:e})=>(0,o.jsx)(l.Z,{duration:5e3,onHide:e,text:t.bt("Blocked. To manage your block list, see social permissions in Settings.", "Blocked. To manage your block list, see social permissions in settings.", "blockedAccounts.blockConfirmMessage", undefined, true),thumbnail:{icon:(0,o.jsx)(n.JO,{accessibilityLabel:t.bt("Success icon", "Success icon", "blockedAccounts.blockConfirmMessage.icon", undefined, true),color:"default",icon:"circle-check-fill",size:12})}}))}}},181735:function(e,t,i){i.d(t,{Z:()=>F});var n,l,r,a,o=i(686659),s=i(667294),d=i(230201),c=i(501010),u=i(774838),_=i(739405),p=i(893957),h=i(514821);i(167912);var f=i(399353),m=i(183e3),x=i(104999),g=i(748336),b=i(631284),y=i(166613),v=i(785893);let w=(void 0!==n||(n=i(222078)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==n.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function j({auxData:e,actionKey:t,alignCenter:i}){(0,s.useEffect)(()=>{(0,o.Z)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let n=(0,m.Z)(w,t),l=(0,x.Z)(),r=(0,_.HG)(),{title:a,description:d,button:c}=n,u=c?.text,p=a?.text,h=d?.text,j=c?.link??"",S=j.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),C=u&&j.startsWith("http"),A=(0,g.Z)({url:j}),P=C&&A?"nofollow":"none";return e?.advisory_type===y.Uv?(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(f.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!p&&(0,v.jsx)(f.xe,{align:"start",weight:"bold",children:p}),!!h&&(0,v.jsx)(f.xe,{align:"start",children:h}),(0,v.jsx)(f.ZP,{color:"tertiary",href:j,onClick:()=>{(0,b.qA)({auxData:{...e,url:j},isDesktop:r,logContextEvent:l})},rel:P,text:u||"Visit"})]})}):C?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.rU,{href:j,onClick:()=>{(0,b.qA)({logContextEvent:l,auxData:{...e,url:j},isDesktop:r})},rel:P,children:(0,v.jsx)(f.xe,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:S})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!p&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",weight:"bold",children:p})}),!!h&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",children:h})})]})}let S=(void 0!==l||(l=i(52950)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==l.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function C({text:e,textTags:t,auxData:i}){let n=(0,x.Z)(),l=(0,_.HG)(),r=[],a=0;for(let o=0;o<t.length;o+=1){let s=t[o];if(5===s.tagType&&s.link){let{offset:t,length:d,link:c}=s;if(null!=t&&null!=d&&null!=c){let s=e.substring(t,t+d),u=(0,v.jsx)(f.xe,{inline:!0,weight:"bold",children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:c,onClick:()=>{(0,b.qA)({logContextEvent:n,auxData:{...i,url:c},isDesktop:l})},target:"blank",underline:"hover",children:s})},`link-${o}-${t}`);r.push((0,v.jsx)("span",{children:e.substring(a,t)},`text-${o}-${a}`)),r.push(u),a=t+d}}}return(a>0&&r.push((0,v.jsx)("span",{children:e.substring(a)},`text-end-${a}`)),0===r.length)?[(0,v.jsx)("span",{children:e},"text-full")]:r}function A({auxData:e,textTagKey:t,text:i}){(0,s.useEffect)(()=>{(0,o.Z)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let n=(0,m.Z)(S,t);return(0,v.jsx)(C,{auxData:e,text:i,textTags:n})}let P=[4,14],B={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},Z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=(void 0!==r||(r=i(5755)).hash&&"5879c4710b107f258f42156bf3e47e37"!==r.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function k({auxData:e,advisory:t,inModal:i,noticeKey:n}){(0,s.useEffect)(()=>{(0,o.Z)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:l,description:r,actions:a}=(0,m.Z)(I,n),d=!!a?.length&&(e?.advisory_type===y.Uv||!!t&&P.includes(t)),c=a?.length===1,u=r&&r.text||"";return(0,v.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:i?Z:B},padding:6,rounding:200,children:[!!l&&!i&&(0,v.jsx)(f.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(f.qd,{size:"600",children:l})}),!!u&&r?.textTags!=null&&(0,v.jsx)(f.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(f.xv,{align:i?"center":"start",overflow:"normal",children:(0,v.jsx)(A,{auxData:e,text:u,textTagKey:r.textTags})})})}),d&&(0,v.jsx)(f.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:a?.map(t=>(0,v.jsx)(f.xu,{column:i||c?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(j,{actionKey:t,alignCenter:i||c,auxData:e})},t.actionId))})]})}let T=(void 0!==a||(a=i(90486)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==a.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function E({auxData:e,noticeKey:t}){(0,s.useEffect)(()=>{(0,o.Z)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let i=(0,m.Z)(T,t),n=(0,x.Z)(),l=(0,_.HG)(),r={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(f.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:800,width:656,children:(0,v.jsxs)(f.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:r,children:i.description?.textTags&&(0,v.jsx)(A,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,v.jsx)(f.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,v.jsxs)(f.xu,{children:[(0,v.jsx)("span",{style:{fontWeight:"600",...r},children:t.title?.text}),(0,v.jsx)("span",{style:r,children:t.description?.text})]},t.actionId):(0,v.jsx)(f.rU,{href:i||"",onClick:()=>{(0,b.qA)({logContextEvent:n,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:l})},children:(0,v.jsx)(f.xu,{display:"inlineBlock",children:(0,v.jsx)(f.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(f.xe,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!i.footer&&(0,v.jsx)(f.xu,{paddingY:2,width:540,children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,b.qA)({logContextEvent:n,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:l})},target:"blank",underline:"hover",children:(0,v.jsx)(f.xe,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var z=i(767415);function F({boardId:e,isOwnBoard:t,boardName:i,boardSectionId:n,notices:l,query:r,sensitivity:a,viewParameter:f,viewType:m,inModal:x}){(0,s.useEffect)(()=>{(0,o.Z)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:i,boardSectionId:n,query:l,sensitivity:r,viewParameter:a,viewType:o}){let{logContextEvent:s}=(0,d.u)(),c=(0,_.HG)();(0,p.Z)(()=>{o&&(s({aux_data:{entered_query:l,advisory_details:e,advisory_level:r?.advisory,severity_level:r?.severity,advisory_type:r?.advisory_type,resource_country:r?.resource_country},component:13367,event_type:120,view_parameter:a,view_type:o}),(0,z.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:r?.advisory,advisory_type:r?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:r?.resource_country,placement:5===o?"board":"search"}})),t&&5===o&&s({aux_data:{board_name:i,board_id:t,board_section_id:n??0},component:178,event_type:15549,view_parameter:a,view_type:o})})}({advisoryDetails:a?.advisory_details,boardId:e,boardSectionId:n,query:r,sensitivity:{advisory:a?.advisory,severity:a?.severity},viewParameter:f,viewType:m});let{checkExperiment:g}=(0,c.Z)(),b=(0,u.B)(),y={advisory_level:a?.advisory||null,severity_level:a?.severity||null,advisory_type:a?.advisory_type||"",stage:b.stage,resource_country:a?.resource_country||"",entered_query:r||""};if(g("ps_board_advisories_ui_refresh").anyEnabled){let r=t?4173:4174;return(0,v.jsx)(s.Fragment,{children:l?.map(t=>(0,v.jsx)(h.Z,{boardId:e,boardName:i,boardSectionId:n,notice:t,objectType:n?164:5,sensitivity:a,viewParameter:n?r:f,viewType:n?164:5},t.id))})}return(0,v.jsx)(s.Fragment,{children:l?.map(e=>2===e.style?(0,v.jsx)(E,{auxData:y,noticeKey:{type:"Legacy",data:e}},e.id):(0,v.jsx)(k,{advisory:a?.advisory,inModal:x,noticeKey:{type:"Legacy",data:e}},e.id))})}},166613:function(e,t,i){i.d(t,{IR:()=>l,St:()=>n,Uv:()=>a,Uz:()=>r});let n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},l={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function r(e){return!!e&&e.severity===l.ABUSIVE}let a="THIRD_PARTY_TL"},728270:function(e,t,i){i.d(t,{CU:()=>u,ZP:()=>c,hi:()=>d});var n,l=i(422578),r=i(477738),a=i(148),o=i(657476);let s=(void 0!==n||(n=i(464788)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==n.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function d(e){let{notices:t,advisory:i,severity:n}=(0,l.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:i,severity:n}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,n=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(n=!1),{hasNotices:n,advisory:t,severity:i}}function u(e){let{scope:t}=(0,a.n)(),{data:i,isLoaded:n}=(0,o.Z)(),l=d(e);if(t===r.lw.USERS)return l;if(!n||!i)return{hasNotices:!1};let{sensitivity:s}=i;return c(s)}},271875:function(e,t,i){i.d(t,{Z:()=>r,k:()=>n});let{Provider:n,get:l}=(0,i(213491).Z)("Conversations"),r=l},488661:function(e,t,i){i.d(t,{HW:()=>o,MS:()=>u,i3:()=>_});var n=i(667294),l=i(213491),r=i(510755),a=i(785893);let o=r.fe+1,s={educationId:null,paddingRight:0,zIndex:o};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:l}=t.payload;return{...e,zIndex:l};default:return e}}let{Provider:c,get:u}=(0,l.Z)("footerContext");function _({children:e}){let[t,i]=(0,n.useReducer)(d,s),l=(0,n.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,n.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),o=(0,n.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,n.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:l,setZIndex:o}),[t,r,l,o]);return(0,a.jsx)(c,{value:u,children:e})}},632492:function(e,t,i){i.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>l,fS:()=>s,lI:()=>r,mS:()=>o,qW:()=>a});var n=i(399353);let l=new n.Ry(1),r=new n.Ry(3),a=2,o=new n.Ry(a),s=3,d=new n.Ry(100),c=new n.H3([d])},148:function(e,t,i){i.d(t,{n:()=>_,v:()=>p});var n=i(667294),l=i(312048),r=i(213491),a=i(477738),o=i(739405),s=i(582610),d=i(305375),c=i(785893);let{Provider:u,get:_}=(0,r.Z)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,o.HG)(),{search:t,pathname:i}=(0,l.TH)(),{scope:n}=(0,d.Z)(),r=!n&&i.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:r?a.lw.SHOP_TOOL:n,search:t})}(),r=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,c.jsx)(u,{value:r,children:e})}},793160:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294),l=i(793160);function r(){let e=(0,n.use)(l.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},582610:function(e,t,i){i.d(t,{Z:()=>r});var n=i(477738),l=i(341687);function r({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:r="",b_id:a,brands:o,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:_,domains:p,filters:h,guided_search_query:f,inline_suggestion:m,interest_id:x,journey_depth:g,on_sale:b,price_max:y,price_min:v,q:w,query_pin_sigs:j,quiz:S,request_params:C,rs:A,selected_one_bar_modules:P,source_id:B,source_module_id:Z,tab:I,top_pin_ids:k,user:T}=(0,l.Z)(i),E="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===r.toLowerCase(),brands:o,bubbleId:a,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:_,domains:p,guidedSearchQuery:f,inlineSuggestion:m,interestId:x,journeyDepth:g?parseInt(g,10):void 0,onSale:b,personalizationPinSig:j,placementId:(0,n.Hd)(E,e),priceMax:y,priceMin:v,query:w,quiz:S,requestParams:C,rs:A,scope:E,selectedOneBarModules:P,sourceId:B,sourceModuleId:Z,tab:I||"",topPinIds:k,user:T,viewParameter:(0,n._R)(E),viewType:E===n.lw.SHOP_TOOL?1:2}}},657476:function(e,t,i){i.d(t,{X:()=>p,Z:()=>_});var n=i(312048),l=i(190665),r=i(501010),a=i(774838),o=i(661376),s=i(42676),d=i(477738),c=i(739405),u=i(148);function _(e){let{resource:t}=p(e);return t}function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:i}=(0,r.Z)(),{isAuthenticated:_}=(0,a.B)(),{pathname:p,search:h}=(0,n.TH)(),f=(0,c.HG)(),m=!_||!f,x=(0,u.n)(),g=(0,l.Z)(),b=(0,s.vW)({searchParams:x,sourceUrl:p+h,isDesktop:f,isAuthenticated:_,appliedUnifiedFilters:g}),y=m;m&&(y=!!_&&!i("unify_search_resource_auth_mweb").anyEnabled);let v=t||x.scope===d.lw.USERS&&!m||y;return{resource:(0,o.Z)(v?null:b),options:b.options}}},629616:function(e,t,i){i.d(t,{V:()=>d,Z:()=>s});var n=i(47755),l=i(329197),r=i(160587),a=i(779686),o=i(438274);function s(e,t,i){return s=>(0,n.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:e,target_board:t},method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([s((0,r.eo)({boardId:e})),s((0,l.Z)(t,"pin_count")),s((0,a.N8)(o.Z.BOARD_SECTIONS,t))]))}let d=async(e,t,i,s)=>{await (0,n.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:t,target_board:i},method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,r.eo)({boardId:t})),(0,l.Z)(i,"pin_count"),e((0,a.N8)(o.Z.BOARD_SECTIONS,i))}},755559:function(e,t,i){i.d(t,{I:()=>o,Z:()=>a});var n=i(661376),l=i(718846);let r=({boardId:e,ownerId:t,ownerUsername:i,ownerName:r,ownerImgSrc:a})=>{let o=(0,l.Z)(),{data:s,isLoaded:d}=(0,n.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...o?{orbac_subject_id:o}:{}}}),c=[{id:t,name:r,src:a,href:`/${i}/`,isDim:!1}];return d&&s&&s.length>0&&s.forEach(e=>{c.push({id:e.invited_user?e.invited_user.id:"",name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},a=r;function o({children:e,...t}){return e(r(t))}},449270:function(e,t,i){i.d(t,{Z:()=>tl});var n=i(667294),l=i(581722),r=i(312048),a=i(399353),o=i(363061),s=i(611649),d=i(272598),c=i(257680),u=i(201363),_=i(230201),p=i(943152),h=i(290216),f=i(81342),m=i(935059),x=i(400962),g=i(112658),b=i(577356),y=i(893957),v=i(200619),w=i(601871),j=i(72125),S=i(74972),C=i(686659),A=i(59111),P=i(785893);function B({layoutType:e,thumbnails:t}){switch((0,n.useEffect)(()=>{(0,C.Z)("BoardActionUpsellImages","/app/www/BoardActionUpsells/BoardActionUpsellImages.tsx")},[]),e){case 4:let i=t&&t[0]&&t[0]["236x"];return(0,P.jsx)(a.zd,{height:80,rounding:4,width:80,children:i?(0,P.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url}):(0,P.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,P.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,P.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,P.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,P.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,P.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,P.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let i=t&&t?.length>0?t[e]:null;return(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,P.jsx)(a.xu,{height:80,width:39.4,children:i?.["236x"]?.url&&(0,P.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:i["236x"].url})})},e)})})});default:return null}}let Z=[502043,502085],I=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function k({boardId:e,displayData:t,complete:i,dismiss:l,handleShowArchiveConfirmation:r}){let{logContextEvent:o}=(0,_.u)(),[s,d]=(0,n.useState)(void 0);(0,n.useEffect)(()=>()=>clearTimeout(s),[s]);let c={2:r};return(0,n.useEffect)(()=>{s||d(setTimeout(()=>{l()},2e4)),o({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,P.jsxs)(a.mh,{children:[(0,P.jsx)(A.Z,{unsafeCSS:I}),(0,P.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,P.jsx)(a.xu,{flex:"none",children:(0,P.jsx)(B,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,P.jsxs)(a.xu,{marginStart:4,children:[(0,P.jsx)(a.xv,{inline:!0,children:(0,P.jsx)(a.qd,{size:"400",children:t.text})}),(0,P.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,P.jsx)(a.zx,{color:"secondary",onClick:()=>{o({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),l()},text:t.dismiss_button.text}),(0,P.jsx)(a.xu,{paddingX:2,children:(0,P.jsx)(a.zx,{color:"primary",onClick:()=>{c[t.complete_button.action_type](),o({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.complete_button.text})})]})]})]})]})}function T({boardId:e,handleShowArchiveConfirmation:t}){return(0,n.useEffect)(()=>{(0,C.Z)("BoardActionUpsellCard","/app/www/BoardActionUpsells/BoardActionUpsellCard.tsx")},[]),(0,P.jsx)(h.a3,{eligibleIds:Z,placementId:18,children:({experience:i,complete:n,dismiss:l})=>(0,P.jsx)(k,{boardId:e,complete:n,dismiss:l,displayData:i.display_data,handleShowArchiveConfirmation:t})})}var E=i(680650),z=i(160587),F=i(250408),O=i(122222),D=i(592444),L=i(311752),R=i(465784),M=i(24246),N=i(216975);function H(){(0,n.useEffect)(()=>{(0,C.Z)("GroupBoardFavoriteEducationModal","/app/www/FavoriteButton/GroupBoardFavoriteEducationModal.tsx")},[]);let e=(0,M.Z)(),t=(0,P.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,P.jsx)(a.xv,{children:(0,N.nk)(e.bt("Add a {{ star }} to show collaborators your favourite Pins", "Add a {{ star }} to show collaborators your favorite Pins", "groupBoardFavoriteEducationModal.text", undefined, true),{star:(0,P.jsx)(a.xu,{display:"inlineBlock",children:(0,P.jsx)(a.JO,{accessibilityLabel:e.bt("Favourite icon", "Favorite icon", "groupBoardFavoriteEducationModal.bodyFavoriteIcon", undefined, true),color:"default",icon:"star-fill",size:12})})})})});return(0,P.jsx)(h.a3,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:n})=>(0,P.jsx)(R.ZP,{accessibilityModalLabel:e.bt("Group board reaction", "Group board reaction", "groupBoardFavoriteEducationModal.modalAccessibilityLabel", undefined, true),footer:(0,P.jsx)(a.kC,{justifyContent:"end",children:(0,P.jsx)(a.zx,{onClick:()=>i(),text:e.bt("OK", "Got it", "groupBoardFavoriteEducationModal.doneButton", undefined, true)})}),heading:(0,P.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,P.jsx)(a.xu,{maxWidth:400,children:(0,P.jsx)(a.qd,{align:"center",size:"600",children:(0,N.nk)(e.bt("{{ heart }} is now {{ star }}", "{{ heart }} is now {{ star }}", "groupBoardFavoriteEducationModal.heading", undefined, true),{heart:(0,P.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(a.JO,{accessibilityLabel:e.bt("Heart icon", "Heart icon", "groupBoardFavoriteEducationModal.headingHeartIcon", undefined, true),color:"default",icon:"heart-fill",size:16})}),star:(0,P.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,P.jsx)(a.JO,{accessibilityLabel:e.bt("Favourite icon", "Favorite icon", "groupBoardFavoriteEducationModal.headingFavoriteIcon", undefined, true),color:"default",icon:"star-fill",size:16})})})})}),(0,P.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,P.jsx)(a.hU,{accessibilityLabel:e.bt("Close", "Close", "groupBoardFavoriteEducationModal.closeModalButton", undefined, true),icon:"close",iconColor:"default",onClick:n,size:"md"})})]}),onDismiss:n,size:"sm",children:t})})}var U=i(329577),q=i(779686),K=i(438274),$=i(144337),G=i(309947),W=i(101267),J=i(249347),V=i(189634);function X({board:e,currentFilter:t,eligibleFilters:i,isOwnBoard:l,surface:r,setCurrentFilter:o,setTitle:s}){(0,n.useEffect)(()=>{(0,C.Z)("ActionBarFilterButton","/app/www/save/board/BoardDefaultTabContent/ActionBarFilterButton.tsx")},[]);let d=(0,U.WG)(),{logContextEvent:c}=(0,_.u)(),u=(0,M.Z)(),p=(0,n.useRef)(null),h=d?.boardPinDensity,[f,m]=(0,n.useState)(!1),x=()=>{m(!1)},g=e=>{(0,J.Z)({boardDensity:e,component:"board"===r?13183:13187,viewType:"board"===r?5:164},c),(0,V.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},b=[],y={[W.c]:12111,[W.A]:12227};if(i){let n={items:i.map(i=>({isSelected:i.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:y[i.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:l?3069:3070}),o(i.pin_type??-1),s(i.pin_type===W.c?null:i.text),x()},text:i.text??""})),label:u.bt("Filter by type", "Filter by type", "board.experimentalBoardActionBar.filterOptions", undefined, true)};b.push(n)}return b.push({items:[{isSelected:"regular"===h,onClick:()=>{x(),g("regular")},text:u.bt("Default", "Default", "BoardHeader.ActionBar.DensityOption-Default", undefined, true)},{isSelected:"dense"===h,onClick:()=>{x(),g("dense")},text:u.bt("Compact", "Compact", "BoardHeader.ActionBar.DensityOption-Compact", undefined, true)}],label:u.bt("View options", "View options", "BoardHeader.ActionBar.ViewOptions", undefined, true)}),(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(a.xu,{ref:p,children:(0,P.jsx)(a.hU,{accessibilityControls:"filter_board",accessibilityExpanded:f,accessibilityLabel:u.bt("Board filter", "Board Filter", "board.experimentalBoardActionBar.boardFilter", undefined, true),accessibilityPopupRole:"menu",icon:"filter-horizontal",iconColor:"default",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:l?3069:3070}),m(!f)},selected:f,size:"lg"})}),f&&(0,P.jsx)(a.Lt,{anchor:p.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:b.map(({items:e,label:t})=>(0,P.jsx)(a.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:i})=>(0,P.jsx)(a.Lt.Item,{onSelect:t,option:{label:i,value:i},selected:e?{label:i,value:i}:null},i))},t))})]})}let Y=(0,h.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:i,isOwnBoard:l,paddingX:r=8,section:o,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,M.Z)(),{eligible_pin_type_filters:u}=o??e,[_,p]=(0,n.useState)(null),f=(0,n.useRef)(null),m=o?o.pin_count:e.pin_count,{experimentalGutter:x}=(0,G.Z)();return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:x?{paddingLeft:x,paddingRight:x}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:r,children:[!i&&(0,P.jsx)(a.xu,{flex:"grow",children:(0,P.jsx)(a.qd,{accessibilityLevel:2,size:"400",children:t>0&&_?_:(0,N.nk)(c.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], m ?? 0, "board.experimentalBoardActionBar.pinCount", true),{pinCount:m})})}),(0,P.jsx)(a.xu,{ref:f,children:(0,P.jsx)(X,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:l,setCurrentFilter:s,setTitle:p,surface:o?"section":"board"})})]}),d&&f&&(0,P.jsx)(a.mh,{children:(0,P.jsx)(h.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(f&&f.current?.scrollIntoView(!1),(0,P.jsx)(a.pl,{anchor:f.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var Q=i(531937),ee=i(700594),et=i(844677),ei=i(504860),en=i(497455),el=i(755533),er=i(93894);let ea=()=>{};function eo({board:e,currentView:t,handleContentViewChange:i,handleSetCurrentModal:r,handleShowEditSectionModal:o,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:d,isHidePinCount:c,isOwnerOrCollaborator:u,isOwnBoard:_,isPinGridSorted:p,refreshBoardData:h=ea,refreshSectionData:f=ea,section:x}){(0,n.useEffect)(()=>{(0,C.Z)("BoardAndSectionPageContent","/app/www/save/board/BoardPageContainer/BoardAndSectionPageContent.tsx")},[]);let g=(0,m.Z)(),b=(0,ee.Z)({board:e,viewer:g}),y=(e.access||[]).includes("write"),v=(0,U.WG)()?.boardPinDensity,w=(0,el.Z)(x?(0,en.Z)(e,x):""),[j,S]=(0,n.useState)(W.c),[A,B]=(0,n.useState)(!1),Z=(0,l.I0)();(0,n.useEffect)(()=>()=>{j!==W.c&&(x?Z((0,q.N8)(K.Z.BOARD_SECTION_PINS,x.id??"")):Z((0,q.N8)(K.Z.BOARDFEED,e.id)))},[e,j,Z,x]);let I=(0,n.useCallback)(()=>{j>0&&(S(W.c),x?f():h())},[j,f,h,x]),k=(0,n.useMemo)(()=>x?{currentFilter:j,eligibleFilters:x.eligible_pin_type_filters,refreshData:f,sectionId:x.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:B},[x,e.eligible_pin_type_filters,j,h,f]);return x?(0,P.jsx)(Q.k,{value:k,children:(0,P.jsxs)(n.Fragment,{children:[u&&!d&&(0,P.jsx)(Y,{board:e,currentFilter:j,isOwnBoard:_,section:x,setCurrentFilter:S,showExperienceTooltip:!1}),(0,P.jsx)(ei.Z,{board:e,boardSectionId:x.id,currentFilter:j,denseViewSelected:y&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:_,isOwnerOrCollaborator:u,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&u&&(0,P.jsx)(a.xu,{marginBottom:12,children:(0,P.jsx)(et.Z,{children:(0,P.jsx)(er.Z,{collection:x,storyId:t,url:w})})}),viewer:g,viewParameter:b})]})}):(0,P.jsx)(Q.k,{value:k,children:(0,P.jsxs)(n.Fragment,{children:[u&&!d&&(0,P.jsx)(L.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,P.jsx)(Y,{board:e,currentFilter:j,isHidePinCount:c,isOwnBoard:_,paddingX:0,setCurrentFilter:S,showExperienceTooltip:A})}),(0,P.jsx)($.Z,{actions:{onBoardOrganizeClick:ea},board:e,currentFilter:j,currentView:t,enableReordering:u,isBoardPreviewMode:d,isOwnBoard:_,isPinGridSorted:p,onContentViewChange:i,onShowEditSectionModal:o,onShowMergeSectionsConfirmationModal:(e,t)=>{r(O.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:I,viewParameter:b}),u&&(0,P.jsx)(H,{})]})})}var es=i(501010),ed=i(718846),ec=i(166613),eu=i(728270),e_=i(181735),ep=i(589641),eh=i(47755),ef=i(564023),em=i(711960),ex=i(877263),eg=i(661376),eb=i(176615);function ey({onDismiss:e,boardId:t}){(0,n.useEffect)(()=>{(0,C.Z)("ReportBoard","/app/www/profile/UserProfileHeader/ModalContents/FlagProfile/ReportBoard.tsx")},[]);let{data:i}=(0,eg.Z)({name:"BoardResource",options:{board_id:t,field_set_key:"detailed"},noCache:!0}),{showErrorToast:l,showSuccessToast:r}=(0,ex.Z)(),[a,o]=(0,n.useState)(null),[s,d]=(0,n.useState)(null),{checkExperiment:c}=(0,es.Z)();(0,y.Z)(()=>{(async()=>{try{let e=await (0,ef.Z)(t);e?o(e):l()}catch{l()}})()});let u=async({reasonKey:i})=>{try{await (0,em.Z)(t,{reason:i}),e(),r()}catch{e(),l()}},_=async e=>{if(!e)return null;try{return(await (0,eh.Z)({url:"/v3/sensitivity/report/",method:"GET",data:{sensitivity_type:e,object_type:"board"}})).resource_response.data}catch{return null}},p=async({reasonKey:i,selectedReason:n})=>{try{let[l]=await Promise.all([_(n?.sensitivity_type),(0,em.Z)(t,{reason:i})]);l?d(l):(e(),r())}catch{e(),l()}};return s?(0,P.jsx)(eb.Z,{dismiss:e,objectType:5,sensitivity:s,viewParameter:3846}):(0,P.jsx)(ep.ZP,{handleSubmitReport:c("ps_dweb_report_advisories_boards_and_messages").anyEnabled?p:u,objectToReport:{type:"board",id:t,userToBlock:i?.owner&&i.owner.id?{id:i.owner.id,fullName:i.owner.full_name,blockedByMe:i.owner.blocked_by_me,username:i.owner.username||""}:null},onDismiss:e,reportingReasons:a})}var ev=i(360990),ew=i(836447);function ej({boardId:e,ownerId:t,ownerUsername:i,ownerName:l,ownerImgSrc:r,ownerIsAdsOnlyProfile:a,ownerAdsOnlyProfileSite:o,children:s}){let{data:d,isLoaded:c}=(0,eg.Z)({name:"ApiResource",options:{url:(0,ew.Z)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});return s((0,n.useMemo)(()=>{let e=[{name:l,src:r,href:`/${i}/`,id:t,is_ads_only_profile:a,ads_only_profile_site:o}];return c&&d&&d.length>0&&d.forEach(t=>{e.push((0,ev.Z)(t))}),e},[d,c,o,t,r,a,l,i]))}var eS=i(755559),eC=i(104999),eA=i(465076),eP=i(924591);function eB(e){(0,n.useEffect)(()=>{(0,C.Z)("FollowingToast","/app/www/board/Header/ActionBar/FollowingToast.tsx")},[]);let{boardImage:t,boardName:i,boardUrl:l,onHide:r}=e,o=(0,M.Z)(),s=(0,P.jsx)(a.xe,{children:(0,N.nk)(o.bt("Now following {{ boardName }}", "Now following {{ boardName }}", "BoardFollowButton.FollowingToast.nowFollowing", undefined, true),{boardName:(0,P.jsx)(a.xe,{weight:"bold",children:i},"boardName")})});return(0,P.jsx)(eP.Z,{href:l,imageUrl:t,onHide:r,text:s})}var eZ=i(701572),eI=i(395878);function ek(e){(0,n.useEffect)(()=>{(0,C.Z)("EllipsisMenuButton","/app/www/save/board/BoardPageContainer/EllipsisMenuButton.tsx")},[]);let t=(0,M.Z)(),{bgColor:i,board:r,canCreatePincode:o,canEdit:s,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:_,showFollow:h,showShare:f,size:m}=e,{id:x,name:g,url:y,image_cover_url:v}=r,[w,j]=(0,n.useState)(r.followed_by_me),{showOneToast:S}=(0,b.dI)(),A=(0,l.I0)(),B=(0,p.Z)(),Z=(0,eC.Z)(),I=({event:e})=>{if(B){e.stopPropagation(),B();return}w?(A((0,eZ.f)(x,Z)),j(!1)):(A((0,eZ.Z)(x,Z)),j(!0),S(({hideToast:e})=>(0,P.jsx)(eB,{boardImage:v??"",boardName:g,boardUrl:y,onHide:e})))},k={edit:t.bt("Edit", "Edit", "BoardPage.ActionBar.PartnerEdit", undefined, true),create_pincode:t.bt("Create Pincode", "Create Pincode", "BoardPage.ActionBar.PartnerPincode", undefined, true),share:t.bt("Share", "Share", "BoardPage.ActionBar.EllipsisButton", undefined, true),unfollow:t.bt("Unfollow", "Unfollow", "BoardPage.ActionBar.EllipsisButton", undefined, true),follow:t.bt("Follow", "Follow", "BoardPage.ActionBar.EllipsisButton", undefined, true),report:t.bt("Report", "Report", "profileHeader.actionBar.overflowFlyout.report", undefined, true)};return(0,P.jsx)(eA.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:t.bt("Other actions", "Other actions", "profileHeader.actionBar.overflow", undefined, true),size:m,children:()=>(0,P.jsxs)(a.Lt.Section,{label:t.bt("Board options", "Board options", "profileHeader.actionBar.overflow.header", undefined, true),children:[s&&u&&(0,P.jsx)(a.Lt.Item,{onSelect:()=>{u()},option:{label:k.edit,value:k.edit}}),s&&o&&d&&(0,P.jsx)(a.Lt.Item,{onSelect:()=>{d()},option:{label:k.create_pincode,value:k.create_pincode}}),f&&c&&(0,P.jsx)(eI.Z,{boardKey:{type:"Legacy",data:r},onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,P.jsx)(a.Lt.Item,{onSelect:e,option:{label:k.share,value:k.share}})}),h&&(0,P.jsx)(n.Fragment,{children:w?(0,P.jsx)(a.Lt.Item,{onSelect:I,option:{label:k.unfollow,value:k.unfollow}}):(0,P.jsx)(a.Lt.Item,{onSelect:I,option:{label:k.follow,value:k.follow}})}),(0,P.jsx)(a.Lt.Item,{onSelect:_,option:{label:k.report,value:k.report}})]})})}var eT=i(635545),eE=i(249459),ez=i(341687),eF=i(27399),eO=i(995514),eD=i(660322),eL=i(739405),eR=i(319226),eM=i(180483);function eN(e){(0,n.useEffect)(()=>{(0,C.Z)("Facepile","/app/www/save/board/BoardCollaboratorFacepile/Facepile.tsx")},[]);let{faces:t,maxFaces:i,numFaces:l,onOverflowClick:r,shouldNavigate:o=!0}=e,s=[...t].reverse(),d=t.length>i?s.slice(0,i+1):s,c=l-i,u=(0,m.Z)(),_=u.isAuth?u?.avatar_color_index:void 0;return(0,P.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:d.map((e,t)=>{let{name:i,src:n,href:l,isDim:s}=e;if(0===t&&c>0)return(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:n&&(0,P.jsx)(a.Ee,{alt:i,fit:"contain",naturalHeight:44,naturalWidth:44,src:n,children:(0,P.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:r,rounding:"circle",children:(0,P.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,P.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:c>99?"99+":c})})})})},t);{let e=(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,P.jsx)(eR.qE,{color:_,name:i,outline:!0,size:"sm",src:n})},t);return o?(0,P.jsx)(a.Tg,{href:l,rounding:"circle",children:e},t):e}})})}function eH({invitedByUser:e,isAccepted:t,onDecline:i,onAccept:l,createdAt:r}){(0,n.useEffect)(()=>{(0,C.Z)("BoardCollabInviteBanner","/app/www/BoardCollab/BoardCollabInviteBanner.tsx")},[]);let o=(0,M.Z)(),s=(0,m.Z)(),d=s.isAuth?s?.avatar_color_index:void 0,{first_name:c,full_name:u,username:_,image_medium_url:p}=e,h=c||u||o.bt("others", "others", "Default text when board colalborator name is not known.", undefined, true);return(0,P.jsx)(a.W2,{children:t?(0,P.jsxs)(a.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:200,width:"100%",children:[(0,P.jsx)(eN,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${_}`,name:u,src:p}],maxFaces:2,numFaces:2}),(0,P.jsxs)(a.xu,{marginStart:2,children:[(0,P.jsx)(a.xe,{weight:"bold",children:o.bt("You're in!", "You're in!", "Text showing that a user has accepted the board invite and is now a part of the board", undefined, true)}),(0,P.jsx)(a.xe,{children:(0,eM.Z)(o.bt("Start collaborating with {{ invitedByUserName }} on this board", "Start collaborating with {{ invitedByUserName }} on this board", " - ", undefined, true),{invitedByUserName:h})})]})]}):(0,P.jsx)(a.xu,{color:"default",elevation:"shadowFloating",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:600,width:540,children:(0,P.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,P.jsx)(a.xu,{marginEnd:2,children:(0,P.jsx)(eR.qE,{color:d,name:u,size:"md",src:p})}),(0,P.jsx)(a.xu,{flex:"grow",children:(0,P.jsx)(a.xe,{color:"default",inline:!0,children:(0,N.nk)(o.bt("{{ user }} invited you to collaborate on this board {{ createdAt }}", "{{ user }} invited you to collaborate on this board {{ createdAt }}", "web.boardView.inviteCard.text", undefined, true),{user:(0,P.jsx)(a.xe,{color:"default",inline:!0,weight:"bold",children:(0,P.jsx)(a.rU,{display:"inlineBlock",href:`/${_}`,underline:"hover",children:u})},_),createdAt:(0,P.jsx)(a.xe,{color:"subtle",inline:!0,children:r})})})}),(0,P.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,P.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,P.jsx)(a.zx,{color:"secondary",onClick:i,size:"lg",text:o.bt("Decline", "Decline", "decline board collaborator invite or request", undefined, true)})}),(0,P.jsx)(a.zx,{color:"primary",onClick:l,size:"lg",text:o.bt("Accept", "Accept", "Text to accept a board collaboration invite", undefined, true)})]})]})})})}var eU=i(211731);function eq({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:i,userInviterId:r}){(0,n.useEffect)(()=>{(0,C.Z)("BoardCollabInviteBannerContainer","/app/www/BoardCollab/BoardCollabInviteBannerContainer.tsx")},[]);let o=(0,M.Z)(),s=(0,b.dI)(),d=(0,eO.Z)(),[c,u]=(0,n.useState)(!1),[_,p]=(0,n.useState)(null),h=(0,eL.HG)(),f=(0,m.Z)(),x=(0,l.I0)(),g={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:f.isAuth&&f.id},y=(0,eU.RZ)(),v=(0,eU.CQ)();(0,n.useEffect)(()=>{r&&i&&(y(e).then(()=>{x((0,eU.A8)(e)),h&&s.showToast(({hideToast:e})=>(0,P.jsx)(eP.Z,{duration:5e3,onHide:e,text:o.bt("You're in! Save Pins, plan with collaborators and more!", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))}),eF.Z.create("UserResource",{field_set_key:"grid_item",user_id:r}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&p(t)}))},[i,r]);let{data:w}=(0,eg.Z)({name:"BoardInviteResource",options:g}),j=!!(r&&i)||c,S=!["new","contact_request_not_approved"].includes(w?.status||""),A=t=>{(t?y(e):v(e,g.invited_user_id||"")).then(()=>{t&&(x((0,eU.A8)(e)),u(!0),s.showToast(({hideToast:e})=>(0,P.jsx)(eP.Z,{duration:5e3,onHide:e,text:o.bt("You're in! Save Pins, plan with collaborators and more!", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))),x((0,eD.jB)("BoardInviteResource",g))})},B=w?.invited_by_user||_,Z=j?h:S;return!B||Z?null:(0,P.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,P.jsx)(eH,{createdAt:d(w?.created_at||"",!0),invitedByUser:B,isAccepted:j,onAccept:()=>A(!0),onDecline:()=>A(!1)})})}function eK({boardId:e}){let t=(0,r.TH)(),i=t&&t.search?(0,ez.Z)(t.search):{},n=i.invite_code,l=i.accept_invite,a=i.inviter_user_id;return(0,P.jsx)(eq,{boardId:e,inviteCode:n,shouldAutoAcceptBoardInvite:l,userInviterId:a})}let e$=function(e){let{board:t}=e,{id:i,owner:l,sensitivity:r}=t,o=(0,m.Z)(),s=o.isAuth?o.id:"",d=l?.id===s,c=(0,ec.Uz)(r),{checkExperiment:u}=(0,es.Z)(),_=u("ps_board_advisories_ui_refresh").anyEnabled||c;return(0,P.jsxs)(n.Fragment,{children:[!c&&(0,P.jsx)(eK,{boardId:i}),_&&(0,eu.ZP)(r).hasNotices&&r&&(0,P.jsx)(a.xu,{paddingY:10,children:(0,P.jsx)(e_.Z,{boardId:i,boardName:t.name,notices:r.notices,sensitivity:r,viewParameter:d?3069:3070,viewType:5})})]})};var eG=i(316037),eW=i(230110);function eJ(e){(0,n.useEffect)(()=>{(0,C.Z)("BoardPageHeader","/app/www/save/board/Headers/BoardHeader/BoardPageHeader.tsx")},[]);let{board:t,collaborators:i,handleCreatePincode:l,handleShowCollabAndPermissionsModal:r,isBoardPreviewMode:o,inRelocateBoardShareButtonExp:s,overFlowActionsButton:d,showPulsar:c,setBoardPreviewMode:_,userBlocked:p}=e,{access:h,archived_by_me_at:f,collaborator_requests_enabled:x,name:g,owner:b,privacy:y,should_show_board_collaborators:j}=t,{nonDisplayedCollaboratorCount:S}=(0,eW.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:i,showOnlyOwner:!j,ownerName:b?.full_name}),A=(0,m.Z)(),B=(0,v.Z)(),Z=(0,w.D3)(A,t.owner?.id||"",B),I=h&&h.includes("write")||Z,k=(0,u.Z)(t.collaborated_by_me,t.owner?.id,A)||Z,T=y===eE.Z.BoardPrivacy.SECRET,E=!I&&!p&&x&&!(A.isAuth&&A.isPrivateProfile);return(0,P.jsxs)(a.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,P.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,P.jsx)(a.xu,{maxWidth:800,children:(0,P.jsx)(e$,{board:t})})}),(0,P.jsx)(a.xu,{marginTop:4,paddingX:2,children:(0,P.jsx)(eG.Z,{board:t,boardName:g??"",collaborators:i,description:t.description??"",handleShowCollabAndPermissionsModal:r,inRelocateBoardShareButtonExp:s,isArchived:!!f,isBoardPreviewMode:o,isOwnerOrCollaborator:k,isSecret:T,nonDisplayedCollaboratorCount:S,onCreatePincode:l,overFlowActionsButton:d,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:_,showJoinButton:!!E,showPulsar:c})})]})}var eV=i(285544),eX=i(902123);let eY=e=>{(0,n.useEffect)(()=>{(0,C.Z)("SectionHeader","/app/www/save/board/Headers/SectionHeader/SectionHeader.tsx")},[]);let{boardName:t,boardUrl:i,children:l,description:r,overFlowActionsButton:o,sectionName:s,ref:d}=e;return(0,P.jsxs)(a.xu,{ref:d,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,P.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,P.jsx)(eV.Z,{children:(0,P.jsx)(a.xu,{marginTop:4,children:(0,P.jsx)(eX.q,{children:({active:e,focused:n,hovered:l,onBlur:r,onFocus:o,onMouseEnter:s,onMouseLeave:d})=>(0,P.jsx)(a.Tg,{href:i??"",onBlur:r,onFocus:o,onMouseEnter:s,onMouseLeave:d,children:(0,P.jsx)(a.qd,{align:"center",color:e||n||l?"default":"subtle",children:t})})})})}),(0,P.jsx)(eV.Z,{children:(0,P.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,P.jsx)(a.qd,{align:"center",lineClamp:1,children:s}),!!o&&(0,P.jsx)(a.xu,{paddingX:1,children:o})]})}),!!r&&(0,P.jsx)(eV.Z,{children:(0,P.jsx)(a.xv,{align:"center",children:r})})]}),l&&(0,P.jsx)(a.xu,{marginTop:8,children:l})]})};function eQ({board:e,handleBoardEditClick:t,handleFollowersClick:i,handleSectionEditClick:l,handleShowBoardArchiveConfirmation:r,handleShowBoardUnarchiveConfirmation:o,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:d,handleShowMergeModal:_,isBoardPreviewMode:p,section:h,showPulsar:f,setBoardPreviewMode:x}){(0,n.useEffect)(()=>{(0,C.Z)("BoardAndSectionPageHeader","/app/www/save/board/BoardPageContainer/BoardAndSectionPageHeader.tsx")},[]);let g=(0,m.Z)(),b=(0,v.Z)(),y=(0,ed.Z)(),j=y&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${y}`:"",{name:S,sensitivity:A,access:B,url:Z=""}=e,[I,k]=(0,n.useState)(!1),T=(0,w.D3)(g,e.owner?.id||"",b),E=(0,ec.Uz)(A),{checkExperiment:z}=(0,es.Z)(),F=z("ps_board_advisories_ui_refresh").anyEnabled||E,{anyEnabled:O}=z("ce_dweb_relocate_board_share_button"),D=B&&B.includes("write")||T?eS.I:ej,L=(0,u.Z)(e.collaborated_by_me,e.owner?.id,g)||T,R=null;R=L?(0,P.jsx)(eT.Z,{bgColor:h?"secondary":"default",board:e,excludeShareOption:!0,hasBoardToolStyles:O,onArchiveClick:r,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:l,onMergeClick:_,onUnarchiveClick:o,showCreatePinCodeOption:g.isAuth&&g.isPartner,size:"lg",surface:h?"section":"board"}):(0,P.jsx)(ek,{bgColor:e.header?.large_image_url||!O?"default":"secondary",board:e,onReportClick:()=>k(!0),showFollow:!0,size:O?"xl":"lg"});let M=F&&(0,eu.ZP)(A).hasNotices;return(0,P.jsxs)(n.Fragment,{children:[I&&(0,P.jsx)(ey,{boardId:e.id,onDismiss:()=>k(!1)}),h?(0,P.jsxs)(n.Fragment,{children:[M&&(0,P.jsx)(eV.Z,{children:(0,P.jsx)(a.xu,{maxWidth:800,paddingY:10,children:A&&(0,P.jsx)(e_.Z,{boardId:e.id,boardName:e.name,boardSectionId:h.id,isOwnBoard:T,notices:A.notices,sensitivity:A,viewParameter:T?3069:3070,viewType:5})})}),(0,P.jsx)(eY,{boardName:S,boardUrl:`${Z}${j}`,description:h.description??"",overFlowActionsButton:R,sectionName:h.title??""})]}):(0,P.jsx)(a.xu,{"data-test-id":"board-header",paddingX:2,children:(0,P.jsx)(D,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerId:e.owner?.id||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,P.jsx)(eJ,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:s,inRelocateBoardShareButtonExp:O,isBoardPreviewMode:p,onFollowersClick:i,overFlowActionsButton:R,setBoardPreviewMode:x,showPulsar:f,userBlocked:!!e.owner?.blocked_by_me})})})]})}function e0({boardId:e,collaboratorId:t,collaboratorUsername:i}){(0,n.useEffect)(()=>{(0,C.Z)("BoardOwnershipTransferUpsell","/app/www/save/board/BoardPageContainer/BoardOwnershipTransferUpsell.tsx")},[]);let o=(0,l.I0)(),s=(0,r.s0)(),d=(0,M.Z)();return(0,P.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,P.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,P.jsx)(a.XA,{message:d.bt("Youve been requested to take over ownership of this board", "Youve been requested to take over ownership of this board", "boardOwnershipTransferUpsell.message", undefined, true),primaryAction:{accessibilityLabel:d.bt("Accept", "Accept", "boardOwnershipTransferUpsell.acceptAccessibilityLabel", undefined, true),label:d.bt("Accept", "Accept", "boardOwnershipTransferUpsell.acceptLabel", undefined, true),onClick:()=>{(0,eh.Z)({url:"/v3/boards/{board}/collaborators/requests/ownership/",urlParams:{board:e},method:"PUT",data:{collaborator:t}}),o((0,z.K8)(i)),s(`/${i}/`)}},secondaryAction:{accessibilityLabel:d.bt("Decline", "Decline", "boardOwnershipTransferUpsell.declineAccessibilityLabel", undefined, true),label:d.bt("Decline", "Decline", "boardOwnershipTransferUpsell.declineLabel", undefined, true),onClick:()=>{o((0,eU.xx)(e,t))}},title:d.bt("Board ownership request pending", "Board ownership request pending", "boardOwnershipTransferUpsell.title", undefined, true)})})})}eY.displayName="SectionHeader";var e1=i(869552);function e3({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:i,surface:l}){(0,n.useEffect)(()=>{(0,C.Z)("FloatingAddButton","/app/www/save/board/BoardPageContainer/FloatingAddButton.tsx")},[]);let{logContextEvent:r}=(0,_.u)(),o=(0,M.Z)(),s=(0,n.useRef)(null),d="board"===l?o.bt("Create a Pin or add a section", "Create a Pin or add a Section", "BoardPage.ActionBar.AddPinOrSection", undefined, true):o.bt("Create Pin", "Create Pin", "BoardPage.ActionBar.AddPin", undefined, true);return(0,P.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,P.jsx)(e1.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:i,onOpen:()=>{r({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:l,children:({active:e,accessibilityControls:t,openFlyout:i})=>(0,P.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,P.jsx)(a.xG,{ref:s,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"plus",onClick:i,selected:e,tooltip:{text:d}}),(0,P.jsx)(h.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,P.jsx)(h.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var e5=i(59355);let e6=i(488661).HW+1;function e2({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,n.useEffect)(()=>{(0,C.Z)("SensitivityScreen","/app/www/save/board/BoardPageContainer/SensitivityScreen.tsx")},[]);let l=(0,M.Z)();return(0,e5.Q)({component:13860,view_type:5,aux_data:i}),(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(e6),children:(0,P.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,P.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,P.jsx)(a.qd,{align:"center",color:"light",children:l.bt("This board may contain sensitive content", "This board may contain sensitive content", "boardPageContainer.sensitivityScreen.heading", undefined, true)}),(0,P.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,P.jsx)(a.zx,{color:"primary",onClick:e,size:"lg",text:l.bt("Go back", "Go back", "boardPageContainer.sensitivityScreen.backButton", undefined, true)}),(0,P.jsx)(a.zx,{color:"tertiary",onClick:t,size:"lg",text:l.bt("View anyway", "View anyway", "boardPageContainer.sensitivityScreen.viewButton", undefined, true)})]}),(0,P.jsx)(a.xu,{paddingY:4,children:(0,P.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,N.nk)(l.bt("If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the '...' button at the bottom of any Pin", "If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the \"...\" button at the bottom of any Pin", "boardPageContainer.sensitivityScreen.text", undefined, true),{communityGuidelines:(0,P.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,P.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:l.bt("Community Guidelines", "Community Guidelines", "boardPageContainer.sensitivityScreen.communityGuidelines", undefined, true)})})})})})]})})})}var e4=i(382802),e7=i(421951),e8=i(629616),e9=i(112782),te=i(900842);function tt(e){(0,n.useEffect)(()=>{(0,C.Z)("SectionAddedToast","/app/www/save/board/SectionAddedToast.tsx")},[]);let t=(0,M.Z)(),{boardUrl:i="",onHide:l,slug:r}=e;return(0,P.jsx)(eP.Z,{duration:2e3,href:`${i}${r}`,onHide:l,text:t.bt("Section added", "Section added!", "Toast for successfully creating a new board section", undefined, true)})}var ti=i(551140);let tn=()=>{},tl=(0,h.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:i,refreshBoardData:C=tn,refreshSectionData:A=tn,setPlacementExtraContext:B=tn,section:Z,showPulsar:I}){let[k,L]=(0,n.useState)(!1),{logContextEvent:R}=(0,_.u)(),N=(0,l.I0)(),H=(0,p.Z)(),{setFooterPlusButtonVisible:q}=(0,S.G)(),K=(0,m.Z)(),$=(0,v.Z)(),G=(0,E.W$)(K,e),{collaborated_by_me:W,id:J,owner:V,pending_ownership_transfer:X,pin_count:Y,privacy:Q}=e,{pin_count:et}=Z||{},ei=V?.id||"",en=(0,w.q6)(K,ei,$),el=(0,u.Z)(W,ei,K)||en,er=K.isAuth&&K.id===X,ea=(0,w.lJ)(K,$),es=ea&&(0,c.Z)(Q)?`?orbac_subject_id=${ea}`:"",ec=(0,s.Z)(!0),eu=!!Z;(0,n.useEffect)(()=>{let t="other";G?t="own":(0,E.Df)(K,e)&&(t="collaborator"),B({board_ownership:t})},[t]),(0,n.useEffect)(()=>(el&&q(!1),()=>{q(!0)}),[q,el]);let{showOneToast:e_}=(0,b.dI)(),ep=(0,r.s0)(),eh=(0,r.TH)(),{previous:ef}=(0,x.ou)(),em=0===ef.length,ex=(0,U.WG)(),eb=(0,m.Z)(),ey=(0,eg.Z)({name:"UserMetadataResource",options:{user:eb}});(0,n.useEffect)(()=>{if(ey&&ey.data&&!ex?.boardPinDensity){let{profile_pin_rep_view_type:e}=ey.data;ex?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:ev,mergeConfirmationModalProps:ew,onConfirm:ej}=(0,D.Z)({board:e}),eS=function(){let e=(0,M.Z)(),{logContextEvent:t}=(0,_.u)(),i=(0,l.I0)(),{showBlockingActionToast:n}=(0,e7.Z)(),r=(0,ed.Z)();return({board:l,targetBoard:a})=>{t({event_type:7172,object_id_str:l.id,aux_data:{merge_flow:"menu"}}),i((0,e8.Z)(l.id,a.id,r)).then(()=>{n({actionType:"merge",board:a})}).catch(t=>{e4.Z.showError(t.message||e.bt("Failed to merge boards", "Failed to merge boards", "Error message when failed to merge boards", undefined, true))})}}(),eC={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[eA,eP]=(0,n.useState)(!!e.sensitivity_screen?.show_warning&&!el),[eB,eZ]=(0,n.useState)(null),[eI,ek]=(0,n.useState)(i||null),[eT,eE]=(0,n.useState)(e&&(0,te.Z)(K,e)||"custom"),ez=()=>ek(O.s.boardArchiveConfirmation),eF=()=>{ep(K.isAuth?`/${(0,w.Ms)(K,$)}`:"/",{replace:!0})},eO=e=>{if(H)return void H();ek(O.s.editSection),eZ(e)},eD={board_id:e.id,board_pin_count:Y};return(0,y.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=eh.state||Object.freeze({});e&&(ek(O.s.collaboratorsAndPermissions),ep({...eh,state:{...eh.state,shouldOpenCollaboratorsModal:!1}},{replace:!0}))}),(0,P.jsx)(j.Z,{objectIdStr:J,viewParameter:G?3069:3070,viewType:5,children:(0,P.jsx)(g.Z,{auxData:eD,objectId:J,view:5,viewParameter:(0,ee.Z)({board:e,viewer:K}),children:(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eA?{filter:"blur(30px)"}:{}},children:[(0,P.jsx)(h._f,{experience:t,placementId:18}),(0,P.jsx)(f.Z,{placementId:1000647}),(0,P.jsxs)(ti.h,{children:[(0,P.jsx)(eQ,{board:e,handleBoardEditClick:()=>{R({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),ek(O.s.boardEdit)},handleFollowersClick:()=>{ek(O.s.followers)},handleSectionEditClick:()=>eO(),handleShowBoardArchiveConfirmation:ez,handleShowBoardUnarchiveConfirmation:()=>ek(O.s.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>ek(O.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(H)return void H();R({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),ek(O.s.pincode)},handleShowMergeModal:()=>{if(H)return void H();ek(O.s.mergeBoard)},isBoardPreviewMode:k,section:Z,setBoardPreviewMode:L,showPulsar:I}),el&&eu&&!k&&(0,P.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,P.jsx)(e9.Z,{boardId:e.id,isBoardEmpty:!Y||!et,sectionId:Z?.id})}),er&&(0,P.jsx)(e0,{boardId:e.id,collaboratorId:K.isAuth?K.id:"",collaboratorUsername:K.isAuth?K.username:""}),eI!==O.s.jumpstartBoard&&(0,P.jsx)(g.Z,{auxData:eD,component:178,objectId:e.id,view:5,viewParameter:G?3069:3070,children:(0,P.jsx)(eo,{board:e,currentView:eT,handleContentViewChange:e=>eE(e),handleSetCurrentModal:ek,handleShowEditSectionModal:eO,handleShowMergeSectionsConfirmationModal:ev,isBoardPreviewMode:k,isHidePinCount:!eu,isOwnBoard:G,isOwnerOrCollaborator:el,isPinGridSorted:"custom"!==eT,refreshBoardData:C,refreshSectionData:A,section:Z})}),(0,P.jsx)(T,{boardId:e.id,handleShowArchiveConfirmation:ez}),el&&(0,P.jsx)(e3,{handleAddSection:()=>{if(H)return void H();R({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),ek(O.s.simpleCreateSection)},handleCreatePin:()=>{if(H)return void H();R({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ep("/pin-builder/",{state:{board:e,boardSection:Z}})},handleCreateStoryPin:()=>{if(H)return void H();R({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ep((0,o.Z)(ec),{state:{board:e,entry_type:"board_plus_button",boardSection:Z}})},surface:Z?"section":"board"})]}),eI&&(0,P.jsx)(F.Z,{actions:{completeCreateSectionAction:t=>{if(H)return void H();ek(null),e_(({hideToast:i})=>(0,P.jsx)(tt,{boardUrl:e.url,onHide:i,slug:t.slug??""}))},onBoardArchiveChange:()=>{N((0,z.K8)(K.isAuth?K.username:""))},onBoardDelete:()=>{C(),eF()},onBoardLeave:()=>{N((0,z.K8)(K.isAuth?K.username:"")),eF()},onBoardMerge:t=>{eS({board:e,targetBoard:t}),eF()},onBoardSectionDelete:()=>{if(eZ(null),ek(null),Z){let t=e.url??"";ep(`${t}${es}`,{replace:!0})}},onBoardSectionSave:({slug:t})=>{eZ(null),ek(null),Z&&ep(`${e.url??""}${t}/${es}`,{replace:!0})},onConfirmMergeSection:ej},board:e,boardSection:Z||eB,currentModal:eI,mergeConfirmationModalProps:ew,onClearModal:()=>ek(null)}),(0,P.jsx)(h.RK,{placementId:18}),(0,P.jsx)(d.Z,{placementId:18}),(0,P.jsx)(h.nj,{experience:t,placementId:18})]}),eA&&(0,P.jsx)(e2,{handleGoBack:()=>{R({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eC}}),em&&ep("/",{replace:!0}),ep(-1)},hideSensitivityScreen:()=>{N((0,z.of)(e.id)),R({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eC}}),eP(!1)},sensitivityScreenAuxData:eC})]})})})})},504860:function(e,t,i){i.d(t,{Z:()=>m});var n=i(581722),l=i(935059),r=i(661376),a=i(200619),o=i(601871),s=i(44849),d=i(438274),c=i(768033),u=i(836643),_=i(338170),p=i(173842),h=i(785893);function f(e){let t=(0,l.Z)(),i=(0,a.Z)(),f=(0,o.lJ)(t,i),m=(0,r.Z)({name:"BoardSectionPinsResource",options:function(e,t,i,n=""){return{currentFilter:i,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,f)}),x=(0,r.Z)({name:"BoardsResource",options:(0,s.Z)(e.viewer.username,!0)}),g=(0,n.v9)(({feeds:t,desktopStories:i})=>(0,u.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],i));return(0,h.jsx)(c.Z,{...e,...g,boardsResource:x,renderFeaturedBoardsStory:t=>(0,h.jsx)(_.Z,{isOwnBoard:e.isOwnBoard,storyId:t}),renderMoreIdeas:t=>e.isOwnerOrCollaborator?null:(0,h.jsx)(p.default,{storyId:t}),resource:m})}f.displayName="BoardSectionPinGrid";let m=f},497455:function(e,t,i){i.d(t,{Z:()=>n});function n(e,t){let{url:i}=e,{slug:n}=t;return`${i??""}${n??""}/`}},112782:function(e,t,i){i.d(t,{Z:()=>Z});var n=i(686659),l=i(667294),r=i(399353),a=i(470205),o=i(501010),s=i(619481),d=i(890678),c=i(718846),u=i(550759),_=i(312048),p=i(230201),h=i(290216),f=i(935059),m=i(774838),x=i(341687),g=i(893957),b=i(271875),y=i(32602),v=i(914253),w=i(551140),j=i(305375),S=i(785893);let C=88,A=30,P=({boardTool:e,boardId:t,boardSectionId:i,iconSize:a=A,index:o,toolSize:s=C})=>{(0,l.useEffect)(()=>{(0,n.Z)("BoardTool","/app/www/save/board/BoardTools/BoardTool.tsx")},[]);let[d,c]=(0,l.useState)(!1),u=(0,w.$)(),{icon:P,link:B,text:Z,tool:I}=e,{section_slug:k}=(0,j.Z)(),T=B.split("/").slice(0,3),E=B.split("/").slice(4),z=B.split("/")[3],F=6===I,O=z!==k&&i&&k&&!F?[...T,k,...E].join("/"):B,{isRTL:D}=(0,m.B)(),{logContextEvent:L}=(0,p.u)(),{owner:R,pin_count:M,section_count:N}=(0,v.gC)()(t)||{},H=(0,f.Z)(),U=H.isAuth?H.id:"",q=R?.id===U?3069:3070,K=0===I,$=e=>{1===I&&L({event_type:e,view_type:i?164:5,view_parameter:q,element:10600,aux_data:{board_id:t,board_pin_count:M,board_section_count:N,board_section_id:i,grid_index:o}}),K&&L({event_type:e,view_type:i?164:5,view_parameter:q,component:14926,element:11990,aux_data:{board_id:t,board_session_id:u}}),F&&101===e&&L({event_type:101,component:14926,view_type:i?164:5,view_parameter:q,element:12893,aux_data:{board_id:t,board_session_id:u,board_section_id:i}})};(0,g.Z)(()=>{$(120),K&&$(13)});let G=(0,l.useRef)(null),{setGroupBoardMessageButton:W}=(0,y.Z)(),{conversations:{showConversationsDropdown:J},conversationOpen:V,dropdownOpen:X,dropdownClose:Y}=(0,b.Z)(),Q=(0,_.TH)(),{conversation_id:ee,tab:et}=(0,x.Z)(Q.search),ei=4===I&&!!ee&&"inbox"===et;ei&&W(G.current);let en=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(I);return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(r.Tg,{ref:G,accessibilityLabel:Z,href:ei?"":O,onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:()=>{ei&&($(102),J?Y():(X(),V(ee))),(K||F)&&$(101)},rounding:6,children:(0,S.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,S.jsx)(r.xu,{alignItems:"center",alignSelf:"center",color:d?"lightWash":"secondary",display:"flex",height:s,justifyContent:"center",rounding:600,width:s,children:(0,S.jsx)(r.JO,{accessibilityLabel:Z,color:"default",icon:"text-align-left"===P&&D?"text-align-right":P,size:a})}),(0,S.jsx)(r.xu,{paddingY:1,width:s,children:(0,S.jsx)(r.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:Z})})]})}),en&&(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(h.cs,{anchors:{[en]:G.current},placementId:18,positionRelativeToAnchor:!1}),(0,S.jsx)(h.N,{anchors:{[en]:G.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function B(e){let{boardId:t,sectionId:i,iconSize:n,isBoardEmpty:l,toolSize:a,boardOrSectionToolsRef:d}=e,u=(0,c.Z)(),{checkExperiment:_}=(0,o.Z)(),p=_("web_collage_creation").anyEnabled&&!l&&_("web_collage_navigate_from_own_board").anyEnabled,{data:h}=(0,s.Z)(d);if(!h||!h.length)return null;let f=h.filter(({tool:e})=>!u||2===e).filter(({tool:e})=>!l||2!==e).filter(({tool:e})=>p||6!==e).map(e=>6===e.tool?{...e,link:`/collage-creation-tool/?boardId=${t}${i?`&sectionId=${i}`:""}`}:e);return f.length?(0,S.jsx)(r.xu,{"data-test-id":"board-tools",role:"list",children:(0,S.jsx)(r.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:f.map((e,l)=>(0,S.jsx)(r.xu,{"data-test-id":e.text,padding:1,role:"listitem",children:(0,S.jsx)(P,{boardId:t,boardSectionId:i,boardTool:e,iconSize:n,index:l,toolSize:a})},e.id))})}):null}function Z(e){(0,l.useEffect)(()=>{(0,n.Z)("BoardToolsContainer","/app/www/save/board/BoardTools/BoardToolsContainer.tsx")},[]);let{sectionId:t,boardId:i}=e,r=(0,c.Z)(),o=!!t,{ref:s}=(0,d.Z)({name:o?"SectionToolsFeedResource":"BoardToolsFeedResource",options:o?{sectionId:t,orbacSubjectId:r}:{boardId:i,orbacSubjectId:r}});return(0,S.jsx)(a.Z,{name:"BoardToolsContainer_ResourceError",children:(0,S.jsx)(l.Suspense,{fallback:(0,S.jsx)(u.Z,{}),children:(0,S.jsx)(B,{...e,boardOrSectionToolsRef:s})})})}P.displayName="BoardTool"},422872:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},635545:function(e,t,i){i.d(t,{Z:()=>h});var n=i(686659),l=i(667294),r=i(399353),a=i(230201),o=i(290216),s=i(24246),d=i(510755),c=i(554365),u=i(36351),_=i(500602),p=i(785893);function h({board:e,hasBoardToolStyles:t,onArchiveClick:i,onCreatePincode:h,onEditBoardClick:f,onEditSectionClick:m,onMergeClick:x,onShowAbout:g,onUnarchiveClick:b,showArchiveOnly:y=!1,showCreatePinCodeOption:v,surface:w,excludeShareOption:j,size:S="sm",bgColor:C="secondary"}){(0,l.useEffect)(()=>{(0,n.Z)("BoardHeaderOverflowFlyoutButton","/app/www/save/board/Headers/BoardHeader/BoardHeaderOverflowFlyoutButton.tsx")},[]);let A=(0,s.Z)(),P=(0,l.useRef)(null),{logContextEvent:B}=(0,a.u)(),[Z,I]=(0,l.useState)(!1),[k,T]=(0,l.useState)("boardOptions"),[E,z]=(0,l.useState)(!1),F=e.header?.large_image_url?"default":"secondary";F=E?"lightWash":F;let O="automagical"===e.layout,D=()=>{I(!1),T("boardOptions")},L={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},R=()=>{I(e=>!e),T("boardOptions")},M=!!e.archived_by_me_at,N=["section"===w?function({handleClose:e,onEditClick:t,setMenuType:i},n,l){return{items:[{dataTestId:"edit-section-button",text:n.bt("Edit section", "Edit Section", "BoardHeader.getSectionOptionsCategory.EditOption", undefined, true),onClick:()=>{t(),e()}},{text:n.bt("Share", "Share", "BoardHeader.getSectionOptionsCategory.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(l),i("boardShare")}}],label:n.bt("Section options", "Section options", "BoardHeader.getSectionOptionsCategory.OptionsCategory", undefined, true)}}({handleClose:D,onEditClick:m,setMenuType:T},A,B):function({handleClose:e,isArchived:t,isAutomagical:i,onArchiveClick:n,onCreatePincode:l,onEditClick:r,onMergeClick:a,onShowAbout:o,onUnarchiveClick:s,setMenuType:d,showCreatePinCodeOption:u,isAdOnlyPins:_,excludeShareOption:p},h,f,m){let x=[];return i?x.push({dataTestId:"aboutRecommendationsButton",text:h.bt("About boards made for you", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),onClick:()=>{o?.(),e()}}):(m||x.push({dataTestId:"editBoardButton",text:h.bt("Edit board", "Edit board", "BoardHeader.BoardOptionsFlyout.EditOption", undefined, true),onClick:()=>{r(),e()}}),p||x.push({dataTestId:"shareBoardButton",text:h.bt("Share", "Share", "BoardHeader.BoardOptionsFlyout.ShareOption", undefined, true),onClick:()=>{(0,c.Z)(f),d("boardShare")}}),_||t||x.push({dataTestId:"mergeBoardButton",text:h.bt("Merge", "Merge", "BoardHeader.BoardOptionsFlyout.MergeOption", undefined, true),onClick:()=>{a(),e()}}),t?x.push({dataTestId:"unarchiveBoardButton",text:h.bt("Unarchive", "Unarchive", "BoardHeader.BoardOptionsFlyout.UnarchiveOption", undefined, true),onClick:()=>{s(),e()}}):x.push({dataTestId:"archiveBoardButton",text:h.bt("Archive", "Archive", "BoardHeader.BoardOptionsFlyout.ArchiveOption", undefined, true),onClick:()=>{n(),e()}}),u&&!m&&x.push({dataTestId:"createPinCodeBoardButton",text:h.bt("Create Pincode", "Create Pincode", "BoardHeader.BoardOptionsFlyout.PincodeOption", undefined, true),onClick:()=>{l(),e()}})),{items:x,label:h.bt("Board options", "Board options", "BoardHeader.BoardOptionsFlyout.OptionsCategory", undefined, true)}}({handleClose:D,isArchived:M,isAutomagical:O,onArchiveClick:i,onCreatePincode:h,onEditClick:f,onMergeClick:x,onShowAbout:g,onUnarchiveClick:b,setMenuType:T,showCreatePinCodeOption:v,isAdOnlyPins:e.is_ads_only,excludeShareOption:j},A,B,y)];return(0,p.jsxs)(r.xu,{position:"relative",zIndex:new r.Ry(d.fe-1),children:[(0,p.jsx)(r.xu,{ref:P,"data-test-id":"more-board-options",children:t?(0,p.jsx)(r.iP,{onTap:R,rounding:600,children:(0,p.jsx)(r.xu,{color:Z?"selected":F,display:"flex",justifyContent:"center",onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),paddingX:5,paddingY:5,rounding:600,children:(0,p.jsx)(r.JO,{accessibilityLabel:"more options",color:Z?"inverse":"default",icon:"ellipsis",size:24})})}):(0,p.jsx)(r.hU,{accessibilityLabel:A.bt("More board options", "More Board options", "BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel", undefined, true),bgColor:C,icon:"ellipsis",iconColor:"default",onClick:R,selected:Z,size:S})}),(0,p.jsx)(o.cs,{anchors:{3001:P.current},onCompleteByAnchor:{3001:R},placementId:18}),(0,p.jsx)(o.N,{anchors:{3001:P.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),Z&&("boardOptions"===k?(0,p.jsx)(r.Lt,{anchor:P.current,disableMobileUI:!0,id:"board_options",onDismiss:D,zIndex:_.m6,children:N.map(({items:e,label:t})=>(0,p.jsx)(r.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:i,text:n})=>(0,p.jsx)(r.Lt.Item,{dataTestId:e,onSelect:i,option:{label:n,value:n},selected:t?{label:n,value:n}:null},n))},t))}):(0,p.jsx)(r.J2,{anchor:P.current,onDismiss:D,size:"flexible",children:(0,p.jsx)(u.Z,{component:13216,onCreatePincodeClick:h,onHide:D,sendType:"board",sharedObject:L,viewType:5})}))]})}},316037:function(e,t,i){i.d(t,{Z:()=>D});var n=i(686659),l=i(667294),r=i(399353),a=i(311752),o=i(391529),s=i(853930),d=i(360990),c=i(319226),u=i(24246),_=i(487002),p=i(101504),h=i(112782),f=i(398419),m=i(998551),x=i(774243),g=i(581722),b=i(230201),y=i(943152),v=i(935059),w=i(577356),j=i(211731),S=i(785893);function C(e){(0,l.useEffect)(()=>{(0,n.Z)("ButtonElement","/app/www/save/board/JoinButton/ButtonElement.tsx")},[]);let t=(0,u.Z)(),{onClick:i,requested:a,size:o,useAlternateText:s}=e;return(0,S.jsx)(r.zx,{fullWidth:!0,onClick:i,size:o||"md",text:(a?function(e,t){return t?e.bt("Cancel", "Cancel", "BoardPage.BoardJoinButton.cancel", undefined, true):e.bt("Cancel request", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true)}:function(e,t){return t?e.bt("Join", "Join", "BoardPage.BoardJoinButton.join", undefined, true):e.bt("Request to join", "Request to join", "[Button] Request to join a group board as a collaborator", undefined, true)})(t,s)})}var A=i(924591),P=i(216975);function B(e){(0,l.useEffect)(()=>{(0,n.Z)("JoinCancelToast","/app/www/save/board/JoinButton/JoinCancelToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:a,boardUrl:o,onHide:s}=e,d=(0,S.jsx)(r.xv,{children:(0,P.nk)(t.bt("You've cancelled the request to collaborate on {{ boardName }}", "You've cancelled the request to collaborate on {{ boardName }}", "Board.JoinButton.CancelToast", undefined, true),{boardName:(0,S.jsx)(r.xv,{inline:!0,weight:"bold",children:a})})});return(0,S.jsx)(A.Z,{duration:3e3,href:o,imageUrl:i,onHide:s,text:d})}function Z(e){(0,l.useEffect)(()=>{(0,n.Z)("JoinRequestToast","/app/www/save/board/JoinButton/JoinRequestToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:a,boardUrl:o,onHide:s}=e,d=(0,S.jsx)(r.xv,{children:(0,P.nk)(t.bt("You've requested to join {{ boardName }}", "You've requested to join {{ boardName }}", "Board.JoinButton.RequestToast", undefined, true),{boardName:(0,S.jsx)(r.xv,{inline:!0,weight:"bold",children:a})})});return(0,S.jsx)(A.Z,{href:o,imageUrl:i,onHide:s,text:d})}function I(e){let{boardId:t,boardImage:i,boardName:n,boardUrl:l,isRequestedByMe:a,showPulsar:o,size:s,variant:d}=e,{logContextEvent:c}=(0,b.u)(),u=(0,g.I0)(),_=(0,v.Z)(),p=(0,w.dI)(),h=_.isAuth&&_.id||"",f=(0,y.Z)(),m=(0,j.tV)(),x=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():a?(u((0,j.GJ)(t,h)),p.showOneToast(({hideToast:e})=>(0,S.jsx)(B,{boardImage:i,boardName:n,boardUrl:l,onHide:e}))):(u(m(t)),p.showOneToast(({hideToast:e})=>(0,S.jsx)(Z,{boardImage:i,boardName:n,boardUrl:l,onHide:e})));let{action:r,id:o,logContextEvent:s,url:d}={action:a?"request":"cancel",id:t,logContextEvent:c,url:l};s({event_type:101,component:1,element:"request"===r?7499:7547,object_id_str:o,view_type:4,aux_data:{current_page_url:d}})};return h?(0,S.jsxs)(r.xu,{display:"flex",position:"relative",children:[(0,S.jsx)(C,{onClick:x,requested:a,size:s,useAlternateText:"lego"===d}),o&&(0,S.jsx)(r.iP,{onTap:e=>{x(e)},children:(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,S.jsx)(r.o3,{paused:a})})})]}):null}var k=i(833847);function T({board:e,boardName:t,collaborators:i,isArchived:a,isBoardPreviewMode:o,isSecret:s,nonDisplayedCollaboratorCount:g,pinCount:b,sectionCount:y,description:v,showPinCount:w,showPulsar:j,showJoinButton:C,isOwnerOrCollaborator:A,handleShowCollabAndPermissionsModal:P}){(0,l.useEffect)(()=>{(0,n.Z)("BoardHeaderDetails","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetails.tsx")},[]);let B=(0,u.Z)(),{automagical_board_metadata:Z,featured_board_metadata:T,id:E,image_cover_url:z,layout:F,owner:O={},should_show_board_collaborators:D,url:L,viewer_collaborator_join_requested:R}=e,{curator:M,is_sponsored_content:N}=T||{},{board_type:H,tag_title:U,tagline:q,topic_name:K,upcoming_update_date_text:$}=Z||{},G=N&&M?(0,d.Z)(M):null,W=(0,k.Z)(e),J=A&&!o,V="automagical"===F,X=D&&i.length>1,Y=(0,l.useMemo)(()=>{let e=[];return M?e.push((0,d.Z)(M)):X?e.push(...i):O&&e.push((0,d.Z)(O)),e},[X,i,M,O]),Q=T?.board_tag;return(0,S.jsxs)(r.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,S.jsxs)(r.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=T||{};return e?(0,S.jsx)(r.xu,{marginBottom:-1,children:(0,S.jsx)(r.xv,{weight:"bold",children:e})}):null})(),(0,S.jsx)(r.qd,{id:"board-name",size:"700",children:t}),(0,S.jsx)(m.Z,{fontSize:"200",isArchived:a,isAutomagical:V,isFeaturedBoard:W,isSecret:s,pinCount:b,sectionCount:y,showEditorialBoardTag:"number"==typeof Q&&Q>=0,showPinCount:w,subtitle:2===H?q:$,tagTitle:U}),!!v&&(0,S.jsx)(_.Z,{description:v,topicName:K})]}),!V&&(0,S.jsxs)(l.Fragment,{children:[J&&(0,S.jsx)(r.xu,{marginBottom:2,children:(0,S.jsx)(c.HE,{addCollaborators:!0,collaborators:Y,onClick:P,role:"button",size:"sm"})}),J&&(0,S.jsx)(h.Z,{boardId:E,iconSize:24,isBoardEmpty:!b,toolSize:72}),!J&&G&&(0,S.jsx)(f.Z,{board:e,collaborator:(()=>{if(X&&G)return i.find(e=>e.id!==G.id)})(),sponsor:G}),!J&&!G&&(0,S.jsxs)(r.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,S.jsx)(p.Z,{avatarSize:"sm",board:e,displayedCollaborators:Y,isBoardPreviewMode:o,nonDisplayedCollaboratorCount:g}),(0,S.jsxs)(r.xv,{children:[B.bt("by ", "by ", "board.Headers.BoardHeader.BoardHeaderDetails.by", undefined, true),(0,S.jsx)(x.Z,{board:e,collaborators:Y,overflowNumber:g})]})]})]}),C&&(0,S.jsx)(I,{boardId:E,boardImage:z??"",boardName:t,boardUrl:L,isRequestedByMe:!!R,showPulsar:j,size:"lg",variant:"lego"})]})}var E=i(230689),z=i(401545),F=i(235623),O=i(10516);function D({board:e,boardName:t,collaborators:i,description:d,fullWidth:c=!1,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,inRelocateBoardShareButtonExp:h,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:x,onCreatePincode:g,overFlowActionsButton:b,pinCount:y,sectionCount:v,setBoardPreviewMode:w,showPinCount:j,showPulsar:C,showJoinButton:A}){(0,l.useEffect)(()=>{(0,n.Z)("BoardHeaderWithImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderWithImage.tsx")},[]);let{featured_board_metadata:P,layout:B,header:Z,owner:I}=e,{isSmallerImage:k,isSmallScreen:D}=(0,O.Z)(),L=(0,s.Z)(I?.id),R="automagical"===B,M=Z?.large_image_url||null,N=P?.has_expanded_sections&&L&&w,H=()=>(0,S.jsxs)(r.kC,{dataTestId:"board-actions-container",gap:2,children:[N&&!R&&(0,S.jsx)(z.Z,{isBoardPreviewMode:p,setBoardPreviewMode:w}),!m&&!R&&(0,S.jsx)(r.xu,{marginEnd:2,children:(0,S.jsx)(F.Z,{boardKey:{type:"Legacy",data:e},color:M?"default":"secondary",handleCreatePincode:g,hasBoardToolStyles:h,hasShadow:!!M,iconColor:"default",showTooltip:h})}),(0,S.jsx)(r.xu,{marginEnd:4,children:b})]}),U=()=>(0,S.jsx)(T,{board:e,boardName:t,collaborators:i,description:d,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:x,pinCount:y,sectionCount:v,showJoinButton:A,showPinCount:j,showPulsar:C}),q=()=>M?(0,S.jsx)(E.Z,{boardActions:H(),imageUrl:M,imageWidth:k?O.w:void 0}):H(),K=(0,S.jsxs)(r.kC,{alignItems:D||!M||f&&!p?"start":"center",dataTestId:"board-header-with-image",direction:D&&M?"column":"row",gap:8*!!M,justifyContent:"between",children:[(0,S.jsx)(r.xu,{children:D&&M?q():U()}),(0,S.jsx)(r.xu,{maxWidth:D?550:void 0,children:D&&M?U():q()})]});return c?(0,S.jsx)(r.xu,{paddingX:1,width:"100%",children:K}):(0,S.jsx)(a.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:o.Sk,children:K})}},701943:function(e,t,i){function n(){return{}}i.d(t,{kr:()=>n}),i.g.__AsyncLocalStorage__&&new i.g.__AsyncLocalStorage__},810752:function(e,t,i){function n(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i||"",site:t||""}}function l(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{ac:()=>n,ke:()=>l})},177433:function(e,t,i){i.d(t,{Zv:()=>a,uo:()=>o,wH:()=>r});var n=i(213491),l=i(810752);let{Provider:r,get:a}=(0,n.Z)("HandlerId");function o(){let e=a();return(0,l.ac)(e).site}},778830:function(e,t,i){function n(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}i.d(t,{N:()=>n}),(0,i(701943).kr)()},9065:function(e,t,i){i.d(t,{Z:()=>u});var n=i(667294),l=i(774838),r=i(317109),a=i(767415),o=i(354139),s=i(177433);function d(e){if(e&&i.m[e])return i(e).default}i(778830);var c=i(785893);function u(e,t,i,u,_){let p=t?.ssr??!0?n.Suspense:r.Z,h=new Map,f=new Map;function m(e){return u&&t?.dynamicRequestKey&&e?u.replace("[request]",e[t.dynamicRequestKey]):u}function x(e){return i?i(e):m(e)??"static"}function g({children:e,chunkName:t}){let i=(0,s.Zv)(),r=(0,l.Ts)();return(0,n.useEffect)(()=>{(0,a.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:{...(0,o.M3)({handlerId:i,requestContext:r}),chunkName:t}})},[]),e}function b(l){t?.dynamicRequestKey;let r=x(l),s=(0,o.DB)(),u=m(l);if(!f.has(r)){let t=i?.(l);f.set(r,function({chunkName:e,dynamicImport:t,earlyHydrationEnabled:i,getDependentChunkNames:l,moduleId:r,props:o}){let s,c=(0,n.lazy)(()=>t(o));if(i){var u;s=(u=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(l?.(),e))&&u.every(e=>(function(e){let t=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp;return t?.some(t=>t[0].includes(e))??!1})(e))?d(r):void 0}else s=d(r);let _=!!s;return(0,a.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:_,moduleId:r??"unknown"}}),s||c}({chunkName:u,dynamicImport:e,earlyHydrationEnabled:s.anyEnabled,getDependentChunkNames:_,moduleId:t,props:l}))}let h=f.get(r);return(0,c.jsx)(p,{fallback:(0,c.jsx)(g,{chunkName:u??"unknown",children:l.fallback||t?.fallback}),children:(0,c.jsx)(h,{...l,ref:l.ref})})}return b.preload=t=>{let i=x(t),n=f.get(i);h.get(i)||n||h.set(i,(async()=>{if(!n){let n=await e(t);f.set(i,n.default),h.delete(i)}})())},b}},715587:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},804170:function(e,t,i){i.d(t,{g:()=>n});let n={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1}},234178:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),l=i(804170),r=i(715587);function a(){return(0,n.use)(r.Z)??l.g}},354139:function(e,t,i){i.d(t,{DB:()=>o,M3:()=>s,SS:()=>a});var n=i(810752),l=i(804170);function r(e,t=!1){let i={...l.g,anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t};switch(e){case"enabled":case"enabled_no_app_shell":return{...i,scriptPlacement:"head"};case"enabled_preload":case"enabled_preload_no_app_shell":return{...i,scriptPlacement:"head",preloadScripts:"low"};case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return{...i,scriptPlacement:"head",preloadScripts:"high"};case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return{...i,scriptPlacement:"body",preloadScripts:"low"};case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return{...i,scriptPlacement:"body",preloadScripts:"high"};case"control":case"control_no_app_shell":return i;default:return l.g}}function a({experimentsClient:e,handlerId:t,skipActivation:i=!1}){let{site:a}=(0,n.ac)(t??"");if("www"!==a)return l.g;if(function({experimentsClient:e,skipActivation:t}){let{group:i,anyEnabled:n}=e?.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:t})??{group:"",anyEnabled:!1};return"control_early_hydration_specify_hostname"===i||"control_early_hydration_reduce_precache"===i||"control_early_hydration_extend_precache"===i||"control_early_hydration"===i||n}({experimentsClient:e,skipActivation:i}))return r("enabled_preload_and_body_scripts",!0);let{group:o}=e?.checkExperiment("web_early_hydration",{dangerouslySkipActivation:i})??{group:""};return r(o,!1)}let o=i(234178).Z;function s({handlerId:e,requestContext:t}){let{group:i,isServiceWorkerExperiment:n}=a({experimentsClient:t.experimentsClient,handlerId:e,skipActivation:!0}),{isAuthenticated:l,isBot:r,userAgent:o}=t;return{earlyHydrationGroup:i||"unknown",environment:"client",handlerId:e,isAuthenticated:l,isBot:r,isDesktop:!o.isMobile&&!o.isTablet,isServiceWorkerExperiment:n,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},653015:function(e,t,i){i.d(t,{Z:()=>l,u:()=>n});let n="HIDDEN_ON_SERVER_ERROR",l=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(n)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90479.en_GB-225e9012421e6c7d.mjs.map