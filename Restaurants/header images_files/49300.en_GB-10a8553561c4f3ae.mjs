(self.modernJsonp=self.modernJsonp||[]).push([["49300"],{59355:function(e,t,i){i.d(t,{Q:()=>l,Z:()=>c});var s=i(667294),n=i(104999),o=i(746868),a=i(730056),r=i(774838);function l(e,t){let{setViewContextData:i}=(0,o.A$)(),{requestIdentifier:l}=(0,r.B)(),c=(0,n.Z)(),{viewData:d}=(0,o.SU)();(0,s.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:l}))},[t])}function c(e){let{children:t,log:i}=e;return l(i),t||null}},994507:function(e,t,i){i.d(t,{Ak:()=>d,Jr:()=>m,LG:()=>E,MK:()=>s,PW:()=>b,R8:()=>a,UF:()=>l,UO:()=>P,XN:()=>c,ZB:()=>A,_h:()=>p,cH:()=>o,dm:()=>C,fE:()=>v,fu:()=>u,iK:()=>y,iN:()=>n,js:()=>h,nZ:()=>f,ne:()=>r,pn:()=>w,tf:()=>g,vE:()=>_});let s=0,n=0,o=0,a=0,r=0,l="",c="",d="",u="",_="",h="",p="desktop",m=0,f={browserName:"",browserType:null,browserVersion:"",canUseNativeApp:!1,isTablet:!1,isMobile:!1,platform:"",platformVersion:[0,0,0],osName:null,raw:""},b=[],g=[],v=[],y=[],w=[],E=100,P=10,A=28,C=()=>({count:1,time:0,ts:Date.now()})},147155:function(e,t,i){i.d(t,{$S:()=>s,V$:()=>n,_4:()=>a,iY:()=>r,mR:()=>o});let s="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",r="UPDATE_EXPERIENCE"},507006:function(e,t,i){i.d(t,{Z:()=>o});var s=i(720459),n=i(774838);let o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:o,shortformMaximumFractionDigits:a,formatStyle:r,uplimit:l,value:c})=>(0,s.Z)()((0,n.B)().locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:o,shortform_maximum_fraction_digits:a,style:r,uplimit:l})},995514:function(e,t,i){i.d(t,{Z:()=>a});var s=i(375181),n=i(24246),o=i(216975);function a(){let e=(0,n.Z)();return function(t,i){let n=new Date(t).getTime(),a=Date.now()-n,r=Math.floor(a/s.FS),l=Math.floor(a/s.UK),c=Math.floor(a/s.F4),d=Math.floor(a/s.VL),u=Math.floor(a/s.N9),_=Math.floor(a/s.N1),h=e.nbt(["{{ minutes }} minute ago", "{{ minutes }} minutes ago"], r, " - ", true),p=e.nbt(["{{ hours }} hour ago", "{{ hours }} hours ago"], l, " - ", true),m=e.nbt(["{{ days }} day ago", "{{ days }} days ago"], c, " - ", true),f=e.nbt(["{{ weeks }} week ago", "{{ weeks }} weeks ago"], d, " - ", true),b=e.nbt(["{{ months }} month ago", "{{ months }} months ago"], u, "useGetHumanizedTimeSince.monthsString", true),g=e.nbt(["{{ years }} year ago", "{{ years }} years ago"], _, " - ", true),v=e.nbt(["{{ minutes }}m", "{{ minutes }}m"], r, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }}h", "{{ hours }}h"], l, "hours ago abbreviated", true),w=e.nbt(["{{ days }}d", "{{ days }}d"], c, "days ago abbreviated", true),E=e.nbt(["{{ weeks }}w", "{{ weeks }}w"], d, "weeks ago abbreviated", true),P=e.nbt(["{{ months }} mo", "{{ months }} mo"], u, "months ago abbreviated", true),A=e.nbt(["{{ years }}y", "{{ years }}y"], _, "years ago abbreviated", true);return _>0?(0,o.nk)(i?A:g,{years:_}).join(""):u>0?(0,o.nk)(i?P:b,{months:u}).join(""):d>0?(0,o.nk)(i?E:f,{weeks:d}).join(""):c>0?(0,o.nk)(i?w:m,{days:c}).join(""):l>0?(0,o.nk)(i?y:p,{hours:l}).join(""):r>0?(0,o.nk)(i?v:h,{minutes:r}).join(""):e.bt("Just now", "Just now", " - ", undefined, true)}}},720459:function(e,t,i){i.d(t,{Z:()=>a});var s=i(24246),n=i(696749);let o=(e,t)=>{let i=t||0,s=10**i,n=+(i?e*s:e).toFixed(8),o=Math.floor(n),a=n-o,r=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(n);return i?r/s:r};function a(){let e=(0,s.Z)();return(t,i,s)=>{let a=0,r=0,l=s&&s.style||void 0,c=s&&s.shortform||!1,d=s&&s.uplimit||void 0,u=s&&s.currency||void 0,_=!!d&&i>=d,h=d&&_?d:i;if("currency"===l){let{minimumFractionDigits:e,maximumFractionDigits:i}=((e,t)=>{if(t){let{minimumFractionDigits:i,maximumFractionDigits:s}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==s)return{minimumFractionDigits:i,maximumFractionDigits:s}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,u);a=void 0===s||void 0===s.maximum_fraction_digits?i:s.maximum_fraction_digits,r=void 0===s||void 0===s.minimum_fraction_digits?e:s.minimum_fraction_digits}else a=void 0===s||void 0===s.maximum_fraction_digits?0:s.maximum_fraction_digits,r=void 0===s||void 0===s.minimum_fraction_digits?0:s.minimum_fraction_digits;if(c&&h>999&&(a=void 0===s||void 0===s.shortform_maximum_fraction_digits?2:s.shortform_maximum_fraction_digits,r=0),a<r)return String(h);let p=h,m="",f=[{"100m":{value:1e8,localeKey:e.bt("å„„", "å„„", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt("ä¸‡", "ä¸‡", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],b=[{b:{value:1e9,localeKey:e.bt("b", "b", "Used in number formatting to abbreviate large values in billions.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("m", "m", "Used in number formatting to abbreviate large values in millions.", undefined, true)}},{k:{value:1e3,localeKey:e.bt("k", "k", "Used in number formatting to abbreviate large values in thousands.", undefined, true)}}],g=/^zh|ja|ko/.test(t);if(c&&h>999){let e=g?f:b;for(let t=0;t<e.length;t+=1){let i=Object.keys(e[t])[0],s=e[t][i].value;if(h>=s){p=o(h/s*Math.pow(10,a))/Math.pow(10,a),m=e[t][i].localeKey;break}}}if(null==p)return"";let v=p.toLocaleString([(e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0})(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:s})=>{let n={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...n,style:i,..."currency"===i?{currency:s,currencyDisplay:"symbol"}:{}}:n})({maximumFractionDigits:a,minimumFractionDigits:r,currency:u,style:l}));return m&&m.length>0?(0,n.Z)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:v,numberSuffix:m})+(_?"+":""):v+(_?"+":"")}}},936367:function(e,t,i){function s(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>u,ZP:()=>h,LU:()=>_});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},r={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:r,[o.stopped]:r,[o.paused]:r,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){s(this,"lastIntersectionChange",null),s(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),s(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),s(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),s(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:s,isHidden:n})=>{s(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):n(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),s(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(o.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(o.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(n)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function d(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,_=!1;class h{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===_&&(this.pausePriority=e))}resume(e=u){(e!==_||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=_)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},609252:function(e,t,i){i.d(t,{Z:()=>s});let s=new(i(936367)).ZP},40249:function(e,t,i){i.d(t,{Z:()=>s});function s(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},50571:function(e,t,i){i.d(t,{FK:()=>o,Mp:()=>r,dO:()=>a,e$:()=>l,hy:()=>c,z5:()=>d});var s=i(175860),n=i(935833);let o=({subscriptionId:e,endpoint:t})=>{let i;return e||(i=t.split("/"))[i.length-1]},a=(e,t)=>(0,n.tj)(e,{...t});function r(e){let t="=".repeat((4-e.length%4)%4),i=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(i),n=new Uint8Array(s.length);for(let e=0;e<s.length;e+=1)n[e]=s.charCodeAt(e);return n}let l=e=>e.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "RequestDataUI.Toast.unknownFailure", undefined, true),c=e=>e.bt("Chrome users can activate browser notifications when push is turned on", "Chrome users can activate browser notifications when push is turned on", "notification_settings.permissions.chrome_browser_enabling.description", undefined, true),d=(e,t)=>{switch(t){case s.bq.PUSH:return e.bt("You won't get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case s.bq.EMAIL:return e.bt("You won't get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case s.bq.NEWS:return e.bt("You won't get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case s.bq.WEB_PUSH:return e.bt("You won't get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);default:return e.bt("You won't get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true)}}},325705:function(e,t,i){i.d(t,{Z:()=>u});var s=i(312048),n=i(47755),o=i(924591),a=i(50571),r=i(893957),l=i(785893);let c=async(e,t,i)=>{try{await (0,n.Z)({url:"/v3/email/fatigue/{interest_id}/",urlParams:{interest_id:e},method:"DELETE"})}catch(s){let e=(0,a.e$)(i);t(({hideToast:t})=>(0,l.jsx)(o.Z,{onHide:t,text:e}))}},d=async(e,t,i)=>{try{await (0,n.Z)({url:"/v3/email/journey/fatigue/{journey_combo_key}/",urlParams:{journey_combo_key:e},method:"DELETE"})}catch(s){let e=(0,a.e$)(i);t(({hideToast:t})=>(0,l.jsx)(o.Z,{onHide:t,text:e}))}},u=(e,t,i)=>{let n=new URLSearchParams(e?.search),a="31"===n.get("utm_source"),u=n.get("utm_content")||"",[_,h]=((e,t,i,s)=>{let n,o="",a=s.bt("OK! You'll continue to see notifications about this interest", "Got it! You'll continue to see notifications about this interest", "email.Feedback.Experience.Interest.Positive", undefined, true),r=s.bt("OK. You'll see fewer notifications about this interest", "Got it! You'll see less notifications about this interest", "email.Feedback.Experience.Interest.Negative", undefined, true);return"interest_positive"===e?(o=a,n=()=>{}):"interest_negative"===e?(o=r,n=()=>{c(t,i,s)}):"journey_positive"===e?(o=a,n=()=>{}):"journey_negative"===e?(o=r,n=()=>{d(t,i,s)}):e.startsWith("survey_")&&(o=s.bt("OK. This will help improve the quality of your emails in the future", "Got it! This will help improve the quality of your emails in the future", "email.Feedback.Experience.Recommendation.Response", undefined, true)),[o,n]})(n.get("e_t_s")||"",u,t,i),p=(0,s.s0)();(0,r.Z)(()=>{if(e?.pathname==="/"&&_&&a){n.delete("e_t_s"),p({pathname:e.pathname,search:n.toString()});let s=i.bt("Undo", "Undo", "email.Feedback.Experience.undoButton.label", undefined, true);t(({hideToast:e})=>(0,l.jsx)(o.Z,{duration:6e3,onHide:e,primaryAction:h?{accessibilityLabel:s,label:s,role:"button",onClick:()=>{e(),h()}}:void 0,text:_}))}})}},969809:function(e,t,i){i.d(t,{Z:()=>s});let s=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},317109:function(e,t,i){i.d(t,{Z:()=>l});var s=i(686659),n=i(667294),o=i(653015);function a({children:e}){if("undefined"==typeof window)throw Error(o.u);return e}var r=i(785893);function l({children:e,fallback:t}){return(0,n.useEffect)(()=>{(0,s.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(a,{children:e})})}},825605:function(e,t,i){i.d(t,{Z:()=>s});let s=i(317109).Z},923298:function(e,t,i){i.d(t,{Z:()=>o});var s=i(818244),n=i(233550);let o=()=>{let e=(0,s.g)(),t=(0,n.l)();return i=>{let{mobileOptions:s,desktopOptions:n,reason:o,attributionLabel:a,pinId:r,savePinImageUrl:l}=i;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:a,savePinId:r,savePinImageUrl:l,...n?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:a,headingType:s?.headingType??"none",pinId:r,savePinImageUrl:l})}}},281213:function(e,t,i){i.d(t,{H:()=>c,W:()=>d});var s=i(667294),n=i(230201),o=i(213491),a=i(501010),r=i(785893);let{Provider:l,get:c}=(0,o.Z)("VideoPlayer");function d({children:e}){let{logContextEvent:t,logImpression:i}=(0,n.u)(),{checkExperiment:o}=(0,a.Z)(),[c,d]=(0,s.useState)(!1),[u,_]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[m,f]=(0,s.useState)({}),b=o("web_ads_mrc_video_impression").anyEnabled,g=e=>{f(t=>({...t,[e]:!0}))},v=(0,s.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");b&&(t||i)&&_(t=>[...t,e].slice(-1e3))}},[b]),y=(0,s.useCallback)(e=>{18===e.eventType&&b&&p(t=>[...t,e].slice(-1e3))},[b]);(0,s.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!b||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==u.length&&_(e)},[u,b,t,m]),(0,s.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&b){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&i(t),!1}return!0});e.length!==h.length&&p(e)},[h,b,i,m]);let w=(0,s.useMemo)(()=>({captionsEnabled:c,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:d,setVideoPlayed:g,videosPlayed:m}),[c,v,y,m]);return(0,r.jsx)(l,{value:w,children:e})}},726425:function(e,t,i){i.d(t,{C:()=>n,e:()=>s});let s=0,n=new Set(["/","/today"])},667389:function(e,t,i){i.d(t,{O:()=>u,Z:()=>_});var s=i(686659),n=i(667294),o=i(399353),a=i(24246),r=i(247387),l=i(785893);let c=(0,n.lazy)(()=>i.e("38647").then(i.bind(i,541583))),d={xs:12,sm:16,md:20,lg:24};function u({children:e}){(0,n.useEffect)(()=>{(0,s.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,a.Z)();return(0,l.jsx)(o.u,{dataTestId:"verified-badge-tooltip",link:(0,l.jsx)(o.rU,{href:r.vBy,target:"blank",children:(0,l.jsx)(o.xe,{color:"inverse",size:"100",weight:"bold",children:t.bt("Learn more", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("This retailer meets Pinterest's Merchant Guidelines", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function _({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:i,showText:r,size:_,inspirationalBadges:h,inspirationalBadgesColor:p}){(0,n.useEffect)(()=>{(0,s.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let m=(0,a.Z)(),[f,b]=(0,n.useState)(!1);if(i){let i=(0,l.jsxs)(o.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,l.jsx)(o.iP,{onTap:()=>b(!0),children:(0,l.jsx)(o.JO,{accessibilityLabel:m.bt("Merchant verification badge", "Merchant verification badge", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"circle-check-fill",inline:!0,size:d[_]})}),r&&(0,l.jsx)(o.xu,{marginStart:2,children:(0,l.jsx)(o.xe,{color:"default",inline:!0,weight:"bold",children:m.bt("Verified merchant", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,l.jsxs)(n.Fragment,{children:[e?i:(0,l.jsx)(u,{children:i}),!t&&!e&&f&&(0,l.jsx)(n.Suspense,{children:(0,l.jsx)(c,{inspirationalBadges:h,inspirationalBadgesColor:p,setShowModal:b,showModal:f})})]})}return t&&!i?(0,l.jsx)(o.JO,{accessibilityLabel:m.bt("Domain verification", "Domain verification", "domainVerification.badge.icon", undefined, true),color:"error",icon:"circle-check-fill",size:d[_]}):null}},179664:function(e,t,i){i.d(t,{W:()=>u,u:()=>d});var s=i(667294),n=i(213491),o=i(501010),a=i(38359);let r=(e,t)=>{let i=((e,t)=>{switch(t.type){case"SELECT_PIN":{let{pinData:i,pinId:s,useCaseId:n}=t.payload;return function({pinData:e,pinId:t,state:i,useCaseId:s}){let n=new Map(i.selectedUseCases),o=n.get(s)||{selectedPins:[],heroPin:null,backfillPins:[]},a={...e,pinId:t,selectedAt:Date.now()};return n.set(s,{...o,selectedPins:[...o.selectedPins,a]}),{...i,selectedUseCases:n}}({pinData:i,pinId:s,state:e,useCaseId:n})}case"DESELECT_PIN":{let{pinId:i,useCaseId:s}=t.payload;return function({pinId:e,state:t,useCaseId:i}){let s=new Map(t.selectedUseCases),n=s.get(i);return n&&s.set(i,{...n,selectedPins:n.selectedPins.filter(t=>t.pinId!==e)}),{...t,selectedUseCases:s}}({pinId:i,state:e,useCaseId:s})}case"SELECT_USE_CASE":{let{heroPin:i,useCaseId:s}=t.payload;return function({heroPin:e,state:t,useCaseId:i}){let s=new Map(t.selectedUseCases);return s.set(i,{selectedPins:[],heroPin:e,backfillPins:[]}),{...t,selectedUseCases:s}}({heroPin:i,state:e,useCaseId:s})}case"DESELECT_USE_CASE":{let{useCaseId:i}=t.payload;return function({state:e,useCaseId:t}){let i=new Map(e.selectedUseCases);return i.delete(t),{...e,selectedUseCases:i}}({state:e,useCaseId:i})}case"ADD_BACKFILL_PINS":{let{backfillPins:i,useCaseId:s}=t.payload;return function({backfillPins:e,state:t,useCaseId:i}){let s=new Map(t.selectedUseCases),n=s.get(i);return n&&s.set(i,{...n,backfillPins:[...e]}),{...t,selectedUseCases:s}}({backfillPins:i,state:e,useCaseId:s})}default:return e}})(e,t);return{...i,history:[...i.history||[],t]}};var l=i(785893);let{Provider:c,get:d}=(0,n.Z)("Nux");function u({children:e}){let[t,i]=(0,s.useState)([]),[n,d]=(0,s.useState)({}),[u,_]=(0,s.useState)(!1),{checkExperiment:h}=(0,o.Z)(),p=h("ap_dweb_nux_revamp_auto_pin_select",{dangerouslySkipActivation:!0}).anyEnabled,m={selectedUseCases:new Map,history:[]},[f,b]=(0,s.useReducer)(r,m),g=(0,s.useCallback)(()=>Array.from(f.selectedUseCases.values()).reduce((e,t)=>e+t.selectedPins.length,0),[f.selectedUseCases]),v=(0,s.useCallback)(e=>Array.from(f.selectedUseCases.entries()).reduce((t,[i,s])=>e&&i===e?t:t.concat(s.selectedPins),[]),[f.selectedUseCases]),y=(0,s.useCallback)(e=>v(e).map(e=>({url:e.imageMediumUrl,height:e.height,width:e.width})),[v]),w=(0,s.useCallback)(()=>{let e=[];for(let[t,i]of f.selectedUseCases){let s=i.selectedPins.map(e=>({1:e.pinId,2:"pin"}));e.push({1:t,2:s})}return e},[f.selectedUseCases]),E=(0,s.useCallback)(()=>f.selectedUseCases&&g()>=a.HZ,[g,f.selectedUseCases]),P=(0,s.useCallback)(()=>p?f.selectedUseCases.size>=a.BT:f.selectedUseCases.size>=a.Yt,[f.selectedUseCases,p]),A=(0,s.useMemo)(()=>({checkHasMetMinimumPinSelectionRequirement:E,checkHasMetMinimumUseCaseSelectionRequirement:P,getNuxSignals:w,getNumSelectedPins:g,getSelectedPinImageData:y,nuxSelectionsDispatch:b,nuxSelectionsState:f,selectedPins:n,selectedUseCases:t,setSelectedPins:d,setSelectedUseCases:i,setShouldUseNewReducerState:_,shouldUseNewReducerState:u}),[E,P,w,g,y,b,f,n,t,d,i,_,u]);return(0,l.jsx)(c,{value:A,children:e})}},44849:function(e,t,i){i.d(t,{Z:()=>s});function s(e,t,i,n=!1,o){return{privacy_filter:t?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:n,filter_types:o}}},830949:function(e,t,i){i.d(t,{Z:()=>s});let s=(e,t,i)=>`${e}:${t||""}:${i||""}`},158502:function(e,t,i){i.d(t,{O:()=>r,Q:()=>l});var s=i(660322),n=i(830949),o=i(779686);let a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],r={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:i,username:s,privacyFilter:n="all",filterAllPins:o=!1,includeArchived:a=!0},r)=>({privacy_filter:n,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:s,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:a,redux_normalize_feed:!0,filter_all_pins:o,...r?{orbac_subject_id:r}:Object.freeze({})})},l=e=>a.reduce((t,i)=>{let a=[(0,o.N8)("profileBoards",(0,n.Z)(e,i))];return[!0,!1].forEach(t=>{[!0,!1].forEach(n=>{a.push((0,s.jB)(r.name,r.options({username:e,boardOrder:i,mixPublicSecret:t,filterStories:n})))})}),t.concat(a)},[])},160587:function(e,t,i){i.d(t,{Br:()=>u,Cr:()=>g,K8:()=>m,L1:()=>A,YQ:()=>P,ZP:()=>v,aX:()=>y,eo:()=>h,md:()=>_,oG:()=>p,oL:()=>w,of:()=>f,xQ:()=>b,xR:()=>E,yT:()=>d});var s=i(27399),n=i(249459),o=i(47755),a=i(233597),r=i(660322),l=i(44849),c=i(158502);function d(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function u(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function h({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:s}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:s}}}let p=(e,t)=>i=>i((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function m(e){return t=>{e&&(0,c.Q)(e).forEach(e=>{t(e)})}}let f=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),b=e=>p(e,"pin_count"),g=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),v=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function y(e,t,i){let o={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>s.Z.create("BoardResource",o).callCreate().then(i=>{let s=i.resource_response.data;return e(t&&(0,r.jB)("BoardsResource",(0,l.Z)(t,!1))),s})}function w(e={},t,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:i}}let E=(e,t,i)=>async n=>{n({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}});let o=await s.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return o.resource_response.error||i({event_type:29,object_id_str:e}),o},P=(e,t,i,n,a,r)=>async l=>{l({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:n?.id??"",viewingUser:i}});try{let i=n?.id??"";("accepted"===t?await (0,o.Z)({url:"/v3/boards/{board}/collaborators/{collaborator_ids}/",urlParams:{board:e,collaborator_ids:i},method:"DELETE",data:{...r?{orbac_subject_id:r}:{}}}):await s.Z.create("BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:i,...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||a({event_type:"accepted"===t?25:29,object_id_str:e})}catch(s){l({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:i,status:t,collaboratingUsers:[n]}})}},A=(e,t,i,n)=>o=>{let a=s.Z.create("BoardResource",{board_id:i}).callDelete();return o(h({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n})),a}},779686:function(e,t,i){function s(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>a,N8:()=>n,Qv:()=>o,_f:()=>s,vX:()=>r});let o=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},512324:function(e,t,i){i.d(t,{Z:()=>_});var s=i(686659),n=i(667294),o=i(399353),a=i(924591),r=i(24246),l=i(661376),c=i(739405),d=i(785893);function u({ideaPinImages:e}){(0,n.useEffect)(()=>{(0,s.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,d.jsx)(o.xu,{borderColor:"decorative",borderWidth:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:200,width:28,children:e?.url&&(0,d.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,d.jsx)(o.kC,{justifyContent:"center",children:(0,d.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function _({handleHide:e,text:t,userId:i,href:_,imageUrl:h}){(0,n.useEffect)(()=>{(0,s.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let p=(0,r.Z)(),m=(0,c.HG)(),f=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),b=Array.isArray(t)?t.join(" "):t;if(0===(f.data||[]).length)return(0,d.jsx)(a.Z,{duration:5e3,href:_,onHide:e,text:b,thumbnail:h?{image:(0,d.jsx)(o.Ee,{alt:p.bt("Image of who you followed", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:h})}:void 0});let g=(f.data||[]).slice(0,3).map(e=>e.images?.[m?"236x":"170x"]),v=(0,d.jsx)(u,{ideaPinImages:g});return(0,d.jsx)(a.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:_,onHide:e,text:b})}},653015:function(e,t,i){i.d(t,{Z:()=>n,u:()=>s});let s="HIDDEN_ON_SERVER_ERROR",n=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(s)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/49300.en_GB-10a8553561c4f3ae.mjs.map