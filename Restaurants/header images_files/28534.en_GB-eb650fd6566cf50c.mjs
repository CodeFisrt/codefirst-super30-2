(self.modernJsonp=self.modernJsonp||[]).push([["28534"],{452391:function(e,t,n){n.d(t,{BW:()=>w,Cj:()=>v,Cp:()=>f,G1:()=>y,Lp:()=>G,TG:()=>F,Wd:()=>b,ZP:()=>W,cT:()=>L,cY:()=>C,hA:()=>H,ln:()=>x,mQ:()=>P,ml:()=>B,p:()=>Z,tX:()=>M,tt:()=>g,xw:()=>Y});var r=n(399353),a=n(872103),i=n(792323);let s=new r.Ry(10),o=new r.H3([s]),l=new r.H3([o]),_=new r.H3([l]),E=new r.H3([_]),d=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),T={[d.AGE_18_20]:2,[d.AGE_21_24]:3,[d.AGE_25_34]:4,[d.AGE_35_44]:5,[d.AGE_45_49]:6,[d.AGE_50_54]:7,[d.AGE_55_64]:8,[d.AGE_65_PLUS]:9,AGE_UNSUPORTED:10},c=i.Z.ONE_MONTH,u={[i.Z.ONE_WEEK]:a.Z.DAILY,[i.Z.ONE_MONTH]:a.Z.DAILY,[i.Z.THREE_MONTH]:a.Z.WEEKLY,[i.Z.SIX_MONTH]:a.Z.WEEKLY,[i.Z.ONE_YEAR]:a.Z.WEEKLY},p=Object.freeze({DETAIL:"/detail/",HOME:"/"}),A={[i.Z.ONE_WEEK]:1,[i.Z.ONE_MONTH]:2,[i.Z.THREE_MONTH]:3,[i.Z.SIX_MONTH]:4,[i.Z.ONE_YEAR]:5},R={[i.Z.ONE_WEEK]:7,[i.Z.ONE_MONTH]:30,[i.Z.THREE_MONTH]:90,[i.Z.SIX_MONTH]:180,[i.Z.ONE_YEAR]:365,[i.Z.TWO_YEAR]:730},m={MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"},S={...m,UNSPECIFIED:"unknown"},I={[m.MALE]:0,[m.FEMALE]:1,[m.UNSPECIFIED]:2},N={TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"},O=Object.freeze({[N.TOP_TRENDS_INTERNAL]:"Top Trends",[N.GROWING_TRENDS_INTERNAL]:"Growing Trends",[N.BREAKOUT_TRENDS_INTERNAL]:"Breakout Trends"}),D={[N.TOP_MONTHLY_TRENDS]:"Top Monthly Trends",[N.TOP_YEARLY_TRENDS]:"Top Yearly Trends",[N.GROWING_TRENDS]:"Growing Trends",[N.SEASONAL_TRENDS]:"Seasonal Trends"},L=Object.freeze({L1:1,L2:2,L3:3}),g=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),f=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),h=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),P=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),C="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",M=`https://trends.pinterest.com${p.DETAIL}`,y="conversion-trends-default-tour-id",b="conversion-trends-fre-modal-tour-id",U=Object.freeze([i.Z.ONE_MONTH,i.Z.ONE_YEAR,i.Z.THREE_MONTH,i.Z.ONE_MONTH]),v="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",G="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",w={p100Banner:"https://i.pinimg.com/originals/45/12/ef/4512ef5659332bd6b6d33b523636fcb9.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},H="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",Z=444,F="ads_interest_resource",Y=["conversions","brandAwareness","consideration"],B=10,x=91,W={PAGES:p,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:s,Z_INDEX_TRENDS_FEEDBACK_BUTTON:o,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:l,Z_INDEX_TRENDS_SEARCH_FORM:_,Z_INDEX_TRENDS_TOOLTIP:E,DEPRECATED_GESTALT_COLORS_HEX_VALUES:{red:"var(--base-color-red-300)",white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"},MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,DESKTOP_MOMENT_PREDICTION_CHART_HEIGHT:440,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166,EXTERNAL_FILTER_BAR_WIDTH:225},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:m,GENDER_MP:S,GENDER_TO_THRIFT_CONST:I,AGE_BUCKETS:d,AGE_TO_THRIFT_CONST:T,THRIFT_TO_AGE_CONST:{2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"},THRIFT_TO_GENDER_CONST:{0:"male",1:"female",2:"unknown"},LOOK_BACK_WINDOW:i.Z,LOOK_BACK_WINDOW_DEFAULT:c,LOOK_BACK_WINDOW_TO_THRIFT_CONST:A,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:u,LOOK_BACK_WINDOW_TO_DAYS:R,TRENDS_TYPES:N,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:O,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:D,URL_PARAM_BOOLEAN_VALUES:{TRUE:"true",FALSE:"false"},SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:U,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom",IN:"India",AU:"Australia"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:`
`,COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",MOMENT_IMAGE_CARD_SIZE:"70x70",PERSONALIZED_TREND_TYPES:h,PREDICTION_SUPPORTED_COUNTRIES:["US"],MOMENT_PREDICTION_LOOKBACK_DAYS:730,MILLISECONDS_PER_DAY:864e5}},879233:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(667294).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:()=>{},closeUpsellUnauthModal:()=>{}})},872103:function(e,t,n){n.d(t,{Z:()=>r});let r=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4})},357966:function(e,t,n){n.d(t,{D9:()=>u,J5:()=>c,QT:()=>m,kc:()=>A,nc:()=>R,pV:()=>T,y1:()=>p});var r=n(667294),a=n(312048),i=n(325476),s=n(879233),o=n(357045),l=n(230201),_=n(935059),E=n(774838),d=n(893957);let T=()=>{let e=(0,a.TH)();return(0,r.useMemo)(()=>new URLSearchParams(e.search).get("country")||"US",[e])},c=e=>{let t=(0,a.TH)(),{isInternalIP:n}=(0,E.B)(),{logContextEvent:r}=(0,l.u)(),s=new URLSearchParams(t.search);(0,d.Z)(()=>{Object.values(o.Z.URL_PARAM_UTM_VALUES).some(e=>null!==s.get(String(e)))&&r({event_type:13,view_type:e,aux_data:{release_version:2,is_internal_ip:n,...Object.values(o.Z.URL_PARAM_UTM_VALUES).reduce((e,t)=>(e[String(t)]=s.get(String(t)),e),{})}})}),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,i.Z)(o.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},u=e=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t.current=e},[e]),t.current},p=(e,t)=>{let n=(0,r.useRef)(void 0),a=()=>{n.current&&clearTimeout(n.current)};return(0,r.useEffect)(()=>a,[]),r=>{a(),n.current=setTimeout(()=>{e(r)},t)}},A=(e,t="0px")=>{let[n,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let n=new IntersectionObserver(([e])=>{a(e.isIntersecting)},{rootMargin:t});return e.current?(n.observe(e.current),()=>{n.disconnect()}):()=>{}},[]),n};function R(){return(0,r.use)(s.Z)}let m=()=>{let e=(0,_.Z)(),t=(0,E.B)();return t.advertiser?t.advertiser.owner_user_id:e.isAuth&&e.id||""}},325476:function(e,t,n){n.d(t,{Z:()=>l});var r=n(667294),a=n(312048),i=n(698553),s=n(925201),o=n(341687);let l=function(e,t,n){let l=(0,a.s0)(),{search:_,pathname:E="/"}=(0,a.TH)(),d=(0,r.useMemo)(()=>new URLSearchParams(_),[_]),T=r=>{let a="reset"!==t?(0,o.Z)(window.location.search):{},_=(0,i.Km)({..."resetWithoutRefresh"===t?{}:a,[e]:r});if(!t)return;let d=n?`${n}`:E,T=(0,s.Z)(d,{..._});("push"===t||"resetWithoutRefresh"===t)&&l(T),"replace"===t&&l(T,{replace:!0}),"reset"===t&&(window.location.href=T),"replaceWithoutRefresh"===t&&a[e]!==r&&window.history.replaceState(null,"",T)};return function(t){"function"==typeof t?T(t((0,i.AY)(d.get(e)))):T(t)}}},792323:function(e,t,n){n.d(t,{Z:()=>r});let r=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D",TWO_YEAR:"730D"})},398839:function(e,t,n){n.d(t,{Y:()=>a});var r=n(452391);let a=["US","CA","IT+ES+PT+GR+MT","IT","ES","DE+AT+CH","DE","GB+IE","FR","SE+DK+FI+NO","NL+BE+LU","PL+RO+HU+SK+CZ","MX+AR+CO+CL","CO","AR","MX","BR","AU+NZ","JP","ID","IN","MY","PH","TH","SA","EG","TR","KR","AE+SA+KW+QA+OM+BH+EG+IQ+DZ","IL+NG+PK+ZA+TR+MA+IN","CR+DO+EC+GT+PE","CY+CZ+GR+HU+MT+PL+RO+SK"];r.ZP.FILTER_INTEREST_IDS_PARAM_KEY,r.ZP.FILTER_AGE_IDS_PARAM_KEY,r.ZP.FILTER_GENDERS_PARAM_KEY},357045:function(e,t,n){n.d(t,{Z:()=>r});let r=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",EDITORIAL_INDEX:"editorial",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",HAS_PREDICTIONS:"hasPredictions",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"}),EVENT:"event",GRAPH_EVENT:"graphEvent",PRODUCT_CATEGORIES:"product_categories",PAGE_NUMBER:"page",TOPIC_INTEREST_IDS:"topicInterestIds",PARENT_PRODUCT_CATEGORY:"parentProductCategory",SHOW_SIDE_NAV:"showSideNav",VIEW:"view",TAB:"tab",SHOW_UNAUTH_MODAL:"showUnauthModal",NEXT_URL:"nextUrl"})},698553:function(e,t,n){n.d(t,{$X:()=>d,AY:()=>S,BC:()=>w,Km:()=>A,Lp:()=>f,Nh:()=>h,Rf:()=>v,Sy:()=>u,X6:()=>o,XN:()=>G,Xb:()=>P,Xy:()=>E,Ye:()=>R,ZB:()=>D,ZQ:()=>C,_S:()=>y,_j:()=>l,d2:()=>M,dV:()=>m,g9:()=>c,hm:()=>_,iF:()=>N,k2:()=>I,oH:()=>g,qA:()=>p,qn:()=>T,sR:()=>s,tB:()=>L});var r=n(452391),a=n(398839),i=n(415919);n(739614);let s=(e,t,n,r=!1)=>(e.lineChartData=[...e.lineChartData,{x:t,y:n.count}],e.lineChartNormalizedData=[...e.lineChartNormalizedData,{x:t,y:n.normalizedCount}],r&&(e.areaChartData=[...e.areaChartData??[],{x:t,y:n.predictedUpperBoundCount,y0:n.predictedLowerBoundCount}],e.areaChartNormalizedData=[...e.areaChartNormalizedData??[],{x:t,y:n.predictedUpperBoundNormalizedCount,y0:n.predictedLowerBoundNormalizedCount}]),e),o=(e,t)=>(0,i.f)(new Date(e),t),l=(e,t)=>new Date(e).toLocaleDateString(t,{year:"numeric",month:"numeric",day:"numeric",timeZone:"UTC"}),_=(e,t)=>e||![3,4].includes(t),E=e=>!e||0===e.length,d=e=>E(e)?"":`${e}`.replace(/\D/g,"");function T(e,t){return Math.round(e*10**t)/10}let c=e=>e.join(r.ZP.PLUS_ICON),u=e=>e&&""!==e?e.split(r.ZP.PLUS_ICON):[],p=e=>{for(let t of r.ZP.DEPRECATED_COLOR_VALUES)if(!e.includes(t))return t;return r.ZP.DEPRECATED_COLOR_VALUES["0"]},A=e=>{let t={};for(let n in e){let r=e[n];null!==n&&""!==n.trim()&&null!=r&&""!==r.toString().trim()&&(t[n]=r)}return t},R=e=>e&&e!==r.ZP.ALL?e.split(r.ZP.URL_JOIN_SIGN):void 0,m=(e,t,n)=>e?[...e].sort((e,a)=>{let i=(e,n)=>t===r.ZP.SORT_ORDER.ASC?e-n:n-e;return n===r.ZP.SORT_BY.TOTAL_SEARCH?i(e.searchCount,a.searchCount):n===r.ZP.SORT_BY.WEEKLY_CHANGE?i(e.wow_change.index,a.wow_change.index):n===r.ZP.SORT_BY.MONTHLY_CHANGE?i(e.mom_change.index,a.mom_change.index):n===r.ZP.SORT_BY.YEARLY_CHANGE?i(e.yoy_change.index,a.yoy_change.index):i(e.reverseRank,a.reverseRank)}):[],S=e=>e&&null!=e&&/^\d+$/.test(e.toString())?parseInt(e.toString(),10):e,I=e=>e>=r.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?r.ZP.SEASONALITY_SCORE_THRESHOLD:r.ZP.SEASONALITY_SCORE_OLD_THRESHOLD,N=(e,t)=>a.Y.includes(e)?t[e]:void 0,O=(e,t)=>e>=I(t)?"Yes":"",D=({keywordsToInclude:e,keywordsToExclude:t,ageBucket:n,gender:a,lookbackWindow:i,seasonal:s,rankingMethod:o,searchParams:l,nonUrlParams:_,tableData:E})=>{let d=R(e)||[r.ZP.EXPORT_ALL],T=R(t)||[r.ZP.EXPORT_NONE],c=R(a)||[r.ZP.EXPORT_ALL],u=R(n)||[r.ZP.EXPORT_ALL],p=i&&i in r.ZP.LOOK_BACK_WINDOW_TO_DAYS?i:r.ZP.LOOK_BACK_WINDOW_DEFAULT,A=r.ZP.LOOK_BACK_WINDOW_TO_DAYS[p],m=Array.isArray(_?.checkedTerms)&&_?.checkedTerms?.length>0?_.checkedTerms.map(e=>{let t=E?.find(t=>e===t.term);return t?{trend:t?.term,totalSearches:t?.total_count.toString(),weeklyChange:t?.wow_change.value.toString(),monthlyChange:t?.mom_change.value.toString(),yearlyChange:t?.yoy_change.value.toString(),isSeasonal:O(t?.seasonality_score??0,l.dateRange.endDate)}:null}).filter(e=>null!==e):E?.map(e=>({trend:e.term,totalSearches:e.total_count.toString(),weeklyChange:e.wow_change.value.toString(),monthlyChange:e.mom_change.value.toString(),yearlyChange:e.yoy_change.value.toString(),isSeasonal:O(e.seasonality_score,l.dateRange.endDate)}))??[];return{dateRangeDate:l.dateRange.endDate,dateRangeDaysBefore:A.toString(),interests:r.ZP.CONCATENATED_INTERESTS_PARAM_KEY in _&&_[r.ZP.CONCATENATED_INTERESTS_PARAM_KEY]?_[r.ZP.CONCATENATED_INTERESTS_PARAM_KEY]:r.ZP.EXPORT_ALL,includeKeywords:d.join(", "),excludeKeywords:T.join(", "),ages:u.join(", "),genders:c.join(", "),seasonalOnly:s===r.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:o in r.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS?r.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[o]:"",selectedTrends:m}},L=()=>{let e=window.open("http://example.com/waiting.html","_blank");return e?.document.write(`<h4>${r.ZP.EXPORT_MESSAGE_HEADER}</h4><p>${r.ZP.EXPORT_MESSAGE}</p>`),e},g=e=>E(e)||"all"===e?"":e.split(r.ZP.URL_JOIN_SIGN).join(", "),f=(e,t)=>{if(!E(e)){let n={[r.ZP.GENDER.FEMALE]:t.bt("Female", "Female", "trends.filter.gender.female", undefined, true),[r.ZP.GENDER.MALE]:t.bt("Male", "Male", "trends.filter.gender.male", undefined, true),[r.ZP.GENDER.UNSPECIFIED]:t.bt("Unspecified", "Unspecified", "trends.filter.gender.unspecified", undefined, true)};return e.split(r.ZP.URL_JOIN_SIGN).map(e=>n[e]).join(", ")}return""},h=e=>E(e)||"all"===e?0:e.split(r.ZP.URL_JOIN_SIGN).length,P=e=>Object.entries(e).reduce((e,[t,n])=>(Array.isArray(n)&&(e[t]=n.map(e=>({images:{"474x":{height:0,width:0,url:e}}}))),e),{}),C=(e,t)=>{let n=[...e.results?.terms||[]].sort((e,t)=>t.affinity-e.affinity);return void 0!==t&&t>0?n.filter(e=>e.affinity>=t):n},M=(e,t,n=!1)=>!(null==e||0===e.trim().length||(n?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==t&&e.trim().length<t),y="000000000000000000",b=/^[A-z0-9]{18}$/,U=/\b([A-z0-9]{18})\b/,v=e=>b.test(e)&&e.substr(15)===(e=>{let t,n="";for(let r=0;r<3;r+=1){t=0;for(let n=0;n<5;n+=1){let a=e.substring(5*r+n,5*r+n+1);a.toUpperCase()===a&&a>="A"&&a<="Z"&&(t+=1<<n)}t<=25?n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(t,t+1):n+="012345".substring(t-26,t-25)}return n})(e.substr(0,15))&&"006"===e.slice(0,3)||e===y,G=e=>{if(e.length<18)return e;let t=e.match(U);return t&&t[0]?t[0]:e},w=(e,t=0)=>{e.current?.scrollIntoView(),window.scrollBy(0,-t)}},437993:function(e,t,n){n.d(t,{$A:()=>S,B4:()=>I,N0:()=>D,N3:()=>N,VK:()=>m,_J:()=>O,mW:()=>R});var r=n(686659),a=n(667294),i=n(360033),s=n(160927),o=n(767415),l=n(785893);let _={},E={},d={},T=!1,c=0,u={},p={},A=(0,a.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,setGroupTags:()=>void 0,commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function R({children:e}){(0,a.useEffect)(()=>{(0,r.Z)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let t=(0,a.useRef)(!1),n=(0,a.useCallback)(({handlerId:e,componentId:t,uniqueId:n,metric:r})=>{_[e]||(_[e]={}),_[e][t]||(_[e][t]={}),_[e][t][n]=r},[]),s=(0,a.useCallback)(({handlerId:e,componentId:t,uniqueId:n,rawData:r})=>{d[e]||(d[e]={}),d[e][t]||(d[e][t]={}),d[e][t][n]||(d[e][t][n]=[]),d[e][t][n].push(r)},[]),o=(0,a.useCallback)(({id:e,path:t,fragmentName:n,executionTime:r,newData:a})=>{if(T)return;let s=`${n}.${e}`;E[t]||(E[t]={}),E[t][s]||(E[t][s]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let o=E[t][s];(0,i.ZP)(a,o.previousData)?(o.wastedTime+=r,c+=r):o.resultUpdatedCount+=1,o.totalRenderTime+=r,o.renderCount+=1,o.previousData=a},[]),R=(0,a.useCallback)((e,t)=>{let n=`${Math.floor(e)}`;u[n]?u[n].push(t):u[n]=[t]},[]),m=(0,a.useCallback)((e,t)=>{p[e]=[...new Set(t)]},[]),S=(0,a.useMemo)(()=>({setMetric:n,setRawData:s,setRmaData:o,updateCommitTimeMap:R,setGroupTags:m,commitTimeMap:u,wasHealthCheckFiredRef:t}),[n,o,s,R,t,m]);return(0,l.jsx)(A,{value:S,children:e})}function m(){return(0,a.use)(A)}function S(e){let t={},n=function(){let e=Object.keys(u),t=e.length,n=e.sort().slice(0,t),r={};return n.forEach(e=>{let t=u[e];if(!t)return;let n=t.sort((e,t)=>e.startTime-t.startTime);for(let e=0;e<n.length;e+=1){let t=n[e],a=n[e+1];if(t&&a){let{startTime:e,id:n,uniqueId:i,actualDuration:s}=t,{startTime:o}=a,l=o<e+s?o-e:s;r[n]||(r[n]={}),r[n][i]||(r[n][i]=0),r[n][i]+=l}else if(t){let{actualDuration:e,id:n,uniqueId:a}=t;r[n]||(r[n]={}),r[n][a]||(r[n][a]=0),r[n][a]+=e}}}),r}();return Object.keys(n).forEach(r=>{Object.keys(_[e]?.[r]??{}).forEach(a=>{let i=(0,s.v5)(r,a),o=n[r]?.[a],l=_[e]?.[r]?.[a];if(!o||!l)return;let E=l.mountTime??0,d=l.mountCount??0,T=l.updatesCount??0,c=Number(o.toFixed(2)),u=Number((E+c).toFixed(2)),A=T>0?Number((c/T).toFixed(2)):0,R=l.memoizationDeltaArray??[],m=Math.max(...R),S=R.reduce((e,t)=>e+t,0)/R.length,I=l.memoizationRatioArray??[],N=Math.max(...I),O=I.reduce((e,t)=>e+t,0)/I.length,D={...l,totalCount:d+T,totalTiming:u,updatesCount:T,updateTiming:c,averageUpdateTiming:A,maxMemoizationDelta:m,averageMemoizationDelta:S,maxMemoizationRatio:N,averageMemoizationRatio:O};t[r]||(t[r]={}),t[r][a]={groupTags:p[i]??[],metrics:D}})}),t}function I(e){return d[e]}function N(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function O(e){let t=E[e],n={};T=!0,t&&Object.keys(t).length&&N(e)&&(Object.entries(t).forEach(([e,t])=>{let[r]=e.split(".");r&&!n[r]&&(n[r]=!0,(0,o.QX)(`render_stats.rma.${r}.renderCount`,t.renderCount,{sampleRate:1}),(0,o.QX)(`render_stats.rma.${r}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${r}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${r}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,o.LY)("render_stats.rma.totalWastedTime",c,{sampleRate:1,tags:{path:e}}))}function D(){_={},E={},d={},u={},T=!1,c=0}},415919:function(e,t,n){n.d(t,{f:()=>r,i:()=>a});let r=(e,t)=>e.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}),a=(e,t)=>r(new Date(e),t)},589172:function(e,t,n){n.d(t,{Z:()=>a});var r=n(501010);function a(e){let{expName:t,anyEnabled:n,group:a}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:n}=e,r=n("web_masonry_v2",{dangerouslySkipActivation:t});return r.group?{expName:"web_masonry_v2",...r}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,r.Z)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:n,group:a,isMeasureAllEnabled:"enabled_measure_all"===a||"enabled_measure_all_impression_fix"===a,isImpressionFixEnabled:"control_impression_fix"===a||"enabled_impression_fix"===a||"enabled_measure_all_impression_fix"===a}}},79271:function(e,t,n){n.d(t,{Fw:()=>S,OC:()=>p,ZP:()=>m});var r=n(667294),a=n(230201),i=n(589172),s=n(609252),o=n(774838),l=n(739405),_=n(281213),E=n(358198),d=n(2061),T=n(767415),c=n(177433);let u=0,p=()=>u,A={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},R=({events:e,startTime:t,endTime:n})=>e?.filter(e=>e>=t&&e<=n)||[];function m({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:p,contextLogData:m,clientTrackingParams:S,duploShouldTrackPinEvents:I,elementType:N,impressionAuxFields:O,inImpressionExp:D,impressionType:L,impressionsFramework:g,isPaused:f,loggingId:h,objectIdStr:P,slotIndex:C,trackCarousel:M,viewData:y,viewParameter:b,viewType:U,isPromoted:v,storyPinProductEventData:G}){let{logContextEvent:w}=(0,a.u)(),{logMrcVideoAdEventOnPlay:H}=(0,_.H)(),{addImpression:Z}=(0,E.WW)()||{},{logStat:F}=(0,d.Yg)(),Y=g||s.Z,B=(0,r.useRef)(null),x=(0,r.useRef)(e=>{});x.current=r=>{let a=A[L],i=a.idType,s={clientTrackingParams:S,endTime:r.endTime,[i]:h,slotIndex:C,time:r.startTime,renderDuration:r.endTime-r.startTime,type:t,...O,forcedExit:"removed"===r.forcedExit?0:void 0};if("Pin"===L){u+=1;let e=[],t=r.visibleEvents||new Map,n=r.hiddenEvents||new Map;(O&&O.isPromoted||v)&&[1,50,80,2,102].forEach(a=>{let i=R({events:t.get(a),startTime:r.startTime,endTime:r.endTime}),s=R({events:n.get(a),startTime:r.startTime,endTime:r.endTime});i.forEach(t=>{e.push({type:a,time:t||0,visible:!0})}),s.forEach(t=>{e.push({type:a,time:t||0,visible:!1})})}),s={...s,pinCellWidth:r.pinCellWidth||0,pinCellHeight:r.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},O?.nearDupSignature&&Z&&p&&[13007,13176,68].includes(p)&&Z(O.nearDupSignature)}let o={component:p,object_id_str:P,view_type:U,view_data:y||{},view_parameter:b};if(M)e&&M&&w({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...o,aux_data:{...m}});else{let e={clientTrackingParams:S,event_type:a.eventType,...o,element:N,event_data:{[a.impressionType]:"Story"===L?s:[s],...G?{storyPinProductEventData:G}:{}},aux_data:{closeup_navigation_type:n,...m}};w(e),H(e)}I&&F("log_pin_impression")};let{expName:W,group:k}=(0,i.Z)({skipActivation:!0}),K=(0,l.ZP)(),j=(0,c.Zv)(),{isAuthenticated:V}=(0,o.B)(),X=(0,r.useCallback)(()=>{let e=!1;try{let{current:t}=B;if(t instanceof HTMLElement&&(!v||t.getElementsByTagName("img").length>0)){let n=Y.start(t);n.onExitViewport(x.current).setDebugId(h||"unknown"),I&&n.onEnterViewport(()=>{F("log_pin_impression_track_enter_viewport")}),e=!0,k&&(0,T.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:K,experimentName:W,group:k,handlerId:j,isAuthenticated:V,slotIndex:C??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}I&&F("log_pin_impression_track",{didStartTracking:e})},[B.current]);return(0,r.useEffect)(()=>(D&&!Y.inExperiment&&Y.setExperimentStatus(!0),f||X(),()=>{let{current:e}=B;e instanceof HTMLElement&&(!v||e.getElementsByTagName("img").length>0)&&Y.stop(e)}),[f,X]),B}let S=({children:e,...t})=>e({impressionTrackerRef:m(t)})},138482:function(e,t,n){n.d(t,{Z:()=>i});var r=n(312048);let a=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/predicts2026","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-lens-image-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function i(e){return!!(0,r.LX)({path:"/:username/",end:!0},e.pathname)&&!a.includes(e.pathname.replace(/\/$/,""))}},160927:function(e,t,n){function r(e,t){return`${e}#${t}`}function a(e,t,n){return`${r(e,t)}${n.length>0?`#[${n.join("][")}]`:""}`}n.d(t,{pp:()=>a,v5:()=>r})},986523:function(e,t,n){n.d(t,{Z:()=>o});var r=n(667294);let a=()=>()=>{},i=()=>!1,s=()=>!0,o=()=>(0,r.useSyncExternalStore)(a,i,s)},739614:function(e,t,n){n.d(t,{$R:()=>m,Gd:()=>E,I3:()=>O,Kr:()=>l,MJ:()=>D,MP:()=>T,Mm:()=>r,OV:()=>o,Tp:()=>c,YB:()=>a,bA:()=>p,c3:()=>I,h0:()=>i,js:()=>s,kr:()=>N,lc:()=>A,mU:()=>R,nt:()=>S,nv:()=>d,rb:()=>_,wt:()=>u});let r=",",a="-",i=`
`,s="/",o=", ",l=["brandAwareness","consideration","videoViews"],_="Product | Media Planning Tool",E="http://pinch/mediaplanningpod",d="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",T="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",c=Object.freeze({UTM_SOURCE:"utm_source"}),u={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},p={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},A="PUBLISHED",R="UNPUBLISHED",m={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},S=1000535,I=506009,N="gpt-4o",O="/internal/planning_hub/gpt/",D="POST"},37318:function(e,t,n){n.d(t,{Z:()=>E});var r=n(686659),a=n(667294),i=n(581722),s=n(338065),o=n(680717),l=n(157498),_=n(785893);function E({user:e,invertColors:t,isSecondaryButton:n,onTap:E,size:d,viewParameter:T,viewType:c}){(0,a.useEffect)(()=>{(0,r.Z)("FollowButtonController","/app/www/FollowButtonController.tsx")},[]);let u=(0,i.I0)(),{id:p}=e??{id:""},A=(0,l.dM)(),R=A[p]?A[p].explicitly_followed_by_me:e?.explicitly_followed_by_me;return(0,_.jsx)(s.Z,{followEventType:45,id:p,invertColors:t,isFollowed:R,isSecondaryButton:n,isUserFollowButton:!0,onFollow:()=>{u((0,o.ZN)(p)),E&&E()},onUnfollow:()=>{u((0,o.fv)(p)),E&&E()},pinKey:null,size:d,unfollowEventType:46,viewParameter:T,viewType:c})}},358198:function(e,t,n){n.d(t,{BW:()=>p,WW:()=>c});var r=n(686659),a=n(667294),i=n(357966),s=n(15881),o=n(213491),l=n(501010),_=n(418282),E=n(767415),d=n(785893);let{Provider:T,getMaybe:c}=(0,o.Z)("CloseupNearDupSigsTracker"),u=({group:e,children:t})=>{(0,a.useEffect)(()=>{(0,r.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let n=(0,_.Nl)(),o=(0,a.useRef)([]),l=(0,a.useRef)(new Set),c=(0,a.useRef)([]),u=(0,a.useRef)(new Set),p=(0,a.useRef)([null,[]]),A=(0,a.useMemo)(()=>{switch(e){case"enabled_10":return 10;case"enabled_20":return 20;default:return 35}},[e]),R=(0,i.y1)(()=>{"enabled_skip_sync"!==e&&(n.setItem(s.S4,o.current),n.setItem(s.yb,c.current))},500),m=(0,a.useCallback)(()=>{if("enabled_skip_sync"===e)return;let t=Date.now(),r=n.getItem(s.S4),a=n.getItem(s.yb);if(r)try{Array.isArray(r)&&r.every(e=>"string"==typeof e)&&(o.current=r.slice(-5),l.current=new Set(o.current))}catch(e){(0,E.nP)("closeup_page.near_dup.session_storage_sync.closeup.fail",{sampleRate:1})}if(a)try{Array.isArray(a)&&a.every(e=>"string"==typeof e)&&(c.current=a.slice(-A),u.current=new Set(c.current))}catch(e){(0,E.nP)("closeup_page.near_dup.session_storage_sync.impression.fail",{sampleRate:1})}(0,E.LY)("closeup_page.near_dup.session_storage_sync.success",Date.now()-t,{sampleRate:.1,tags:{status:"success"}})},[o,c,n,e,A]),S=(0,a.useCallback)(e=>{if(u.current.has(e)&&(c.current=c.current.filter(t=>t!==e)),c.current.length>=A){let e=c.current.shift();e&&u.current.delete(e)}u.current.add(e),c.current.push(e)},[A]),I=(0,a.useCallback)(e=>{if(l.current.has(e)&&(o.current=o.current.filter(t=>t!==e)),o.current.length>=5){let e=o.current.shift();e&&l.current.delete(e)}l.current.add(e),o.current.push(e),R()},[R]),N=(0,a.useCallback)(e=>{let[t,n]=p.current;if(t===e)return n;0===o.current.length&&0===c.current.length&&m();let r=Array.from(new Set([...c.current,...o.current]));return p.current=[e,r],r},[m]);(0,a.useEffect)(()=>R,[R]);let O=(0,a.useMemo)(()=>({addImpression:S,addCloseup:I,getTrackedNearDupSigs:N}),[S,I,N]);return(0,d.jsx)(T,{value:O,children:t})},p=({children:e})=>{(0,a.useEffect)(()=>{(0,r.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let{checkExperiment:t}=(0,l.Z)(),{anyEnabled:n,group:i}=t("web_closeup_rabbit_hole_dedup");return n&&i?(0,d.jsx)(u,{group:i,children:e}):(0,d.jsx)(T,{value:void 0,children:e})}},2061:function(e,t,n){n.d(t,{Yg:()=>l,ib:()=>E,nF:()=>T,xX:()=>d});var r=n(501010),a=n(774838),i=n(739405),s=n(767415);let o=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,n)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...n}})}},l=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,i.HG)(),{checkExperiment:n}=(0,r.Z)();return e&&!t?o({checkExperiment:n}):{logStat:()=>{}}},_=0,E=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:n}=o({checkExperiment:e});(_+=1)<10&&n(`repin_${_}`)};function d({checkExperiment:e,isDesktop:t,isAuthenticated:n}){if(!n)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1}}{let{anyEnabled:t,group:n}=e("auth_mweb_graphql_pin_page");switch(n){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!0};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!0};case"enabled_prefetch_closeup_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!0,isPartOfExperiment:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,shouldPrefetchCloseupPreviewFragment:!1,isPartOfExperiment:!1}}}}function T(){let{checkExperiment:e}=(0,r.Z)(),t=(0,i.HG)(),{isAuthenticated:n}=(0,a.B)();return d({checkExperiment:e,isDesktop:t,isAuthenticated:n})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/28534.en_GB-eb650fd6566cf50c.mjs.map